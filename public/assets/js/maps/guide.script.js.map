{"version":3,"sources":["../../../../source/modules/guide/core/js/script.js"],"names":["Wee","fn","make","_construct","priv","this","$private","highlightCode","events","on","ref:code","dblclick","selectCode","ref:toggle","click","toggleCode","assets","load","root","files","success","hljs","initHighlightingOnLoad","el","range","$","_doc","createRange","sel","_win","getSelection","selectNodeContents","removeAllRanges","addRange","$el","lang","data","ariaExpanded","ariaHidden","attr","text","next","hide","show"],"mappings":"AAEAA,IAAIC,GAAGC,KAAK,SAMXC,WAAY,WACX,GAAIC,GAAOC,KAAKC,QAGhBF,GAAKG,gBAGLP,IAAIQ,OAAOC,IACVC,YACCC,SAAU,WACTP,EAAKQ,WAAWP,QAGlBQ,cACCC,MAAO,WACNV,EAAKW,WAAWV,aAWpBE,cAAe,WACdP,IAAIgB,OAAOC,MACVC,KAAM,6DACNC,OACC,mBACA,yBAEDC,QAAS,WACRC,KAAKC,6BAWRV,WAAY,SAASW,GACpB,GAAIC,GAAQC,EAAEC,KAAKC,cAClBC,EAAMH,EAAEI,KAAKC,cAEdN,GAAMO,mBAAmBR,GAEzBK,EAAII,kBACJJ,EAAIK,SAAST,IASdT,WAAY,SAASQ,GACpB,GAAIW,GAAMT,EAAEF,GACXY,EAAOD,EAAIE,KAAK,QAChBC,EAAe,gBACfC,EAAa,aAEiB,WAA3BJ,EAAIK,KAAKF,GACZH,EAAIM,KAAK,QAAUL,GACjBI,KAAKF,EAAc,SACnBI,OACAF,KAAKD,EAAY,QACjBI,OAEFR,EAAIM,KAAK,QAAUL,GACjBI,KAAKF,EAAc,QACnBI,OACAF,KAAKD,EAAY,SACjBK","file":"script.min.js","sourcesContent":["/* global hljs */\n\nWee.fn.make('guide', {\n\t/**\n\t * Highlight code and bind click events\n\t *\n\t * @constructor\n\t */\n\t_construct: function() {\n\t\tvar priv = this.$private;\n\n\t\t// Setup syntax highlighting\n\t\tpriv.highlightCode();\n\n\t\t// Bind code toggle and selection\n\t\tWee.events.on({\n\t\t\t'ref:code': {\n\t\t\t\tdblclick: function() {\n\t\t\t\t\tpriv.selectCode(this);\n\t\t\t\t}\n\t\t\t},\n\t\t\t'ref:toggle': {\n\t\t\t\tclick: function() {\n\t\t\t\t\tpriv.toggleCode(this);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}, {\n\t/**\n\t * Load highlight.js assets and highlight code\n\t *\n\t * @private\n\t */\n\thighlightCode: function() {\n\t\tWee.assets.load({\n\t\t\troot: 'https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/',\n\t\t\tfiles: [\n\t\t\t\t'highlight.min.js',\n\t\t\t\t'styles/github.min.css'\n\t\t\t],\n\t\t\tsuccess: function() {\n\t\t\t\thljs.initHighlightingOnLoad();\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n\t * Select all markup in a code block\n\t *\n\t * @private\n\t * @param {HTMLElement} el - target code wrapper\n\t */\n\tselectCode: function(el) {\n\t\tvar range = $._doc.createRange(),\n\t\t\tsel = $._win.getSelection();\n\n\t\trange.selectNodeContents(el);\n\n\t\tsel.removeAllRanges();\n\t\tsel.addRange(range);\n\t},\n\n\t/**\n\t * Toggle the visibility of a code block\n\t *\n\t * @private\n\t * @param {($|HTMLElement|string)} el - source button\n\t */\n\ttoggleCode: function(el) {\n\t\tvar $el = $(el),\n\t\t\tlang = $el.data('lang'),\n\t\t\tariaExpanded = 'aria-expanded',\n\t\t\tariaHidden = 'aria-hidden';\n\n\t\tif ($el.attr(ariaExpanded) !== 'false') {\n\t\t\t$el.text('View ' + lang)\n\t\t\t\t.attr(ariaExpanded, 'false')\n\t\t\t\t.next()\n\t\t\t\t.attr(ariaHidden, 'true')\n\t\t\t\t.hide();\n\t\t} else {\n\t\t\t$el.text('Hide ' + lang)\n\t\t\t\t.attr(ariaExpanded, 'true')\n\t\t\t\t.next()\n\t\t\t\t.attr(ariaHidden, 'false')\n\t\t\t\t.show();\n\t\t}\n\t}\n});"]}