{"version":3,"file":"guide.min.js","sources":["../../../../src/js/custom/guide.js"],"names":["Wee","fn","make","_construct","scope","this","$private","highlightCode","events","on","ref:code","dblclick","selectCode","ref:toggle","click","toggleCode","_legacy","assets","load","root","files","success","hljs","initHighlightingOnLoad","el","range","_doc","createRange","sel","_win","getSelection","selectNodeContents","removeAllRanges","addRange","$el","$","attr","removeClass","text","data","next","hide","addClass","show"],"mappings":"AAKAA,IAAIC,GAAGC,KAAK,SAMXC,WAAY,WACX,GAAIC,GAAQC,IAGZD,GAAME,SAASC,gBAGfP,IAAIQ,OAAOC,IACVC,YACCC,SAAU,WACTP,EAAME,SAASM,WAAWP,QAG5BQ,cACCC,MAAO,WACNV,EAAME,SAASS,WAAWV,aAW9BE,cAAe,WAERP,IAAIgB,SACThB,IAAIiB,OAAOC,MACVC,KAAM,2DACNC,OACC,mBACA,qBAEDC,QAAS,WACRC,KAAKC,6BAYTX,WAAY,SAASY,GACpB,GAAIC,GAAQzB,IAAI0B,KAAKC,cACpBC,EAAM5B,IAAI6B,KAAKC,cAEhBL,GAAMM,mBAAmBP,GAEzBI,EAAII,kBACJJ,EAAIK,SAASR,IASdV,WAAY,SAASS,GACpB,GAAIU,GAAMC,EAAEX,EAEqB,UAA7BU,EAAIE,KAAK,iBACZF,EAAIG,YAAY,eACdC,KAAK,IAAMJ,EAAIK,KAAK,QAAU,MAC9BH,KAAK,gBAAiB,SACtBI,OACAJ,KAAK,cAAe,QACpBK,OAEFP,EAAIQ,SAAS,eACXJ,KAAK,KACLF,KAAK,gBAAiB,QACtBI,OACAJ,KAAK,cAAe,SACpBO","sourcesContent":["// Add custom style guide JavaScript here\n// Sample script below can be removed\n\n/* global hljs */\n\nWee.fn.make('guide', {\n\t/**\n\t * Highlight code and bind code click events\n\t *\n\t * @constructor\n\t */\n\t_construct: function() {\n\t\tvar scope = this;\n\n\t\t// Setup syntax highlighting\n\t\tscope.$private.highlightCode();\n\n\t\t// Bind code toggle and selection\n\t\tWee.events.on({\n\t\t\t'ref:code': {\n\t\t\t\tdblclick: function() {\n\t\t\t\t\tscope.$private.selectCode(this);\n\t\t\t\t}\n\t\t\t},\n\t\t\t'ref:toggle': {\n\t\t\t\tclick: function() {\n\t\t\t\t\tscope.$private.toggleCode(this);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}, {\n\t/**\n\t * Load highlight.js assets and highlight all code\n\t *\n\t * @private\n\t */\n\thighlightCode: function() {\n\t\t// Don't load in IE8-\n\t\tif (! Wee._legacy) {\n\t\t\tWee.assets.load({\n\t\t\t\troot: 'https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/',\n\t\t\t\tfiles: [\n\t\t\t\t\t'highlight.min.js',\n\t\t\t\t\t'styles/vs.min.css'\n\t\t\t\t],\n\t\t\t\tsuccess: function() {\n\t\t\t\t\thljs.initHighlightingOnLoad();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\n\t/**\n\t * Select all markup in a code block\n\t *\n\t * @private\n\t * @param {HTMLElement} el - target code\n\t */\n\tselectCode: function(el) {\n\t\tvar range = Wee._doc.createRange(),\n\t\t\tsel = Wee._win.getSelection();\n\n\t\trange.selectNodeContents(el);\n\n\t\tsel.removeAllRanges();\n\t\tsel.addRange(range);\n\t},\n\n\t/**\n\t * Toggle the visibility of a code block\n\t *\n\t * @private\n\t * @param {($|HTMLElement|string)} el - source button\n\t */\n\ttoggleCode: function(el) {\n\t\tvar $el = $(el);\n\n\t\tif ($el.attr('aria-expanded') != 'false') {\n\t\t\t$el.removeClass('--is-active')\n\t\t\t\t.text('<' + $el.data('lang') + '/>')\n\t\t\t\t.attr('aria-expanded', 'false')\n\t\t\t\t.next()\n\t\t\t\t.attr('aria-hidden', 'true')\n\t\t\t\t.hide();\n\t\t} else {\n\t\t\t$el.addClass('--is-active')\n\t\t\t\t.text('x')\n\t\t\t\t.attr('aria-expanded', 'true')\n\t\t\t\t.next()\n\t\t\t\t.attr('aria-hidden', 'false')\n\t\t\t\t.show();\n\t\t}\n\t}\n});"]}