{"version":3,"sources":["../../../../node_modules/wee-core/temp/?","../../../../node_modules/wee-core/js/wee.js","../../../../node_modules/wee-core/js/wee.animate.js","../../../../node_modules/wee-core/js/wee.assets.js","../../../../node_modules/wee-core/js/wee.data.js","../../../../node_modules/wee-core/js/wee.dom.js","../../../../node_modules/wee-core/js/wee.events.js","../../../../node_modules/wee-core/js/wee.history.js","../../../../node_modules/wee-core/js/wee.routes.js","../../../../node_modules/wee-core/js/wee.screen.js","../../../../node_modules/wee-core/js/wee.touch.js","../../../../node_modules/wee-core/js/wee.view.js","../../../../node_modules/wee-core/js/wee.view.diff.js","../../../../node_modules/wee-core/js/wee.chain.js","../../../../node_modules/wee-core/js/chain/wee.chain.animate.js","../../../../node_modules/wee-core/js/chain/wee.chain.dom.js","../../../../node_modules/wee-core/js/chain/wee.chain.events.js","../../../../node_modules/wee-core/js/chain/wee.chain.view.js","../../../../node_modules/wee-core/temp/views.js","../../../../source/js/build/common.js","../../../../source/js/custom/script.js","../../../../source/modules/welcome/core/js/todo.js","../../../../source/modules/welcome/core/js/script.js"],"names":["exports","global","Wee","W","U","web","window","scope","env","range","D","document","store","$","observe","refs","_storage","obj","key","create","val","data","type","$type","num","segs","toString","split","pop","forEach","hasOwnProperty","Array","isArray","arr","slice","length","_set","obs","options","stored","seg","_val","_trigger","_copy","_get","fallback","set","_has","resp","$isObject","indexOf","_add","prepend","root","orig","$toArray","concat","unshift","push","_merge","$extend","_drop","i","splice","_observe","fn","upd","Object","keys","_equals","opts","map","join","el","recursive","value","args","diff","_diff","$exec","once","_extend","_contains","source","target","_html","contains","object","deep","src","len","a","b","aType","_arrEquals","_objEquals","every","aKeys","sort","aObj","bObj","after","before","_canExec","_$","WeeAlias","_body","body","_doc","documentElement","_slice","_win","make","name","pub","priv","base","basePubConst","basePrivConst","_construct","$private","_make","extend","c","this","selector","context","ref","filter","sel","trim","WeeSelector","test","pre","getElementById","substr","getElementsByClassName","getElementsByTagName","querySelectorAll","e","$parseHTML","childNodes","nodeType","call","html","createRange","selectNode","createContextualFragment","child","div","createElement","createDocumentFragment","innerHTML","firstChild","appendChild","$set","$get","$push","$concat","$merge","$has","$drop","$observe","$unobserve","$trigger","$each","conf","els","_selArray","reverse","$env","rules","fb","host","location","hostname","rule","$envSecure","protocol","fns","response","apply","bool","arguments","$diff","$equals","$isArray","$isFunction","$isString","$map","res","$serialize","encodeURIComponent","replace","$unserialize","str","decodeURIComponent","$setRef","getAttribute","$setVar","_castString","prototype","toLowerCase","$unique","array","$chain","controller","method","parseInt","JSON","parse","model","id","Public","Private","core","$destroy","_destruct","$public","pubDest","basePubDest","basePrivDest","ready","readyState","addEventListener","module","undefined","raf","easings","ease","t","linear","process","prop","cssValue","scroll","bodyScroll","getComputedStyle","css","unit","setValue","update","style","dir","dist","Math","abs","start","Date","now","duration","complete","animate","tween","values","requestAnimationFrame","cb","setTimeout","addEasing","groups","loaded","groupId","_load","js","path","async","onload","_done","group","onerror","_fail","head","link","rel","href","img","Image","assets","load","files","ext","file","noCache","cache","remove","parentNode","removeChild","poll","hasErrors","error","success","version","_change","x","code","status","exec","_success","responseType","responseText","json","_jsonp","jsonpCallback","jsonp","_getUrl","request","headers","dt","url","XMLHttpRequest","send","onreadystatechange","contentTypeHeader","toUpperCase","processData","stringify","open","Accept","setRequestHeader","fetch","_getSelected","select","option","selected","_getClass","SVGElement","className","_setClass","setAttribute","_getSibling","match","index","$index","$children","$parent","$is","_toCamel","_toDashed","$addClass","func","cn","names","$after","aft","par","cel","$clone","insertBefore","nextSibling","$remove","$append","app","$attr","$before","bef","parent","children","$filter","cloneNode","$closest","$contains","descendant","$contents","$css","$data","attributes","attr","$empty","$eq","$find","$first","$hasClass","some","RegExp","$height","height","innerHeight","scrollHeight","offsetHeight","parseFloat","marginTop","marginBottom","$hide","$html","nodeName","atob","outerHTML","$insertAfter","$insertBefore","matches","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","$last","$next","$not","$offset","rect","getBoundingClientRect","offset","top","pageYOffset","left","pageXOffset","$parents","$position","offsetTop","offsetLeft","$prepend","$prev","$prop","$removeAttr","removeAttribute","$removeClass","$replaceWith","$scrollLeft","scrollLeft","$scrollTop","scrollTop","$serializeForm","elements","checked","$show","$siblings","siblings","$slice","end","$text","textContent","$toggle","$toggleClass","state","$val","opt","$width","width","innerWidth","scrollWidth","offsetWidth","marginLeft","marginRight","$wrap","wrap","$wrapInner","bound","custom","_bind","delegate","targ","evts","evt","ev","parts","f","namespace","cont","_off","events","init","removeEventListener","on","off","event","binding","String","trigger","preventDefault","stopPropagation","addEvent","E","H","support","pushState","entries","settings","_path","loc","pathname","search","hash","_isValid","hasAttribute","exts","extensions","_reset","history","bind","_process","prev","title","routes","uri","run","pushstate","popstate","partials","scrollRestoration","replaceState","prevConf","go","click","submit","each","form","l","full","metaKey","req","begin","sendEvents","successEvents","errorEvents","completeEvents","targets","X-PJAX","X-Requested-With","replaceEvent","action","replaceChild","scrollEvent","st","anim","processErrors","filters","Number","any","route","total","k","y","ran","negate","eq","query","segments","curr","addFilter","current","_addRule","watch","_run","size","screen","_eq","callback","sz","mn","min","mx","max","ex","getPropertyValue","sets","reset","ns","distance","movement","touches","changedTouches","travel","esc","reg","pair","partial","single","tags","helpers","is","not","isEmpty","empty","notEmpty","views","_isEmpty","_embed","temp","m","tag","_parseArgs","arg","_parse","helper","inner","cond","help","meth","sec","agg","rv","isObject",".","#","##","isPlainObject","item","$key","helps","_render","depth","exists","o","view","render","$pause","$resume","template","addHelper","addView","specialElHandlers","OPTION","fromEl","toEl","INPUT","TEXTAREA","newValue","nodeValue","_morphAttrs","fromNode","toNode","attrName","attrValue","attrs","foundAttrs","specified","_moveChildren","curChild","nextChild","savedEls","unmatchedEls","removeNodeHelper","node","nestedInSavedEl","walkDiscardedChildNodes","removeNode","alreadyVisited","morphEl","tagName","curToNodeId","fromNextSibling","toNextSibling","savedEl","unmatchedEl","curToNodeChild","curFromNodeChild","outer","curFromNodeId","curFromNodeType","isCompatible","specialElHandler","morphedNode","savedElId","A","Get","copy","setRef","setVar","toArray","add","addClass","append","appendTo","clone","closest","contents","r","find","first","get","hasClass","hide","insertAfter","last","next","parents","position","prependTo","removeAttr","removeClass","replaceWith","serialize","show","text","toggle","toggleClass","wrapInner","welcome.todo","$any","label","done","$root"],"mappings":"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","file":"../script.min.js","sourcesContent":[null,"// Wee (weepower.com)\n// Licensed under Apache 2 (http://www.apache.org/licenses/LICENSE-2.0)\n// DO NOT MODIFY\n\n/* global exports, global */\n/* jshint maxdepth: 4, maxparams: 6 */\n\nvar Wee;\n\n(function(W, U) {\n\t'use strict';\n\n\tvar web = typeof window != 'undefined',\n\t\tscope = web ? window : global,\n\t\tW = (function() {\n\t\t\tvar D = web ? document : {},\n\t\t\t\tstore = {\n\t\t\t\t\t$: {}\n\t\t\t\t},\n\t\t\t\tobserve = {},\n\t\t\t\trefs = {},\n\t\t\t\tenv,\n\t\t\t\trange,\n\n\t\t\t\t/**\n\t\t\t\t * Determine data storage root, key, and value\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t * @param {object} obj\n\t\t\t\t * @param {string} key\n\t\t\t\t * @param {boolean} [create=false]\n\t\t\t\t * @returns {Array} value\n\t\t\t\t */\n\t\t\t\t_storage = function(obj, key, create) {\n\t\t\t\t\tvar data = obj,\n\t\t\t\t\t\ttype = W.$type(key),\n\t\t\t\t\t\tnum = type == 'number',\n\t\t\t\t\t\tval;\n\n\t\t\t\t\tif (num || type == 'string') {\n\t\t\t\t\t\tvar segs = key.toString().split('.');\n\t\t\t\t\t\tkey = segs.pop();\n\t\t\t\t\t\tdata = data.$;\n\n\t\t\t\t\t\tsegs.forEach(function(key) {\n\t\t\t\t\t\t\tdata = data.hasOwnProperty(key) ?\n\t\t\t\t\t\t\t\tdata[key] :\n\t\t\t\t\t\t\t\t(create ? data[key] = {} : []);\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tkey = '$';\n\t\t\t\t\t}\n\n\t\t\t\t\tif (num && Array.isArray(data)) {\n\t\t\t\t\t\tvar arr = data.slice(key);\n\n\t\t\t\t\t\tif (arr.length) {\n\t\t\t\t\t\t\tval = arr[0];\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tkey = key.toString();\n\n\t\t\t\t\t\tif (data.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tval = data[key];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn [data, key, val];\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Set global variable\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t */\n\t\t\t\t_set = function(obj, obs, key, val, options) {\n\t\t\t\t\tvar stored = _storage(obj, key, true),\n\t\t\t\t\t\tseg = stored[1],\n\t\t\t\t\t\tdata = seg == '$' ?\n\t\t\t\t\t\t\t_val(key, val) :\n\t\t\t\t\t\t\t_val(val, options);\n\n\t\t\t\t\tstored[0][seg] = data;\n\n\t\t\t\t\t_trigger(obj, obs, key, _copy(stored[2]), data, 'set');\n\n\t\t\t\t\treturn data;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Get global variable\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t */\n\t\t\t\t_get = function(obj, obs, key, fallback, set, options) {\n\t\t\t\t\tvar stored = _storage(obj, key);\n\n\t\t\t\t\tif (stored[2] !== U) {\n\t\t\t\t\t\treturn stored[2];\n\t\t\t\t\t}\n\n\t\t\t\t\tif (fallback !== U) {\n\t\t\t\t\t\treturn set ?\n\t\t\t\t\t\t\t_set(obj, obs, key, fallback, options) :\n\t\t\t\t\t\t\t_val(fallback, options);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn null;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Check if storage criteria is set\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t */\n\t\t\t\t_has = function(obj, key, val) {\n\t\t\t\t\tvar stored = _storage(obj, key),\n\t\t\t\t\t\tresp = stored[0];\n\n\t\t\t\t\tif (val !== U) {\n\t\t\t\t\t\tif (W.$isObject(resp)) {\n\t\t\t\t\t\t\treturn resp.hasOwnProperty(val);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (Array.isArray(resp)) {\n\t\t\t\t\t\t\treturn resp.indexOf(val) > -1;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn resp === val;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn resp !== U;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Push or concatenate values into global array\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t */\n\t\t\t\t_add = function(type, obj, obs, key, val, prepend) {\n\t\t\t\t\tvar stored = _storage(obj, key, true),\n\t\t\t\t\t\troot = stored[0],\n\t\t\t\t\t\tseg = stored[1],\n\t\t\t\t\t\torig = _copy(stored[2]);\n\n\t\t\t\t\tif (seg == '$') {\n\t\t\t\t\t\tprepend = val;\n\t\t\t\t\t\tval = key;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (! Array.isArray(orig)) {\n\t\t\t\t\t\troot[seg] = [];\n\t\t\t\t\t}\n\n\t\t\t\t\tif (type == 1) {\n\t\t\t\t\t\troot[seg] = prepend ?\n\t\t\t\t\t\t\tW.$toArray(val).concat(root[seg]) :\n\t\t\t\t\t\t\troot[seg].concat(val);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprepend ?\n\t\t\t\t\t\t\troot[seg].unshift(val) :\n\t\t\t\t\t\t\troot[seg].push(val);\n\t\t\t\t\t}\n\n\t\t\t\t\t_trigger(obj, obs, key, orig, root[seg],\n\t\t\t\t\t\ttype == 1 ? 'concat' : 'push');\n\n\t\t\t\t\treturn root[seg];\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Extend object into into global storage\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t */\n\t\t\t\t_merge = function(obj, obs, key, val) {\n\t\t\t\t\tval === U ?\n\t\t\t\t\t\tkey = W.$extend(true, {}, obj.$, key) :\n\t\t\t\t\t\tval = W.$extend(true, {}, _get(obj, obs, key, {}), val);\n\n\t\t\t\t\treturn _set(obj, obs, key, val);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Remove key or value from global array\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t */\n\t\t\t\t_drop = function(obj, obs, key, val) {\n\t\t\t\t\tvar stored = _storage(obj, key),\n\t\t\t\t\t\troot = stored[0],\n\t\t\t\t\t\tseg = stored[1],\n\t\t\t\t\t\torig = _copy(stored[2]),\n\t\t\t\t\t\tarr = Array.isArray(root);\n\n\t\t\t\t\tif (val !== U) {\n\t\t\t\t\t\tif (orig !== U) {\n\t\t\t\t\t\t\tif (arr) {\n\t\t\t\t\t\t\t\tvar i = orig.indexOf(val);\n\n\t\t\t\t\t\t\t\tif (i > -1) {\n\t\t\t\t\t\t\t\t\troot[seg].splice(i, 1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (orig === val) {\n\t\t\t\t\t\t\t\tdelete root[seg];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdelete root[seg][val];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tarr ?\n\t\t\t\t\t\t\troot.splice(seg, 1) :\n\t\t\t\t\t\t\tdelete root[seg];\n\t\t\t\t\t}\n\n\t\t\t\t\t_trigger(obj, obs, key, orig, root[seg], 'drop');\n\n\t\t\t\t\treturn val !== U ? root[seg] : root;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Attach callback to data storage change\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t */\n\t\t\t\t_observe = function(obs, key, fn, options) {\n\t\t\t\t\toptions = options || {};\n\t\t\t\t\toptions.fn = fn;\n\n\t\t\t\t\tobs[key] = obs[key] || [];\n\t\t\t\t\tobs[key].push(options);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Fire callback from data storage change\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t */\n\t\t\t\t_trigger = function(obj, obs, key, orig, upd, type) {\n\t\t\t\t\tif (Object.keys(obs).length && (\n\t\t\t\t\t\ttype == 'trigger' ||\n\t\t\t\t\t\t! _equals(upd, orig)\n\t\t\t\t\t)) {\n\t\t\t\t\t\tif (typeof key != 'string') {\n\t\t\t\t\t\t\tkey = '';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar arr = [],\n\t\t\t\t\t\t\topts = key.split('.').map(function(seg) {\n\t\t\t\t\t\t\t\tarr.push(seg);\n\t\t\t\t\t\t\t\treturn arr.join('.');\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\tfor (var val in obs) {\n\t\t\t\t\t\t\tif (opts.indexOf(val) > -1 || val == '*') {\n\t\t\t\t\t\t\t\tvar data = val == '*' ? obj.$ : upd;\n\n\t\t\t\t\t\t\t\tobs[val].forEach(function(el, i) {\n\t\t\t\t\t\t\t\t\tif (val === key || val == '*' || el.recursive) {\n\t\t\t\t\t\t\t\t\t\tif (! el.value || _equals(el.value, data)) {\n\t\t\t\t\t\t\t\t\t\t\tvar args = [\n\t\t\t\t\t\t\t\t\t\t\t\tel.recursive ?\n\t\t\t\t\t\t\t\t\t\t\t\t\t_get(obj, false, val) :\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t\t\t\t\t\t\ttype\n\t\t\t\t\t\t\t\t\t\t\t];\n\n\t\t\t\t\t\t\t\t\t\t\tif (el.diff) {\n\t\t\t\t\t\t\t\t\t\t\t\targs.push(_diff(orig, data));\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tW.$exec(el.fn, {\n\t\t\t\t\t\t\t\t\t\t\t\targs: args\n\t\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\t\tif (el.once) {\n\t\t\t\t\t\t\t\t\t\t\t\tobs[val].splice(i, 1);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Clone value to a new instance\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t * @param {*} val\n\t\t\t\t * @returns {*}\n\t\t\t\t */\n\t\t\t\t_copy = function(val) {\n\t\t\t\t\tvar type = W.$type(val);\n\n\t\t\t\t\tif (type == 'object') {\n\t\t\t\t\t\tval = _extend({}, val, true);\n\t\t\t\t\t} else if (type == 'array') {\n\t\t\t\t\t\tval = val.slice(0);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn val;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Check if a node contains another node\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t * @param {HTMLElement} source\n\t\t\t\t * @param {HTMLElement} target\n\t\t\t\t * @returns {boolean} match\n\t\t\t\t */\n\t\t\t\t_contains = function(source, target) {\n\t\t\t\t\treturn (source === D ? W._html : source)\n\t\t\t\t\t\t.contains(target);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Extend target object with source object(s)\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t * @param {object} target\n\t\t\t\t * @param {object} object\n\t\t\t\t * @param {boolean} [deep=false]\n\t\t\t\t * @param {Array} [_set=[]]\n\t\t\t\t * @returns object\n\t\t\t\t */\n\t\t\t\t_extend = function(target, object, deep, _set) {\n\t\t\t\t\tif (! object) {\n\t\t\t\t\t\treturn target;\n\t\t\t\t\t}\n\n\t\t\t\t\t_set = _set || [];\n\n\t\t\t\t\tfor (var key in object) {\n\t\t\t\t\t\tvar src = object[key],\n\t\t\t\t\t\t\ttype = W.$type(src);\n\n\t\t\t\t\t\tif (deep && type == 'object') {\n\t\t\t\t\t\t\tvar len = _set.length,\n\t\t\t\t\t\t\t\ti = 0,\n\t\t\t\t\t\t\t\tval;\n\n\t\t\t\t\t\t\tfor (; i < len; i++) {\n\t\t\t\t\t\t\t\tif (_set[i] === src) {\n\t\t\t\t\t\t\t\t\tval = src;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (val) {\n\t\t\t\t\t\t\t\ttarget[key] = val;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_set.push(src);\n\t\t\t\t\t\t\t\ttarget[key] = _extend(target[key] || {}, src, deep, _set);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (src !== U) {\n\t\t\t\t\t\t\ttarget[key] = type == 'array' ? src.slice(0) : src;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn target;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Compare two values for equality\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t * @param {*} a\n\t\t\t\t * @param {*} b\n\t\t\t\t * @returns {boolean}\n\t\t\t\t */\n\t\t\t\t_equals = function(a, b) {\n\t\t\t\t\tif (a === b) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar aType = W.$type(a);\n\n\t\t\t\t\tif (aType != W.$type(b)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (aType == 'array') {\n\t\t\t\t\t\treturn _arrEquals(a, b);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (aType == 'object') {\n\t\t\t\t\t\treturn _objEquals(a, b);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (aType == 'date') {\n\t\t\t\t\t\treturn +a == +b; // jscs:ignore\n\t\t\t\t\t}\n\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Compare two arrays for equality\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t * @param {Array} a\n\t\t\t\t * @param {Array} b\n\t\t\t\t * @returns {boolean}\n\t\t\t\t */\n\t\t\t\t_arrEquals = function(a, b) {\n\t\t\t\t\treturn a.length == b.length &&\n\t\t\t\t\t\ta.every(function(el, i) {\n\t\t\t\t\t\t\treturn _equals(el, b[i]);\n\t\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Compare two objects for equality\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t * @param {object} a\n\t\t\t\t * @param {object} b\n\t\t\t\t * @returns {boolean}\n\t\t\t\t */\n\t\t\t\t_objEquals = function(a, b) {\n\t\t\t\t\tvar aKeys = Object.keys(a);\n\n\t\t\t\t\treturn _arrEquals(aKeys.sort(), Object.keys(b).sort()) &&\n\t\t\t\t\t\taKeys.every(function(i) {\n\t\t\t\t\t\t\treturn _equals(a[i], b[i]);\n\t\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Generate a delta from two objects\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t * @param {object} a - original object\n\t\t\t\t * @param {object} b - updated object\n\t\t\t\t * @returns {object}\n\t\t\t\t */\n\t\t\t\t_diff = function(a, b) {\n\t\t\t\t\tvar aObj = W.$isObject(a),\n\t\t\t\t\t\tbObj = W.$isObject(b);\n\n\t\t\t\t\tif (! (aObj || bObj)) {\n\t\t\t\t\t\tvar type = 'u';\n\n\t\t\t\t\t\tif (_equals(a, b)) {\n\t\t\t\t\t\t\ttype = '-';\n\t\t\t\t\t\t} else if (a === U) {\n\t\t\t\t\t\t\ttype = 'c';\n\t\t\t\t\t\t} else if (b === U) {\n\t\t\t\t\t\t\ttype = 'd';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tafter: b,\n\t\t\t\t\t\t\tbefore: a,\n\t\t\t\t\t\t\ttype: type\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tvar diff = {};\n\n\t\t\t\t\tif (aObj) {\n\t\t\t\t\t\tObject.keys(a).forEach(function(key) {\n\t\t\t\t\t\t\tdiff[key] = _diff(\n\t\t\t\t\t\t\t\ta[key],\n\t\t\t\t\t\t\t\tb && bObj ? b[key] : U\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (bObj) {\n\t\t\t\t\t\tObject.keys(b).forEach(function(key) {\n\t\t\t\t\t\t\tif (! diff[key]) {\n\t\t\t\t\t\t\t\tdiff[key] = _diff(U, b[key]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\treturn diff;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Get value from function or directly\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t * @param {*} val\n\t\t\t\t * @param {object} [options]\n\t\t\t\t * @returns {*}\n\t\t\t\t */\n\t\t\t\t_val = function(val, options) {\n\t\t\t\t\treturn W._canExec(val) ?\n\t\t\t\t\t\tW.$exec(val, options) :\n\t\t\t\t\t\tval;\n\t\t\t\t};\n\n\t\t\treturn {\n\t\t\t\t_$: scope.WeeAlias || '$',\n\t\t\t\t_body: D.body,\n\t\t\t\t_doc: D,\n\t\t\t\t_html: D.documentElement,\n\t\t\t\t_slice: [].slice,\n\t\t\t\t_win: scope,\n\t\t\t\tfn: {\n\t\t\t\t\t/**\n\t\t\t\t\t * Create a namespaced controller\n\t\t\t\t\t *\n\t\t\t\t\t * @param {string} name\n\t\t\t\t\t * @param {object} pub - public methods and properties\n\t\t\t\t\t * @param {object} [priv] - private methods and properties\n\t\t\t\t\t */\n\t\t\t\t\tmake: function(name, pub, priv) {\n\t\t\t\t\t\tvar base,\n\t\t\t\t\t\t\tbasePubConst,\n\t\t\t\t\t\t\tbasePrivConst;\n\n\t\t\t\t\t\t// Check for base controller\n\t\t\t\t\t\tif (name.indexOf(':') > 0) {\n\t\t\t\t\t\t\tvar segs = name.split(':');\n\t\t\t\t\t\t\tbase = _copy(W[segs[1]]);\n\t\t\t\t\t\t\tbasePubConst = base._construct;\n\t\t\t\t\t\t\tbasePrivConst = base.$private._construct;\n\t\t\t\t\t\t\tname = segs[0];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Create new controller instance\n\t\t\t\t\t\tW.fn[name] = W._make(name, pub, priv, base);\n\t\t\t\t\t\tW[name] = new W.fn[name](name);\n\n\t\t\t\t\t\t// Execute base constructors\n\t\t\t\t\t\tif (basePubConst) {\n\t\t\t\t\t\t\tbasePubConst();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (basePrivConst) {\n\t\t\t\t\t\t\tbasePrivConst();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Execute controller constructors\n\t\t\t\t\t\tif (W[name].$private._construct) {\n\t\t\t\t\t\t\tW[name].$private._construct();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (W[name]._construct) {\n\t\t\t\t\t\t\tW[name]._construct();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Extend controller with additional methods and properties\n\t\t\t\t\t *\n\t\t\t\t\t * @param {(object|string)} a - controller name or core methods\n\t\t\t\t\t * @param {object} [b] - public methods and properties\n\t\t\t\t\t * @param {object} [c] - private methods and properties\n\t\t\t\t\t */\n\t\t\t\t\textend: function(a, b, c) {\n\t\t\t\t\t\tif (W.$isObject(a)) {\n\t\t\t\t\t\t\t// Merge into the global object\n\t\t\t\t\t\t\t_extend(W, a);\n\t\t\t\t\t\t} else if (W.hasOwnProperty(a)) {\n\t\t\t\t\t\t\t// Merge the objects else create the controller\n\t\t\t\t\t\t\tif (c) {\n\t\t\t\t\t\t\t\tb.$private = c;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t_extend(W[a], b, true);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.make(a, b, c);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Get matches to specified selector or return parsed HTML\n\t\t\t\t *\n\t\t\t\t * @param {($|HTMLElement|string)} selector\n\t\t\t\t * @param {($|HTMLElement|string)} [context=document]\n\t\t\t\t * @returns {Array} elements\n\t\t\t\t */\n\t\t\t\t$: function(selector, context) {\n\t\t\t\t\tvar el = null,\n\t\t\t\t\t\tref = [];\n\n\t\t\t\t\tif (typeof selector != 'string') {\n\t\t\t\t\t\tel = selector;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (selector == 'window') {\n\t\t\t\t\t\t\treturn [scope];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (selector == 'document') {\n\t\t\t\t\t\t\treturn [D];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Return nothing if context doesn't exist\n\t\t\t\t\t\tcontext = context !== U ? W.$(context)[0] : D;\n\n\t\t\t\t\t\tif (! context) {\n\t\t\t\t\t\t\treturn ref;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Check for pre-cached elements\n\t\t\t\t\t\tif (selector.indexOf('ref:') > -1) {\n\t\t\t\t\t\t\tvar split = selector.split(',').filter(function(sel) {\n\t\t\t\t\t\t\t\tsel = sel.trim();\n\n\t\t\t\t\t\t\t\tif (sel.slice(0, 4) == 'ref:') {\n\t\t\t\t\t\t\t\t\tsel = sel.slice(4);\n\t\t\t\t\t\t\t\t\tsel = refs[sel];\n\n\t\t\t\t\t\t\t\t\t// Apply context filter if not document\n\t\t\t\t\t\t\t\t\tif (sel) {\n\t\t\t\t\t\t\t\t\t\tref = ref.concat(\n\t\t\t\t\t\t\t\t\t\t\tcontext === D ?\n\t\t\t\t\t\t\t\t\t\t\t\tsel :\n\t\t\t\t\t\t\t\t\t\t\t\tsel.filter(function(el) {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn _contains(context, el);\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (split.length) {\n\t\t\t\t\t\t\t\tselector = split.join(',');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn ref;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Use third-party selector engine if defined\n\t\t\t\t\t\tif (scope.WeeSelector !== U) {\n\t\t\t\t\t\t\tel = scope.WeeSelector(selector, context);\n\t\t\t\t\t\t} else if (/^[#.]?[\\w-]+$/.test(selector)) {\n\t\t\t\t\t\t\tvar pre = selector[0];\n\n\t\t\t\t\t\t\tif (pre == '#') {\n\t\t\t\t\t\t\t\tel = D.getElementById(selector.substr(1));\n\t\t\t\t\t\t\t} else if (pre == '.') {\n\t\t\t\t\t\t\t\tel = context.getElementsByClassName(selector.substr(1));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tel = context.getElementsByTagName(selector);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tel = context.querySelectorAll(selector);\n\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\tel = W.$parseHTML(selector).childNodes;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (! el) {\n\t\t\t\t\t\tel = ref;\n\t\t\t\t\t} else if (el.nodeType !== U || el === scope) {\n\t\t\t\t\t\tel = [el];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tel = W._slice.call(el);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Join references if available\n\t\t\t\t\treturn ref.length ? el.concat(ref) : el;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Create document fragment from an HTML string\n\t\t\t\t *\n\t\t\t\t * @param {string} html\n\t\t\t\t * @returns {HTMLElement} element\n\t\t\t\t */\n\t\t\t\t$parseHTML: function(html) {\n\t\t\t\t\tvar el;\n\t\t\t\t\thtml = html.trim();\n\n\t\t\t\t\tif (! range) {\n\t\t\t\t\t\trange = D.createRange();\n\t\t\t\t\t\trange.selectNode(W._body);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (range && range.createContextualFragment) {\n\t\t\t\t\t\tel = range.createContextualFragment(html);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar div = D.createElement('div'),\n\t\t\t\t\t\t\tchild;\n\t\t\t\t\t\tel = D.createDocumentFragment();\n\n\t\t\t\t\t\tdiv.innerHTML = html;\n\n\t\t\t\t\t\twhile (child = div.firstChild) {\n\t\t\t\t\t\t\tel.appendChild(child);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn el;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Set global variable\n\t\t\t\t *\n\t\t\t\t * @param {string} key\n\t\t\t\t * @param {*} val\n\t\t\t\t * @param {object} [options] - applicable if value is a callback\n\t\t\t\t * @param {Array} [options.args]\n\t\t\t\t * @param {object} [options.scope]\n\t\t\t\t * @returns {*} value\n\t\t\t\t */\n\t\t\t\t$set: function(key, val, options) {\n\t\t\t\t\treturn _set(store, observe, key, val, options);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Get global variable\n\t\t\t\t *\n\t\t\t\t * @param {string} key\n\t\t\t\t * @param {*} [fallback]\n\t\t\t\t * @param {boolean} [set=false]\n\t\t\t\t * @param {object} [options] - available for fallback functions\n\t\t\t\t * @param {Array} [options.args]\n\t\t\t\t * @param {object} [options.scope]\n\t\t\t\t * @returns {*} value\n\t\t\t\t */\n\t\t\t\t$get: function(key, fallback, set, options) {\n\t\t\t\t\treturn _get(store, observe, key, fallback, set, options);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Push value into global array\n\t\t\t\t *\n\t\t\t\t * @param {string} key\n\t\t\t\t * @param {*} val\n\t\t\t\t * @param {boolean} [prepend=false]\n\t\t\t\t * @returns {Array|object} value\n\t\t\t\t */\n\t\t\t\t$push: function(key, val, prepend) {\n\t\t\t\t\treturn _add(2, store, observe, key, val, prepend);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Concatenate values into global storage\n\t\t\t\t *\n\t\t\t\t * @param {string} key\n\t\t\t\t * @param {*} val\n\t\t\t\t * @param {boolean} [prepend=false]\n\t\t\t\t * @returns {Array|object} value\n\t\t\t\t */\n\t\t\t\t$concat: function(key, val, prepend) {\n\t\t\t\t\treturn _add(1, store, observe, key, val, prepend);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Extend object into global storage\n\t\t\t\t *\n\t\t\t\t * @param {string} key\n\t\t\t\t * @param {object} obj\n\t\t\t\t * @returns {object} value\n\t\t\t\t */\n\t\t\t\t$merge: function(key, obj) {\n\t\t\t\t\treturn _merge(store, observe, key, obj);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Check if storage criteria is set\n\t\t\t\t *\n\t\t\t\t * @param {string} key\n\t\t\t\t * @param {*} [val]\n\t\t\t\t * @returns {boolean}\n\t\t\t\t */\n\t\t\t\t$has: function(key, val) {\n\t\t\t\t\treturn _has(store, key, val);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Remove key or value from global array\n\t\t\t\t *\n\t\t\t\t * @param {string} key\n\t\t\t\t * @param {*} [val]\n\t\t\t\t * @returns {Array|object} value\n\t\t\t\t */\n\t\t\t\t$drop: function(key, val) {\n\t\t\t\t\treturn _drop(store, observe, key, val);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Attach callback to data storage change\n\t\t\t\t *\n\t\t\t\t * @param {string} key\n\t\t\t\t * @param {function} fn\n\t\t\t\t * @param {object} [options]\n\t\t\t\t * @param {boolean} [options.diff=false]\n\t\t\t\t * @param {boolean} [options.once=false]\n\t\t\t\t * @param {boolean} [options.recursive=false]\n\t\t\t\t * @param {*} [options.value]\n\t\t\t\t */\n\t\t\t\t$observe: function(key, fn, options) {\n\t\t\t\t\t_observe(observe, key, fn, options);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Remove callback from data storage change\n\t\t\t\t *\n\t\t\t\t * @param {string} [key]\n\t\t\t\t */\n\t\t\t\t$unobserve: function(key) {\n\t\t\t\t\tkey === U ?\n\t\t\t\t\t\tobserve = [] :\n\t\t\t\t\t\tdelete observe[key];\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Execute matching observed callbacks\n\t\t\t\t *\n\t\t\t\t * @param {string} key\n\t\t\t\t */\n\t\t\t\t$trigger: function(key) {\n\t\t\t\t\tvar val = _get(store, false, key);\n\n\t\t\t\t\t_trigger(store, observe, key, val, val, 'trigger');\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Execute function for each matching selection\n\t\t\t\t *\n\t\t\t\t * @param {($|Array|HTMLElement|string)} target\n\t\t\t\t * @param {function} fn\n\t\t\t\t * @param {object} [options]\n\t\t\t\t * @param {Array} [options.args]\n\t\t\t\t * @param {($|HTMLElement|string)} [options.context=document]\n\t\t\t\t * @param {boolean} [options.reverse=false]\n\t\t\t\t * @param {object} [options.scope]\n\t\t\t\t */\n\t\t\t\t$each: function(target, fn, options) {\n\t\t\t\t\tif (target) {\n\t\t\t\t\t\tvar conf = _extend({\n\t\t\t\t\t\t\t\targs: []\n\t\t\t\t\t\t\t}, options),\n\t\t\t\t\t\t\tels = W._selArray(target, conf),\n\t\t\t\t\t\t\ti = 0;\n\n\t\t\t\t\t\tif (conf.reverse && ! els._$) {\n\t\t\t\t\t\t\tels = els.reverse();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor (; i < els.length; i++) {\n\t\t\t\t\t\t\tvar el = els[i],\n\t\t\t\t\t\t\t\tval = W.$exec(fn, {\n\t\t\t\t\t\t\t\t\targs: [el, i].concat(conf.args),\n\t\t\t\t\t\t\t\t\tscope: conf.scope || el\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (val === false) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Get current environment or set current environment against\n\t\t\t\t * specified object\n\t\t\t\t *\n\t\t\t\t * @param {object} [rules]\n\t\t\t\t * @param {string} [fallback=local]\n\t\t\t\t * @returns {string} environment\n\t\t\t\t */\n\t\t\t\t$env: function(rules, fallback) {\n\t\t\t\t\tvar fb = fallback || 'local';\n\n\t\t\t\t\tif (rules) {\n\t\t\t\t\t\tvar host = location.hostname;\n\n\t\t\t\t\t\tfor (var rule in rules) {\n\t\t\t\t\t\t\tvar val = rules[rule];\n\n\t\t\t\t\t\t\tif (val == host || _val(val, {\n\t\t\t\t\t\t\t\t\targs: host\n\t\t\t\t\t\t\t\t}) === true) {\n\t\t\t\t\t\t\t\tenv = rule;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (! env) {\n\t\t\t\t\t\t\tenv = fb;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn env || fb;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Determine if the current environment is SSL encrypted\n\t\t\t\t *\n\t\t\t\t * @returns {boolean} secure\n\t\t\t\t */\n\t\t\t\t$envSecure: function() {\n\t\t\t\t\treturn location.protocol == 'https:';\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Execute specified function or controller method\n\t\t\t\t *\n\t\t\t\t * @param {Array|function} fn\n\t\t\t\t * @param {object} [options]\n\t\t\t\t * @param {Array} [options.args]\n\t\t\t\t * @param {object} [options.scope]\n\t\t\t\t * @returns {*} [response]\n\t\t\t\t */\n\t\t\t\t$exec: function(fn, options) {\n\t\t\t\t\toptions = options || {};\n\n\t\t\t\t\tvar fns = W.$toArray(fn),\n\t\t\t\t\t\tlen = fns.length,\n\t\t\t\t\t\ti = 0;\n\n\t\t\t\t\tfor (; i < len; i++) {\n\t\t\t\t\t\tvar conf = _extend({\n\t\t\t\t\t\t\targs: []\n\t\t\t\t\t\t}, options || {});\n\t\t\t\t\t\tfn = fns[i];\n\n\t\t\t\t\t\tif (typeof fn == 'string') {\n\t\t\t\t\t\t\tvar segs = fn.split(':');\n\n\t\t\t\t\t\t\tif (W[segs[0]]) {\n\t\t\t\t\t\t\t\tfn = W[segs[0]][\n\t\t\t\t\t\t\t\t\tsegs.length > 1 ?\n\t\t\t\t\t\t\t\t\t\tsegs[1] :\n\t\t\t\t\t\t\t\t\t\t'init'\n\t\t\t\t\t\t\t\t\t];\n\n\t\t\t\t\t\t\t\tif (! conf.scope) {\n\t\t\t\t\t\t\t\t\tconf.scope = W[segs[0]];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (typeof fn == 'function') {\n\t\t\t\t\t\t\tvar response = fn.apply(\n\t\t\t\t\t\t\t\tconf.scope,\n\t\t\t\t\t\t\t\tW.$toArray(conf.args)\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tif (len === 1) {\n\t\t\t\t\t\t\t\treturn response;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Extend target object with source object(s)\n\t\t\t\t *\n\t\t\t\t * @param {(boolean|object)} deep - extend nested properties else target object\n\t\t\t\t * @param {object} [obj] - target object\n\t\t\t\t * @param {...object} [obj] - merged objects\n\t\t\t\t * @returns {object}\n\t\t\t\t */\n\t\t\t\t$extend: function(deep) {\n\t\t\t\t\tvar bool = typeof deep == 'boolean',\n\t\t\t\t\t\targs = W._slice.call(arguments).slice(bool ? 1 : 0),\n\t\t\t\t\t\ttarget = args[0] || {};\n\t\t\t\t\tdeep = bool ? deep : false;\n\n\t\t\t\t\targs.slice(1).forEach(function(source) {\n\t\t\t\t\t\ttarget = _extend(target, source, deep);\n\t\t\t\t\t});\n\n\t\t\t\t\treturn target;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Generate a delta from two objects\n\t\t\t\t *\n\t\t\t\t * @param {object} a\n\t\t\t\t * @param {object} b\n\t\t\t\t * @returns {object}\n\t\t\t\t */\n\t\t\t\t$diff: function(a, b) {\n\t\t\t\t\treturn _diff(a, b);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Compare two values for strict equality\n\t\t\t\t *\n\t\t\t\t * @param {*} a\n\t\t\t\t * @param {*} b\n\t\t\t\t * @returns {boolean}\n\t\t\t\t */\n\t\t\t\t$equals: function(a, b) {\n\t\t\t\t\treturn _equals(a, b);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Determine if value is an array\n\t\t\t\t *\n\t\t\t\t * @param {*} obj\n\t\t\t\t * @returns {boolean}\n\t\t\t\t */\n\t\t\t\t$isArray: function(obj) {\n\t\t\t\t\treturn Array.isArray(obj);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Determine if value is a function\n\t\t\t\t *\n\t\t\t\t * @param {*} obj\n\t\t\t\t * @returns {boolean}\n\t\t\t\t */\n\t\t\t\t$isFunction: function(obj) {\n\t\t\t\t\treturn W.$type(obj) == 'function';\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Determine if value is an object\n\t\t\t\t *\n\t\t\t\t * @param {*} obj\n\t\t\t\t * @returns {boolean}\n\t\t\t\t */\n\t\t\t\t$isObject: function(obj) {\n\t\t\t\t\treturn W.$type(obj) == 'object';\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Determine if value is a string\n\t\t\t\t *\n\t\t\t\t * @param {*} obj\n\t\t\t\t * @returns {boolean}\n\t\t\t\t */\n\t\t\t\t$isString: function(obj) {\n\t\t\t\t\treturn typeof obj == 'string';\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Translate items in an array or selection to new array\n\t\t\t\t *\n\t\t\t\t * @param {($|Array|HTMLElement|string)} target - array or selector\n\t\t\t\t * @param {function} fn\n\t\t\t\t * @param {object} [options]\n\t\t\t\t * @param {Array} [options.args]\n\t\t\t\t * @param {object} [options.scope]\n\t\t\t\t * @returns {Array}\n\t\t\t\t */\n\t\t\t\t$map: function(target, fn, options) {\n\t\t\t\t\tif (! Array.isArray(target)) {\n\t\t\t\t\t\ttarget = W._selArray(target, options);\n\t\t\t\t\t}\n\n\t\t\t\t\tvar conf = _extend({\n\t\t\t\t\t\t\targs: []\n\t\t\t\t\t\t}, options),\n\t\t\t\t\t\tres = [],\n\t\t\t\t\t\ti = 0;\n\n\t\t\t\t\tfor (; i < target.length; i++) {\n\t\t\t\t\t\tvar el = target[i],\n\t\t\t\t\t\t\tval = W.$exec(fn, {\n\t\t\t\t\t\t\t\targs: [el, i].concat(conf.args),\n\t\t\t\t\t\t\t\tscope: conf.scope || el\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (val !== false) {\n\t\t\t\t\t\t\tres.push(val);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn res;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Serialize object\n\t\t\t\t *\n\t\t\t\t * @param {object} obj\n\t\t\t\t * @returns {string} value\n\t\t\t\t */\n\t\t\t\t$serialize: function(obj) {\n\t\t\t\t\tvar arr = [];\n\n\t\t\t\t\tObject.keys(obj || {}).forEach(function(key) {\n\t\t\t\t\t\tvar val = obj[key];\n\t\t\t\t\t\tkey = encodeURIComponent(key);\n\n\t\t\t\t\t\tif (typeof val != 'object') {\n\t\t\t\t\t\t\tarr.push(key + '=' + encodeURIComponent(val));\n\t\t\t\t\t\t} else if (Array.isArray(val)) {\n\t\t\t\t\t\t\tval.forEach(function(el) {\n\t\t\t\t\t\t\t\tarr.push(key + '[]=' + encodeURIComponent(el));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\treturn arr.length ? arr.join('&').replace(/%20/g, '+') : '';\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Convert serialized string back into an object\n\t\t\t\t *\n\t\t\t\t * @param {string} str\n\t\t\t\t * @returns {object} value\n\t\t\t\t */\n\t\t\t\t$unserialize: function(str) {\n\t\t\t\t\tvar obj = {};\n\n\t\t\t\t\tdecodeURIComponent(str)\n\t\t\t\t\t\t.replace(/^\\?/, '')\n\t\t\t\t\t\t.split('&').forEach(function(el) {\n\t\t\t\t\t\t\tvar split = el.split('='),\n\t\t\t\t\t\t\t\tkey = split[0],\n\t\t\t\t\t\t\t\tval = split[1].replace('+', ' ') || '';\n\n\t\t\t\t\t\t\tif (obj[key]) {\n\t\t\t\t\t\t\t\tobj[key] = W.$toArray(obj[key]);\n\t\t\t\t\t\t\t\tobj[key].push(val);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tobj[key] = val;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\treturn obj;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Add ref elements to datastore\n\t\t\t\t *\n\t\t\t\t * @param {(HTMLElement|string)} [context=document]\n\t\t\t\t */\n\t\t\t\t$setRef: function(context) {\n\t\t\t\t\tcontext = context ? W.$(context)[0] : D;\n\n\t\t\t\t\t// Clear existing refs if reset\n\t\t\t\t\tObject.keys(refs).forEach(function(val) {\n\t\t\t\t\t\trefs[val] = refs[val].filter(function(el) {\n\t\t\t\t\t\t\treturn ! (\n\t\t\t\t\t\t\t\t! _contains(D, el) ||\n\t\t\t\t\t\t\t\t(_contains(context, el) && context !== el)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\t// Set refs from DOM\n\t\t\t\t\tW.$each('[data-ref]', function(el) {\n\t\t\t\t\t\tel.getAttribute('data-ref').split(/\\s+/)\n\t\t\t\t\t\t\t.forEach(function(val) {\n\t\t\t\t\t\t\t\trefs[val] = refs[val] || [];\n\t\t\t\t\t\t\t\trefs[val].push(el);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}, {\n\t\t\t\t\t\tcontext: context\n\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Add metadata variables to datastore\n\t\t\t\t *\n\t\t\t\t * @param {(HTMLElement|string)} [context=document]\n\t\t\t\t */\n\t\t\t\t$setVar: function(context) {\n\t\t\t\t\tW.$each('[data-set]', function(el) {\n\t\t\t\t\t\tvar key = el.getAttribute('data-set'),\n\t\t\t\t\t\t\tval = W._castString(el.getAttribute('data-value'));\n\n\t\t\t\t\t\tkey.slice(-2) == '[]' ?\n\t\t\t\t\t\t\t_add(2, store, observe, key.slice(0, -2), val) :\n\t\t\t\t\t\t\t_set(store, observe, key, val);\n\t\t\t\t\t}, {\n\t\t\t\t\t\tcontext: context\n\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Cast value to array if it isn't one\n\t\t\t\t *\n\t\t\t\t * @param {*} val\n\t\t\t\t * @returns {Array} value\n\t\t\t\t */\n\t\t\t\t$toArray: function(val) {\n\t\t\t\t\treturn val !== U ? (Array.isArray(val) ? val : [val]) : [];\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Determine the JavaScript type of an object\n\t\t\t\t *\n\t\t\t\t * @param {*} obj\n\t\t\t\t * @returns string\n\t\t\t\t */\n\t\t\t\t$type: function(obj) {\n\t\t\t\t\treturn obj === U ? 'undefined' :\n\t\t\t\t\t\tObject.prototype.toString.call(obj)\n\t\t\t\t\t\t\t.replace(/^\\[object (.+)]$/, '$1')\n\t\t\t\t\t\t\t.toLowerCase();\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Create new array with only unique values from source array\n\t\t\t\t *\n\t\t\t\t * @param {Array} array\n\t\t\t\t * @returns {Array} unique values\n\t\t\t\t */\n\t\t\t\t$unique: function(array) {\n\t\t\t\t\treturn array.reverse().filter(function(el, i, arr) {\n\t\t\t\t\t\treturn arr.indexOf(el, i + 1) < 0;\n\t\t\t\t\t}).reverse();\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Fallback for non-existent chaining\n\t\t\t\t */\n\t\t\t\t$chain: function() {},\n\n\t\t\t\t/**\n\t\t\t\t * Determine if value can be executed as a function\n\t\t\t\t *\n\t\t\t\t * @protected\n\t\t\t\t * @param {*} fn\n\t\t\t\t * @returns {boolean} is executable\n\t\t\t\t */\n\t\t\t\t_canExec: function(fn) {\n\t\t\t\t\tif (typeof fn == 'string' && fn.indexOf(':') > -1) {\n\t\t\t\t\t\tvar split = fn.split(':'),\n\t\t\t\t\t\t\tcontroller = W[split[0]],\n\t\t\t\t\t\t\tmethod = split[1];\n\n\t\t\t\t\t\tif (controller && controller[method]) {\n\t\t\t\t\t\t\tfn = controller[method];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn typeof fn == 'function';\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Cast string to most applicable data type\n\t\t\t\t *\n\t\t\t\t * @protected\n\t\t\t\t * @param {*} val\n\t\t\t\t */\n\t\t\t\t_castString: function(val) {\n\t\t\t\t\tif (typeof val == 'string') {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tval = val == 'true' ? true :\n\t\t\t\t\t\t\t\tval == 'false' ? false :\n\t\t\t\t\t\t\t\tval == 'null' ? null :\n\t\t\t\t\t\t\t\tparseInt(val).toString() == val ? parseInt(val) :\n\t\t\t\t\t\t\t\t\t/^(?:\\{[\\w\\W]*}|\\[[\\w\\W]*])$/.test(val) ? JSON.parse(val) :\n\t\t\t\t\t\t\t\t\tval;\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn val;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Extend object storage with object or key -> val\n\t\t\t\t *\n\t\t\t\t * @protected\n\t\t\t\t * @param {object} obj\n\t\t\t\t * @param {(object|string)} a\n\t\t\t\t * @param {*} b\n\t\t\t\t */\n\t\t\t\t_extend: function(obj, a, b) {\n\t\t\t\t\tvar val = a;\n\n\t\t\t\t\tif (typeof a == 'string') {\n\t\t\t\t\t\tval = [];\n\t\t\t\t\t\tval[a] = b;\n\t\t\t\t\t}\n\n\t\t\t\t\t_extend(obj, val);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Convert selection to array\n\t\t\t\t *\n\t\t\t\t * @protected\n\t\t\t\t * @param {($|HTMLElement|string)} selector\n\t\t\t\t * @param {object} [options]\n\t\t\t\t * @param {(HTMLElement|string)} [options.context=document]\n\t\t\t\t * @returns {($|Array)} nodes\n\t\t\t\t */\n\t\t\t\t_selArray: function(selector, options) {\n\t\t\t\t\tif (selector && selector._$) {\n\t\t\t\t\t\treturn selector;\n\t\t\t\t\t}\n\n\t\t\t\t\toptions = options || {};\n\n\t\t\t\t\tvar el = typeof selector == 'string' ?\n\t\t\t\t\t\tW.$(selector, options.context) :\n\t\t\t\t\t\tselector;\n\n\t\t\t\t\treturn W.$toArray(el);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Return a new controller method\n\t\t\t\t *\n\t\t\t\t * @protected\n\t\t\t\t * @param {string} name\n\t\t\t\t * @param {object} pub\n\t\t\t\t * @param {object} [priv]\n\t\t\t\t * @param {(boolean|object)} base\n\t\t\t\t * @param {object} [model]\n\t\t\t\t * @returns {Function}\n\t\t\t\t */\n\t\t\t\t_make: function(name, pub, priv, base, model) {\n\t\t\t\t\treturn function(id) {\n\t\t\t\t\t\tvar Public = pub || {},\n\t\t\t\t\t\t\tPrivate = priv || {};\n\n\t\t\t\t\t\t// Ensure the current controller is not being extended\n\t\t\t\t\t\tif (name != '_tmp') {\n\t\t\t\t\t\t\tvar store = {\n\t\t\t\t\t\t\t\t\t$: model || {}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tobserve = {},\n\t\t\t\t\t\t\t\tcore = {\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Get value from controller storage\n\t\t\t\t\t\t\t\t\t *\n\t\t\t\t\t\t\t\t\t * @returns {*}\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$get: function(key, fallback, set, options) {\n\t\t\t\t\t\t\t\t\t\treturn _get(store, observe, key, fallback, set, options);\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Set value in controller storage\n\t\t\t\t\t\t\t\t\t *\n\t\t\t\t\t\t\t\t\t * @returns {*}\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$set: function(key, val, options) {\n\t\t\t\t\t\t\t\t\t\treturn _set(store, observe, key, val, options);\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Check if storage criteria is set\n\t\t\t\t\t\t\t\t\t *\n\t\t\t\t\t\t\t\t\t * @returns {boolean}\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$has: function(key, val) {\n\t\t\t\t\t\t\t\t\t\treturn _has(store, key, val);\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Push value into controller storage\n\t\t\t\t\t\t\t\t\t *\n\t\t\t\t\t\t\t\t\t * @returns {Array}\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$push: function(key, val, prepend) {\n\t\t\t\t\t\t\t\t\t\treturn _add(2, store, observe, key, val, prepend);\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Concatenate values into controller storage\n\t\t\t\t\t\t\t\t\t *\n\t\t\t\t\t\t\t\t\t * @returns {Array}\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$concat: function(key, val, prepend) {\n\t\t\t\t\t\t\t\t\t\treturn _add(1, store, observe, key, val, prepend);\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Extend object into controller storage\n\t\t\t\t\t\t\t\t\t *\n\t\t\t\t\t\t\t\t\t * @returns {Array}\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$merge: function(key, obj) {\n\t\t\t\t\t\t\t\t\t\treturn _merge(store, observe, key, obj);\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Remove value from controller storage\n\t\t\t\t\t\t\t\t\t *\n\t\t\t\t\t\t\t\t\t * @returns {Array}\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$drop: function(key, val) {\n\t\t\t\t\t\t\t\t\t\treturn _drop(store, observe, key, val);\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Attach callback to data storage change\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$observe: function(key, fn, options) {\n\t\t\t\t\t\t\t\t\t\t_observe(observe, key, fn, options);\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Remove callback from data storage change\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$unobserve: function(key) {\n\t\t\t\t\t\t\t\t\t\tdelete observe[key];\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Execute matching observed callbacks\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$trigger: function(key) {\n\t\t\t\t\t\t\t\t\t\tvar val = _get(store, false, key);\n\n\t\t\t\t\t\t\t\t\t\t_trigger(store, observe, key, val, val, 'trigger');\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Destroy current controller\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$destroy: function() {\n\t\t\t\t\t\t\t\t\t\tif (this.$private._destruct) {\n\t\t\t\t\t\t\t\t\t\t\tthis.$private._destruct();\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif (this._destruct) {\n\t\t\t\t\t\t\t\t\t\t\tthis._destruct();\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t// If namespaced delete root property\n\t\t\t\t\t\t\t\t\t\tif (id) {\n\t\t\t\t\t\t\t\t\t\t\tdelete W[id];\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// Extend public and private objects with core methods\n\t\t\t\t\t\t\tPublic = _extend(Public, core);\n\t\t\t\t\t\t\tPrivate = _extend(Private, core);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Clone controller objects for instance support\n\t\t\t\t\t\tPublic = _copy(Public);\n\t\t\t\t\t\tPrivate = _copy(Private);\n\n\t\t\t\t\t\t// Interface $public and $private\n\t\t\t\t\t\tPublic.$private = Private;\n\t\t\t\t\t\tPrivate.$public = Public;\n\n\t\t\t\t\t\tif (base) {\n\t\t\t\t\t\t\tvar pubDest = Public.$destroy,\n\t\t\t\t\t\t\t\tbasePubDest = base._destruct,\n\t\t\t\t\t\t\t\tbasePrivDest = base.$private._destruct;\n\n\t\t\t\t\t\t\t// Extend controller methods into base\n\t\t\t\t\t\t\tPublic = _extend(base, Public, true);\n\t\t\t\t\t\t\tPublic.$private.$public = Public;\n\n\t\t\t\t\t\t\tPublic.$destroy = function() {\n\t\t\t\t\t\t\t\t// Execute controller destructor\n\t\t\t\t\t\t\t\tpubDest.call(this);\n\n\t\t\t\t\t\t\t\t// Execute base destructors\n\t\t\t\t\t\t\t\tif (basePrivDest) {\n\t\t\t\t\t\t\t\t\tbasePrivDest.call(this.$private);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (basePubDest) {\n\t\t\t\t\t\t\t\t\tbasePubDest.call(this);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn Public;\n\t\t\t\t\t};\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Execute specified function when document is ready\n\t\t\t\t *\n\t\t\t\t * @param {(Array|function|string)} fn\n\t\t\t\t */\n\t\t\t\tready: function(fn) {\n\t\t\t\t\tD.readyState == 'complete' ?\n\t\t\t\t\t\tW.$exec(fn) :\n\t\t\t\t\t\tD.addEventListener('DOMContentLoaded', function() {\n\t\t\t\t\t\t\tW.$exec(fn);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t})();\n\n\t// Set data variables and bind elements\n\tif (web) {\n\t\tW.$setRef();\n\t\tW.$setVar();\n\t}\n\n\texports = Wee = W;\n\n\tif (typeof module == 'object' && module.exports) {\n\t\tmodule.exports = W;\n\t}\n})(Wee, undefined);","/* jshint maxparams: 5 */\n\n(function(W) {\n\t'use strict';\n\n\t/**\n\t * Default easing functions\n\t */\n\tvar easings = {\n\t\t\tease: function(t) {\n\t\t\t\treturn t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n\t\t\t},\n\t\t\tlinear: function(t) {\n\t\t\t\treturn t;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Process a specific animation property\n\t\t *\n\t\t * @param {HTMLElement} el\n\t\t * @param {string} prop\n\t\t * @param {number} target\n\t\t * @param {object} conf\n\t\t * @param {function} ease\n\t\t */\n\t\tprocess = function(el, prop, target, conf, ease) {\n\t\t\tvar scroll = prop == 'scrollTop' || prop == 'scrollLeft',\n\t\t\t\tbodyScroll = scroll && el === W._body,\n\t\t\t\tcssValue;\n\n\t\t\tif (! scroll) {\n\t\t\t\tcssValue = getComputedStyle(el, null)[prop];\n\t\t\t}\n\n\t\t\tvar css = cssValue !== undefined,\n\t\t\t\tunit = css && cssValue.slice(-2) == 'px' ? 'px' : '',\n\t\t\t\tval = parseInt(\n\t\t\t\t\tcss ?\n\t\t\t\t\t\tcssValue :\n\t\t\t\t\t\tbodyScroll ? (el[prop] || W._html[prop]) : el[prop]\n\t\t\t\t),\n\t\t\t\tsetValue = function(prop, update) {\n\t\t\t\t\tcss ?\n\t\t\t\t\t\tel.style[prop] = update + unit :\n\t\t\t\t\t\tel[prop] = update;\n\n\t\t\t\t\tif (bodyScroll) {\n\t\t\t\t\t\tW._html[prop] = update;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdir = target > val ? 1 : -1,\n\t\t\t\tdist = Math.abs(target - val),\n\t\t\t\tstart = Date.now(),\n\t\t\t\tfn = function() {\n\t\t\t\t\tvar diff = Date.now() - start;\n\n\t\t\t\t\tif (dist && diff < conf.duration) {\n\t\t\t\t\t\tsetValue(prop, val + dist * ease(diff / conf.duration) * dir);\n\t\t\t\t\t\traf(fn);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetValue(prop, target);\n\t\t\t\t\t\tconf.i--;\n\n\t\t\t\t\t\tif (conf.complete && ! conf.i) {\n\t\t\t\t\t\t\tW.$exec(conf.complete);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\tfn();\n\t\t},\n\t\traf;\n\n\tW.animate = {\n\t\t/**\n\t\t * Transition an attribute or property value\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {object} values\n\t\t * @param {object} [options]\n\t\t * @param {(Array|function|string)} [options.complete]\n\t\t * @param {number} [options.duration=400]\n\t\t * @param {string} [options.ease='ease']\n\t\t */\n\t\ttween: function(target, values, options) {\n\t\t\tvar conf = W.$extend({\n\t\t\t\t\tduration: 400\n\t\t\t\t}, options),\n\t\t\t\tease = easings[conf.ease] || easings.ease;\n\t\t\tconf.i = 0;\n\n\t\t\tif (! raf) {\n\t\t\t\traf = W._win.requestAnimationFrame || function(cb) {\n\t\t\t\t\tsetTimeout(cb, 15);\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tW.$each(target, function(el) {\n\t\t\t\tfor (var prop in values) {\n\t\t\t\t\tconf.i++;\n\t\t\t\t\tprocess(el, prop, parseInt(values[prop]), conf, ease);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Add additional easing function(s)\n\t\t *\n\t\t * @param {(object|string)} a - name or easing object\n\t\t * @param {function} [b] - easing function\n\t\t */\n\t\taddEasing: function(a, b) {\n\t\t\tW._extend(easings, a, b);\n\t\t}\n\t};\n})(Wee);","(function(W, U) {\n\t'use strict';\n\n\tvar groups = {},\n\t\tloaded = {},\n\t\troot = '',\n\t\tgroupId = 1,\n\n\t\t_load = {\n\t\t\t/**\n\t\t\t * Request JavaScript\n\t\t\t *\n\t\t\t * @private\n\t\t\t * @param {string} path\n\t\t\t * @param {object} conf\n\t\t\t * @param {string} conf.group\n\t\t\t * @param {boolean} [conf.async=false]\n\t\t\t */\n\t\t\tjs: function(path, conf) {\n\t\t\t\tvar js = W._doc.createElement('script');\n\n\t\t\t\tjs.async = conf.async === true;\n\t\t\t\tjs.onload = function() {\n\t\t\t\t\tloaded[js.src] = js;\n\t\t\t\t\t_done(conf.group);\n\t\t\t\t};\n\n\t\t\t\tjs.onerror = function() {\n\t\t\t\t\t_fail(conf.group);\n\t\t\t\t};\n\n\t\t\t\tjs.src = path;\n\t\t\t\tW._doc.head.appendChild(js);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Request stylesheet\n\t\t\t *\n\t\t\t * @private\n\t\t\t * @param {string} path\n\t\t\t * @param {object} conf\n\t\t\t * @param {string} conf.group\n\t\t\t */\n\t\t\tcss: function(path, conf) {\n\t\t\t\tvar link = W._doc.createElement('link');\n\n\t\t\t\tlink.rel = 'stylesheet';\n\t\t\t\tlink.href = path;\n\n\t\t\t\tlink.addEventListener('load', function() {\n\t\t\t\t\tloaded[link.href] = link;\n\t\t\t\t\t_done(conf.group);\n\t\t\t\t}, false);\n\n\t\t\t\tlink.addEventListener('error', function() {\n\t\t\t\t\t_fail(conf.group);\n\t\t\t\t}, false);\n\n\t\t\t\tW._doc.head.appendChild(link);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Request image\n\t\t\t *\n\t\t\t * @private\n\t\t\t * @param {string} path\n\t\t\t * @param {object} conf\n\t\t\t * @param {string} conf.group\n\t\t\t */\n\t\t\timg: function(path, conf) {\n\t\t\t\tvar img = new Image();\n\n\t\t\t\timg.onload = function() {\n\t\t\t\t\t_done(conf.group);\n\t\t\t\t};\n\n\t\t\t\timg.onerror = function() {\n\t\t\t\t\t_fail(conf.group);\n\t\t\t\t};\n\n\t\t\t\timg.src = path;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Decrement remaining asset count\n\t\t *\n\t\t * @private\n\t\t * @param {string} group\n\t\t */\n\t\t_done = function(group) {\n\t\t\tgroups[group][0]--;\n\t\t\tW.assets.ready(group, {}, false);\n\t\t},\n\n\t\t/**\n\t\t * Increment failed asset count\n\t\t *\n\t\t * @private\n\t\t * @param {string} group\n\t\t */\n\t\t_fail = function(group) {\n\t\t\tgroups[group][2]++;\n\t\t\t_done(group);\n\t\t};\n\n\tW.assets = {\n\t\t/**\n\t\t * Get current asset root or set with specified value\n\t\t *\n\t\t * @param {string} [value]\n\t\t * @returns {string} root\n\t\t */\n\t\troot: function(value) {\n\t\t\tif (value) {\n\t\t\t\troot = value;\n\t\t\t}\n\n\t\t\treturn root;\n\t\t},\n\n\t\t/**\n\t\t * Load specified assets with set options\n\t\t *\n\t\t * @param {object} options\n\t\t * @param {boolean} [options.async=false]\n\t\t * @param {boolean} [options.cache=false]\n\t\t * @param {(Array|string)} [options.css]\n\t\t * @param {(Array|function|string)} [options.error]\n\t\t * @param {(Array|string)} [options.files]\n\t\t * @param {string} [options.group]\n\t\t * @param {(Array|string)} [options.img]\n\t\t * @param {(Array|string)} [options.js]\n\t\t * @param {string} [options.root]\n\t\t * @param {(Array|function|string)} [options.success]\n\t\t */\n\t\tload: function(options) {\n\t\t\tvar files = W.$toArray(options.files),\n\t\t\t\tjs = W.$toArray(options.js),\n\t\t\t\tcss = W.$toArray(options.css),\n\t\t\t\timg = W.$toArray(options.img),\n\t\t\t\troot = options.root !== U ? options.root : this.root(),\n\t\t\t\tassets = [],\n\t\t\t\ti = 0,\n\t\t\t\ttype;\n\n\t\t\t// Create group name if not specified\n\t\t\tif (! options.group) {\n\t\t\t\toptions.group = 'g' + groupId++;\n\t\t\t}\n\n\t\t\t// Determine file type\n\t\t\tfor (; i < files.length; i++) {\n\t\t\t\tvar ext = files[i].split('.').pop().split(/#|\\?/)[0];\n\t\t\t\ttype = ext == 'js' || ext == 'css' ?\n\t\t\t\t\text : /(gif|jpe?g|png|svg|webp)$/i.test(ext) ?\n\t\t\t\t\t\t'img' : '';\n\n\t\t\t\tif (type) {\n\t\t\t\t\tassets[files[i]] = type;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (i = 0; i < js.length; i++) {\n\t\t\t\tassets[js[i]] = 'js';\n\t\t\t}\n\n\t\t\tfor (i = 0; i < css.length; i++) {\n\t\t\t\tassets[css[i]] = 'css';\n\t\t\t}\n\n\t\t\tfor (i = 0; i < img.length; i++) {\n\t\t\t\tassets[img[i]] = 'img';\n\t\t\t}\n\n\t\t\t// Set file array length to check against\n\t\t\tgroups[options.group] = [\n\t\t\t\tObject.keys(assets).length,\n\t\t\t\toptions,\n\t\t\t\t0\n\t\t\t];\n\n\t\t\t// Request each specified file\n\t\t\tfor (var file in assets) {\n\t\t\t\tvar noCache = options.cache === false,\n\t\t\t\t\ta = W._doc.createElement('a');\n\n\t\t\t\ttype = assets[file];\n\t\t\t\ta.href = (root && /^(https?:)?\\/\\//i.test(file) ? '' : root) +\n\t\t\t\t\tfile;\n\t\t\t\tfile = a.href;\n\n\t\t\t\tif (! loaded[file] || noCache) {\n\t\t\t\t\tif (noCache) {\n\t\t\t\t\t\tfile += (file.indexOf('?') < 0 ? '?' : '&') + Date.now();\n\t\t\t\t\t}\n\n\t\t\t\t\t_load[type](file, options);\n\t\t\t\t} else {\n\t\t\t\t\t_done(options.group);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Remove one or more files from the DOM\n\t\t *\n\t\t * @param {(Array|string)} files\n\t\t * @param {string} [root='']\n\t\t */\n\t\tremove: function(files, root) {\n\t\t\tfiles = W.$toArray(files);\n\t\t\troot = root || '';\n\n\t\t\tvar a = W._doc.createElement('a');\n\n\t\t\tfiles.forEach(function(key) {\n\t\t\t\tvar src = root + files[key];\n\t\t\t\ta.href = src;\n\t\t\t\tsrc = a.href;\n\n\t\t\t\tvar el = loaded[src];\n\n\t\t\t\tif (el !== U) {\n\t\t\t\t\tel.parentNode.removeChild(el);\n\t\t\t\t\tel = null;\n\t\t\t\t\tdelete loaded[src];\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Execute callback when specified references are ready\n\t\t *\n\t\t * @param {string} group\n\t\t * @param {object} [options]\n\t\t * @param {Array} [options.args]\n\t\t * @param {(Array|function|string)} [options.error]\n\t\t * @param {object} [options.scope]\n\t\t * @param {(Array|function|string)} [options.success]\n\t\t * @param {boolean} [poll=false]\n\t\t * @returns {boolean} ready\n\t\t */\n\t\tready: function(group, options, poll) {\n\t\t\tvar set = groups[group],\n\t\t\t\tcomplete = set && ! set[0];\n\n\t\t\tif (options === U) {\n\t\t\t\treturn complete;\n\t\t\t}\n\n\t\t\tif (complete) {\n\t\t\t\tvar conf = W.$extend(set[1], options),\n\t\t\t\t\thasErrors = set[2];\n\t\t\t\toptions = {\n\t\t\t\t\targs: conf.args,\n\t\t\t\t\tscope: conf.scope\n\t\t\t\t};\n\n\t\t\t\tif (conf.error && hasErrors) {\n\t\t\t\t\tW.$exec(conf.error, options);\n\t\t\t\t} else if (conf.success && ! hasErrors) {\n\t\t\t\t\tW.$exec(conf.success, options);\n\t\t\t\t}\n\t\t\t} else if (poll) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tW.assets.ready(group, options, true);\n\t\t\t\t}, 20);\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Cache existing CSS and JavaScript assets\n\t */\n\tW.$each('link[rel=\"stylesheet\"], script[src]', function(el) {\n\t\tloaded[el.src || el.href] = el;\n\t});\n})(Wee, undefined);","(function(W) {\n\t'use strict';\n\n\tvar version = 1,\n\n\t\t/**\n\t\t * Process the readyState change event\n\t\t *\n\t\t * @private\n\t\t * @param {XMLHttpRequest} x\n\t\t * @param {object} conf\n\t\t * @returns {*}\n\t\t */\n\t\t_change = function(x, conf) {\n\t\t\tif (x.readyState === 4) {\n\t\t\t\tvar code = x.status,\n\t\t\t\t\texec = {\n\t\t\t\t\t\targs: conf.args,\n\t\t\t\t\t\tscope: conf.scope\n\t\t\t\t\t};\n\n\t\t\t\tif (code >= 200 && code < 400) {\n\t\t\t\t\tif (conf.success) {\n\t\t\t\t\t\t_success(x, conf);\n\t\t\t\t\t}\n\t\t\t\t} else if (conf.error) {\n\t\t\t\t\tW.$exec(conf.error, exec);\n\t\t\t\t}\n\n\t\t\t\tif (conf.complete) {\n\t\t\t\t\tW.$exec(conf.complete, exec);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Execute the request success callback\n\t\t *\n\t\t * @private\n\t\t * @param {XMLHttpRequest} x\n\t\t * @param {object} conf\n\t\t * @returns {boolean}\n\t\t */\n\t\t_success = function(x, conf) {\n\t\t\tvar resp = ! conf.responseType || conf.responseType == 'text' ?\n\t\t\t\t\tx.responseText :\n\t\t\t\t\tx.response,\n\t\t\t\texec = {\n\t\t\t\t\targs: conf.args.slice(0),\n\t\t\t\t\tscope: conf.scope\n\t\t\t\t};\n\n\t\t\t// Parse JSON response if specified\n\t\t\tif (conf.json) {\n\t\t\t\ttry {\n\t\t\t\t\tresp = JSON.parse(resp);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tresp = {};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\texec.args.unshift(resp);\n\n\t\t\t// Execute success callback if specified\n\t\t\tW.$exec(conf.success, exec);\n\t\t},\n\n\t\t/**\n\t\t * Process JSONP request\n\t\t *\n\t\t * @private\n\t\t * @param {object} conf\n\t\t */\n\t\t_jsonp = function(conf) {\n\t\t\tvar el = W._doc.createElement('script');\n\n\t\t\tif (conf.success) {\n\t\t\t\tvar fn = conf.jsonpCallback;\n\n\t\t\t\tif (! fn) {\n\t\t\t\t\tfn = 'jsonp' + version;\n\t\t\t\t\tversion++;\n\t\t\t\t}\n\n\t\t\t\tW._win[fn] = function(data) {\n\t\t\t\t\tconf.args.unshift(data);\n\n\t\t\t\t\tW.$exec(conf.success, {\n\t\t\t\t\t\targs: conf.args,\n\t\t\t\t\t\tscope: conf.scope\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tconf.data[\n\t\t\t\t\tconf.jsonp === true ?\n\t\t\t\t\t\t'callback' :\n\t\t\t\t\t\tconf.jsonp\n\t\t\t\t\t] = fn;\n\t\t\t}\n\n\t\t\tel.src = W.data._getUrl(conf);\n\n\t\t\tif (conf.error) {\n\t\t\t\tel.onerror = function() {\n\t\t\t\t\tW.$exec(conf.error, {\n\t\t\t\t\t\targs: conf.args,\n\t\t\t\t\t\tscope: conf.scope\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tW._doc.head.appendChild(el);\n\t\t};\n\n\tW.data = {\n\t\t/**\n\t\t * Make request based on specified options\n\t\t *\n\t\t * @param {object} options\n\t\t * @param {Array} [options.args] - callback arguments appended after default values\n\t\t * @param {(Array|function|string)} [options.complete] - callback on request completion\n\t\t * @param {boolean} [options.cache=true] - disable automatic cache-busting query string\n\t\t * @param {object} [options.data] - object to serialize and pass along with request\n\t\t * @param {(Array|function|string)} [options.error] - callback if request fails\n\t\t * @param {object} [options.headers] - request headers\n\t\t * @param {boolean} [options.json=false] - evaluate the response as JSON and return object\n\t\t * @param {(boolean|string)} [options.jsonp=false] - boolean or callback query parameter override\n\t\t * @param {string} [options.jsonpCallback] - override the name of the JSONP callback function\n\t\t * @param {string} [options.method=get] - request verb\n\t\t * @param {boolean} [options.processData=true] - post data in the body\n\t\t * @param {string} [options.responseType] - set the type of the response\n\t\t * @param {string} [options.root=''] - prepended request path\n\t\t * @param {object} [options.scope] - callback scope\n\t\t * @param {(Array|function|string)} [options.send] - executed before Ajax call\n\t\t * @param {(Array|function|string)} [options.success] - callback if request succeeds\n\t\t * @param {string} [options.type] - form, html, json, or xml\n\t\t * @param {string} options.url - endpoint to request\n\t\t */\n\t\trequest: function(options) {\n\t\t\tvar conf = W.$extend({\n\t\t\t\targs: [],\n\t\t\t\tdata: {},\n\t\t\t\theaders: {},\n\t\t\t\tmethod: 'get',\n\t\t\t\troot: ''\n\t\t\t}, options);\n\n\t\t\tif (conf.cache === false) {\n\t\t\t\tconf.data.dt = Date.now();\n\t\t\t}\n\n\t\t\t// Prefix root path to url\n\t\t\tif (conf.root) {\n\t\t\t\tconf.url = (conf.root + '/' + conf.url).replace(/\\/{2,}/g, '/');\n\t\t\t}\n\n\t\t\t// Process JSONP\n\t\t\tif (conf.jsonp) {\n\t\t\t\treturn _jsonp(conf);\n\t\t\t}\n\n\t\t\tvar x = new XMLHttpRequest();\n\n\t\t\t// Inject XHR object as first callback argument\n\t\t\tconf.args.unshift(x);\n\n\t\t\tif (conf.send) {\n\t\t\t\tW.$exec(conf.send, {\n\t\t\t\t\targs: conf.args,\n\t\t\t\t\tscope: conf.scope\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tx.onreadystatechange = function() {\n\t\t\t\t_change(x, conf);\n\t\t\t};\n\n\t\t\tvar contentTypeHeader = 'Content-Type',\n\t\t\t\tmethod = conf.method.toUpperCase(),\n\t\t\t\tsend = null,\n\t\t\t\theaders = [];\n\n\t\t\t// Format data based on specified verb\n\t\t\tif (method == 'GET') {\n\t\t\t\tconf.url = this._getUrl(conf);\n\t\t\t} else {\n\t\t\t\tvar str = typeof conf.data == 'string';\n\n\t\t\t\tif (! str && ! conf.type) {\n\t\t\t\t\tconf.type = 'json';\n\t\t\t\t}\n\n\t\t\t\tsend = str || conf.processData === false ?\n\t\t\t\t\tconf.data :\n\t\t\t\t\tconf.type == 'json' ?\n\t\t\t\t\t\tJSON.stringify(conf.data) :\n\t\t\t\t\t\tW.$serialize(conf.data);\n\t\t\t}\n\n\t\t\tx.open(method, conf.url, true);\n\n\t\t\t// Add content type header\n\t\t\tif (conf.type == 'json') {\n\t\t\t\theaders[contentTypeHeader] = 'application/json';\n\t\t\t} else if (conf.type == 'xml') {\n\t\t\t\theaders[contentTypeHeader] = 'text/xml';\n\t\t\t} else if (method == 'POST' || conf.type == 'form') {\n\t\t\t\theaders[contentTypeHeader] =\n\t\t\t\t\t'application/x-www-form-urlencoded';\n\t\t\t}\n\n\t\t\t// Accept JSON header\n\t\t\tif (conf.json) {\n\t\t\t\theaders.Accept = 'application/json, text/javascript, */*; q=0.01';\n\t\t\t}\n\n\t\t\t// Add X-Requested-With header for same domain requests\n\t\t\tvar a = W._doc.createElement('a');\n\t\t\ta.href = conf.url;\n\n\t\t\tif (! a.host || a.host == location.host) {\n\t\t\t\theaders['X-Requested-With'] = 'XMLHttpRequest';\n\t\t\t}\n\n\t\t\t// Append character set to content type header\n\t\t\theaders[contentTypeHeader] += '; charset=UTF-8';\n\n\t\t\t// Extend configured headers into defaults\n\t\t\theaders = W.$extend(headers, conf.headers);\n\n\t\t\t// Set request headers\n\t\t\tfor (var key in headers) {\n\t\t\t\tvar val = headers[key];\n\n\t\t\t\tif (val !== false) {\n\t\t\t\t\tx.setRequestHeader(key, val);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set response type\n\t\t\tif (conf.responseType) {\n\t\t\t\tx.responseType = conf.responseType;\n\t\t\t}\n\n\t\t\tx.send(send);\n\t\t},\n\n\t\t/**\n\t\t * Generate final URL\n\t\t *\n\t\t * @private\n\t\t * @param {object} conf\n\t\t */\n\t\t_getUrl: function(conf) {\n\t\t\tvar url = conf.url.replace(/[\\?&]$/, '');\n\n\t\t\tif (conf.data && Object.keys(conf.data).length) {\n\t\t\t\turl += (url.indexOf('?') < 0 ? '?' : '&') +\n\t\t\t\t\tW.$serialize(conf.data);\n\t\t\t}\n\n\t\t\tif (url[0] != '/' && ! /^(?:[a-z]+:)?\\/\\//i.test(url)) {\n\t\t\t\turl = '/' + url;\n\t\t\t}\n\n\t\t\treturn url;\n\t\t}\n\t};\n\n\tW.fetch = W.data;\n})(Wee);","/* jshint maxdepth: 4 */\n\n(function(W, U) {\n\t'use strict';\n\n\t/**\n\t * Get the selected options from a select\n\t *\n\t * @private\n\t * @param {HTMLElement} select\n\t * @returns {Array} selected\n\t */\n\tvar _getSelected = function(select) {\n\t\tvar options = select.options,\n\t\t\tarr = [],\n\t\t\ti = 0;\n\n\t\tfor (; i < options.length; i++) {\n\t\t\tvar option = options[i];\n\n\t\t\tif (option.selected) {\n\t\t\t\tarr.push(option.value);\n\t\t\t}\n\t\t}\n\n\t\treturn arr;\n\t},\n\n\t/**\n\t * Get class value of element\n\t *\n\t * @private\n\t * @param {HTMLElement} el\n\t * @returns {string}\n\t */\n\t_getClass = function(el) {\n\t\treturn el instanceof SVGElement ?\n\t\t\tel.getAttribute('class') :\n\t\t\tel.className;\n\t},\n\n\t/**\n\t * Set class value of element\n\t *\n\t * @private\n\t * @param {HTMLElement} el\n\t * @param {string} className\n\t */\n\t_setClass = function(el, className) {\n\t\tel instanceof SVGElement ?\n\t\t\tel.setAttribute('class', className) :\n\t\t\tel.className = className;\n\t},\n\n\t/**\n\t * Return either direct previous or next sibling\n\t *\n\t * @private\n\t * @param {($|HTMLElement|string)} target\n\t * @param {int} dir\n\t * @param filter\n\t * @param {object} [options]\n\t * @returns {HTMLElement}\n\t */\n\t_getSibling = function(target, dir, filter, options) {\n\t\tvar match;\n\n\t\tW.$each(target, function(el) {\n\t\t\tvar index = W.$index(el) + dir;\n\n\t\t\tW.$children(W.$parent(el)).forEach(function(el, i) {\n\t\t\t\tif (i === index &&\n\t\t\t\t\t(! filter || filter && W.$is(el, filter, options))) {\n\t\t\t\t\tmatch = el;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\treturn match;\n\t},\n\n\t/**\n\t * Convert dash-separated string to camel-case\n\t *\n\t * @private\n\t * @param {string} name\n\t * @returns {string}\n\t */\n\t_toCamel = function(name) {\n\t\treturn name.toLowerCase()\n\t\t\t.replace(/-(.)/g, function(match, val) {\n\t\t\t\treturn val.toUpperCase();\n\t\t\t});\n\t},\n\n\t/**\n\t * Convert camel-cased string to dash-separated\n\t *\n\t * @private\n\t * @param {string} name\n\t * @returns {string}\n\t */\n\t_toDashed = function(name) {\n\t\treturn name.replace(/[A-Z]/g, function(match) {\n\t\t\treturn '-' + match[0].toLowerCase();\n\t\t});\n\t};\n\n\tW.fn.extend({\n\t\t/**\n\t\t * Add classes to each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|string)} value\n\t\t */\n\t\t$addClass: function(target, value) {\n\t\t\tvar func = W._canExec(value);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar cn = _getClass(el),\n\t\t\t\t\tname = func ?\n\t\t\t\t\t\tW.$exec(value, {\n\t\t\t\t\t\t\targs: [i, cn],\n\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\tvalue;\n\n\t\t\t\tif (name) {\n\t\t\t\t\tvar names = cn.split(' '),\n\t\t\t\t\t\tupd = name.split(' ').filter(function(val) {\n\t\t\t\t\t\t\treturn names.indexOf(val) < 0;\n\t\t\t\t\t\t});\n\n\t\t\t\t\tupd.unshift(cn);\n\n\t\t\t\t\t_setClass(el, upd.join(' '));\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Insert selection or markup after each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {($|function|HTMLElement|string)} source\n\t\t * @param {boolean} [remove=false]\n\t\t */\n\t\t$after: function(target, source, remove) {\n\t\t\tvar func = W._canExec(source);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar aft = func ?\n\t\t\t\t\tW.$exec(source, {\n\t\t\t\t\t\targs: [i, el.innerHTML],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tsource;\n\n\t\t\t\tif (typeof aft == 'string') {\n\t\t\t\t\taft = W.$parseHTML(aft);\n\t\t\t\t}\n\n\t\t\t\tif (aft) {\n\t\t\t\t\tvar par = el.parentNode;\n\n\t\t\t\t\tW.$each(aft, function(cel) {\n\t\t\t\t\t\tif (i > 0) {\n\t\t\t\t\t\t\tcel = W.$clone(cel)[0];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tpar.insertBefore(cel, el.nextSibling);\n\n\t\t\t\t\t\tW.$setRef(par);\n\t\t\t\t\t}, {\n\t\t\t\t\t\treverse: true\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (remove) {\n\t\t\t\t\tW.$remove(el);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Append selection or markup after each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {($|function|HTMLElement|string)} source\n\t\t */\n\t\t$append: function(target, source) {\n\t\t\tvar func = W._canExec(source);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar app = func ?\n\t\t\t\t\tW.$exec(source, {\n\t\t\t\t\t\targs: [i, el.innerHTML],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tsource;\n\n\t\t\t\tif (typeof app == 'string') {\n\t\t\t\t\tapp = W.$parseHTML(app);\n\t\t\t\t}\n\n\t\t\t\tif (app) {\n\t\t\t\t\tW.$each(app, function(cel) {\n\t\t\t\t\t\tel.appendChild(cel);\n\t\t\t\t\t});\n\n\t\t\t\t\tW.$setRef(el);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get attribute of first matching selection or set attribute\n\t\t * of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param a\n\t\t * @param b\n\t\t * @returns {(string|undefined)}\n\t\t */\n\t\t$attr: function(target, a, b) {\n\t\t\tvar obj = W.$isObject(a);\n\n\t\t\tif (b !== U || obj) {\n\t\t\t\tvar func = ! obj && W._canExec(b);\n\n\t\t\t\tW.$each(target, function(el, i) {\n\t\t\t\t\tobj ?\n\t\t\t\t\t\tObject.keys(a).forEach(function(key) {\n\t\t\t\t\t\t\tel.setAttribute(key, a[key]);\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\tel.setAttribute(a, func ?\n\t\t\t\t\t\t\tW.$exec(b, {\n\t\t\t\t\t\t\t\targs: [i, el],\n\t\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t\t}) :\n\t\t\t\t\t\t\tb\n\t\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn W.$(target)[0].getAttribute(a);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Insert selection or markup before each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {($|function|HTMLElement|string)} source\n\t\t * @param {boolean} [remove=false]\n\t\t */\n\t\t$before: function(target, source, remove) {\n\t\t\tvar func = W._canExec(source);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar bef = func ?\n\t\t\t\t\tW.$exec(source, {\n\t\t\t\t\t\targs: [i, el.innerHTML],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tsource;\n\n\t\t\t\tif (typeof bef == 'string') {\n\t\t\t\t\tbef = W.$parseHTML(bef);\n\t\t\t\t}\n\n\t\t\t\tif (bef) {\n\t\t\t\t\tvar par = el.parentNode;\n\n\t\t\t\t\tW.$each(bef, function(cel) {\n\t\t\t\t\t\tif (i > 0) {\n\t\t\t\t\t\t\tcel = W.$clone(cel)[0];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tpar.insertBefore(cel, el);\n\n\t\t\t\t\t\tW.$setRef(par);\n\t\t\t\t\t}, {\n\t\t\t\t\t\treverse: true\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (remove) {\n\t\t\t\t\tW.$remove(el);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get unique direct children of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} parent\n\t\t * @param filter\n\t\t * @returns {Array}\n\t\t */\n\t\t$children: function(parent, filter) {\n\t\t\tvar arr = [];\n\n\t\t\tW.$each(parent, function(el) {\n\t\t\t\tvar children = W._slice.call(el.children);\n\n\t\t\t\tarr = arr.concat(\n\t\t\t\t\tfilter ?\n\t\t\t\t\t\tW.$filter(children, filter) :\n\t\t\t\t\t\tchildren\n\t\t\t\t);\n\t\t\t});\n\n\t\t\treturn W.$unique(arr);\n\t\t},\n\n\t\t/**\n\t\t * Clone each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @returns {Array}\n\t\t */\n\t\t$clone: function(target) {\n\t\t\treturn W.$map(target, function(el) {\n\t\t\t\treturn el.cloneNode(true);\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get unique closest ancestors of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param filter\n\t\t * @param context\n\t\t * @returns {HTMLElement}\n\t\t */\n\t\t$closest: function(target, filter, context) {\n\t\t\treturn W.$unique(W.$map(target, function(el) {\n\t\t\t\tif (W.$is(el, filter)) {\n\t\t\t\t\treturn el;\n\t\t\t\t}\n\n\t\t\t\twhile (el !== null) {\n\t\t\t\t\tel = el.parentNode;\n\n\t\t\t\t\tif (el === W._html) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (W.$is(el, filter)) {\n\t\t\t\t\t\treturn el;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, {\n\t\t\t\tcontext: context\n\t\t\t}));\n\t\t},\n\n\t\t/**\n\t\t * Determine if any matching parent contains descendant selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} parent\n\t\t * @param descendant\n\t\t * @returns {boolean}\n\t\t */\n\t\t$contains: function(parent, descendant) {\n\t\t\tvar b = false;\n\n\t\t\tW.$each(parent, function(el) {\n\t\t\t\tif (W.$(descendant, el).length) {\n\t\t\t\t\tb = true;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn b;\n\t\t},\n\n\t\t/**\n\t\t * Get unique content of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} parent\n\t\t * @returns {Array}\n\t\t */\n\t\t$contents: function(parent) {\n\t\t\tvar arr = [];\n\n\t\t\tW.$each(parent, function(el) {\n\t\t\t\tarr = arr.concat(W._slice.call(el.childNodes));\n\t\t\t});\n\n\t\t\treturn W.$unique(arr);\n\t\t},\n\n\t\t/**\n\t\t * Get CSS value of first matching selection or set value\n\t\t * of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(object|string)} a\n\t\t * @param {(function|string)} [b]\n\t\t * @returns {(string|undefined)}\n\t\t */\n\t\t$css: function(target, a, b) {\n\t\t\tvar obj = W.$isObject(a);\n\n\t\t\tif (b !== U || obj) {\n\t\t\t\tvar func = ! obj && W._canExec(b);\n\n\t\t\t\tW.$each(target, function(el, i) {\n\t\t\t\t\tobj ?\n\t\t\t\t\t\tObject.keys(a).forEach(function(key) {\n\t\t\t\t\t\t\tel.style[key] = a[key];\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\tel.style[a] = func ?\n\t\t\t\t\t\t\tW.$exec(b, {\n\t\t\t\t\t\t\t\targs: [i, el.style[a]],\n\t\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t\t}) :\n\t\t\t\t\t\t\tb;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tvar el = W.$(target)[0];\n\n\t\t\t\treturn getComputedStyle(el, null)[a];\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Get data of first matching selection or set data\n\t\t * of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param a\n\t\t * @param [b]\n\t\t * @returns {(object|string|undefined)}\n\t\t */\n\t\t$data: function(target, a, b) {\n\t\t\tif (a === U) {\n\t\t\t\tvar el = W.$(target)[0],\n\t\t\t\t\tarr = {};\n\n\t\t\t\tW._slice.call(el.attributes).forEach(function(attr) {\n\t\t\t\t\tif (attr.name.substr(0, 5) == 'data-') {\n\t\t\t\t\t\tarr[_toCamel(attr.name.substr(5))] =\n\t\t\t\t\t\t\tW._castString(attr.value);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn arr;\n\t\t\t}\n\n\t\t\tif (W.$isObject(a)) {\n\t\t\t\tvar obj = {};\n\n\t\t\t\tObject.keys(a).forEach(function(key) {\n\t\t\t\t\tobj['data-' + _toDashed(key)] = a[key];\n\t\t\t\t});\n\n\t\t\t\ta = obj;\n\t\t\t} else {\n\t\t\t\ta = 'data-' + _toDashed(a);\n\t\t\t}\n\n\t\t\treturn W._castString(W.$attr(target, a, b));\n\t\t},\n\n\t\t/**\n\t\t * Remove child nodes from each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t */\n\t\t$empty: function(target) {\n\t\t\tW.$each(target, function(el) {\n\t\t\t\twhile (el.firstChild) {\n\t\t\t\t\tel.removeChild(el.firstChild);\n\t\t\t\t}\n\n\t\t\t\tW.$setRef(el);\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get indexed node of matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {int} index\n\t\t * @param {($|HTMLElement|string)} [context=document]\n\t\t * @returns {HTMLElement}\n\t\t */\n\t\t$eq: function(target, index, context) {\n\t\t\tvar el = W.$(target, context);\n\n\t\t\treturn el[index < 0 ? el.length + index : index];\n\t\t},\n\n\t\t/**\n\t\t * Return a filtered subset of elements from a matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param filter\n\t\t * @param [options]\n\t\t * @returns {Array} elements\n\t\t */\n\t\t$filter: function(target, filter, options) {\n\t\t\tvar func = W._canExec(filter);\n\n\t\t\treturn W.$map(target, function(el, i) {\n\t\t\t\tvar match = func ?\n\t\t\t\t\tW.$exec(filter, {\n\t\t\t\t\t\targs: [i, el],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tW.$is(el, filter, options);\n\n\t\t\t\treturn match ? el : false;\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get unique filtered descendants from each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} parent\n\t\t * @param filter\n\t\t * @returns {Array} elements\n\t\t */\n\t\t$find: function(parent, filter) {\n\t\t\tvar arr = [];\n\n\t\t\tW.$each(parent, function(el) {\n\t\t\t\tarr = arr.concat(W.$(filter, el));\n\t\t\t});\n\n\t\t\treturn W.$unique(arr);\n\t\t},\n\n\t\t/**\n\t\t * Get the first element of a matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {($|HTMLElement|string)} [context=document]\n\t\t * @returns {HTMLElement}\n\t\t */\n\t\t$first: function(target, context) {\n\t\t\treturn W.$(target, context)[0];\n\t\t},\n\n\t\t/**\n\t\t * Determine if the matching selection has a class\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {string} className\n\t\t * @returns {boolean}\n\t\t */\n\t\t$hasClass: function(target, className) {\n\t\t\treturn W.$(target).some(function(el) {\n\t\t\t\treturn new RegExp('(^| )' + className + '($| )', 'gim')\n\t\t\t\t\t.test(_getClass(el));\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get or set the height of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(boolean|function|number|string)} value\n\t\t * @returns {number}\n\t\t */\n\t\t$height: function(target, value) {\n\t\t\tvar func = value && W._canExec(value),\n\t\t\t\theight;\n\n\t\t\tif (value === U || value === true || func) {\n\t\t\t\tvar el = W.$(target)[0];\n\n\t\t\t\tif (el === W._win) {\n\t\t\t\t\theight = el.innerHeight;\n\t\t\t\t} else if (el === W._doc) {\n\t\t\t\t\theight = el.documentElement.scrollHeight;\n\t\t\t\t} else {\n\t\t\t\t\theight = el.offsetHeight;\n\n\t\t\t\t\tif (value === true) {\n\t\t\t\t\t\tvar style = getComputedStyle(el);\n\t\t\t\t\t\theight += parseFloat(style.marginTop) +\n\t\t\t\t\t\t\tparseFloat(style.marginBottom);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (! func) {\n\t\t\t\t\treturn height;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvalue = func ?\n\t\t\t\t\tW.$exec(value, {\n\t\t\t\t\t\targs: [i, height],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tvalue;\n\n\t\t\t\tif (typeof value == 'number') {\n\t\t\t\t\tvalue += 'px';\n\t\t\t\t}\n\n\t\t\t\tW.$css(el, 'height', value);\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Hide each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t */\n\t\t$hide: function(target) {\n\t\t\tW.$addClass(target, 'js-hide');\n\t\t},\n\n\t\t/**\n\t\t * Get inner HTML of first selection or set each matching selection HTML\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|string)} value\n\t\t * @returns {(string|undefined)}\n\t\t */\n\t\t$html: function(target, value) {\n\t\t\tif (value === U) {\n\t\t\t\treturn W.$(target)[0].innerHTML;\n\t\t\t}\n\n\t\t\tvar func = W._canExec(value);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar html = func ?\n\t\t\t\t\tW.$exec(value, {\n\t\t\t\t\t\targs: [i, el.innerHTML],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tvalue;\n\n\t\t\t\tif (html !== false && html !== U) {\n\t\t\t\t\tif (el.nodeName == 'SELECT' && ! W._win.atob) {\n\t\t\t\t\t\tel.outerHTML = el.outerHTML.replace(\n\t\t\t\t\t\t\tel.innerHTML + '</s', html + '</s'\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tel.innerHTML = html;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get the zero-based index of a matching selection relative\n\t\t * to it's siblings\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @returns {int}\n\t\t */\n\t\t$index: function(target) {\n\t\t\tvar el = W.$(target)[0],\n\t\t\t\tchildren = W.$children(W.$parent(el)),\n\t\t\t\ti = 0;\n\n\t\t\tfor (; i < children.length; i++) {\n\t\t\t\tif (children[i] === el) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn -1;\n\t\t},\n\n\t\t/**\n\t\t * Insert each matching source selection element after\n\t\t * each matching target selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} source\n\t\t * @param {($|HTMLElement|string)} target\n\t\t */\n\t\t$insertAfter: function(source, target) {\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar par = el.parentNode;\n\n\t\t\t\tW.$each(source, function(cel) {\n\t\t\t\t\tif (i > 0) {\n\t\t\t\t\t\tcel = W.$clone(cel)[0];\n\t\t\t\t\t}\n\n\t\t\t\t\tpar.insertBefore(cel, el.nextSibling);\n\n\t\t\t\t\tW.$setRef(par);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Insert each matching source selection element before\n\t\t * each matching target selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} source\n\t\t * @param {($|HTMLElement|string)} target\n\t\t */\n\t\t$insertBefore: function(source, target) {\n\t\t\tW.$each(target, function(el) {\n\t\t\t\tW.$each(source, function(cel) {\n\t\t\t\t\tel.parentNode.insertBefore(cel, el);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Determine if at least one matching selection matches\n\t\t * a specified criteria\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param filter\n\t\t * @param [options]\n\t\t * @returns {boolean}\n\t\t */\n\t\t$is: function(target, filter, options) {\n\t\t\treturn W.$map(target, function(el, i) {\n\t\t\t\tif (typeof filter == 'string' && filter.slice(0, 4) == 'ref:') {\n\t\t\t\t\treturn W.$(filter).indexOf(el) > -1;\n\t\t\t\t}\n\n\t\t\t\tif (W.$isObject(filter)) {\n\t\t\t\t\tfor (var key in filter) {\n\t\t\t\t\t\tif (filter[key] === el) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif (Array.isArray(filter)) {\n\t\t\t\t\treturn filter.indexOf(el) > -1;\n\t\t\t\t}\n\n\t\t\t\tif (W._canExec(filter)) {\n\t\t\t\t\treturn W.$exec(filter, W.$extend({\n\t\t\t\t\t\targs: [i, el],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}, options));\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\tel.matches ||\n\t\t\t\t\tel.msMatchesSelector ||\n\t\t\t\t\tel.webkitMatchesSelector ||\n\t\t\t\t\tel.mozMatchesSelector\n\t\t\t\t).call(el, filter);\n\t\t\t}).length > 0;\n\t\t},\n\n\t\t/**\n\t\t * Get the last element of a matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {($|HTMLElement|string)} [context=document]\n\t\t * @returns {HTMLElement}\n\t\t */\n\t\t$last: function(target, context) {\n\t\t\treturn W.$eq(target, -1, context);\n\t\t},\n\n\t\t/**\n\t\t * Get the unique next sibling of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param filter\n\t\t * @param {object} [options]\n\t\t * @returns {Array} elements\n\t\t */\n\t\t$next: function(target, filter, options) {\n\t\t\treturn W.$unique(W.$map(target, function(el) {\n\t\t\t\treturn _getSibling(el, 1, filter, options);\n\t\t\t}));\n\t\t},\n\n\t\t/**\n\t\t * Returns elements not matching the filtered selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param filter\n\t\t * @param {object} [options]\n\t\t * @returns {Array} elements\n\t\t */\n\t\t$not: function(target, filter, options) {\n\t\t\tvar func = W._canExec(filter);\n\n\t\t\treturn W.$map(target, function(el, i) {\n\t\t\t\treturn (func ?\n\t\t\t\t\tW.$exec(filter, {\n\t\t\t\t\t\targs: [i, el],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tW.$is(el, filter, options)) ? false : el;\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get the position of a matching selection relative to the document\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|number)} value\n\t\t * @returns {{top: number, left: number}}\n\t\t */\n\t\t$offset: function(target, value) {\n\t\t\tvar rect = W.$(target)[0].getBoundingClientRect(),\n\t\t\t\toffset = {\n\t\t\t\t\ttop: rect.top + W._win.pageYOffset,\n\t\t\t\t\tleft: rect.left + W._win.pageXOffset\n\t\t\t\t};\n\n\t\t\tif (value) {\n\t\t\t\tvar func = W._canExec(value);\n\n\t\t\t\tW.$each(target, function(el, i) {\n\t\t\t\t\tvar set = func ?\n\t\t\t\t\t\tW.$exec(value, {\n\t\t\t\t\t\t\targs: [i, offset],\n\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\tvalue;\n\n\t\t\t\t\tif (typeof set.top == 'number') {\n\t\t\t\t\t\tset.top = set.top + 'px';\n\t\t\t\t\t}\n\n\t\t\t\t\tif (typeof set.left == 'number') {\n\t\t\t\t\t\tset.left = set.left + 'px';\n\t\t\t\t\t}\n\n\t\t\t\t\tW.$css(el, set);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn offset;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Get unique parent from each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} child\n\t\t * @param filter\n\t\t * @returns {Array} elements\n\t\t */\n\t\t$parent: function(child, filter) {\n\t\t\treturn W.$unique(W.$map(child, function(el) {\n\t\t\t\tvar parent = el.parentNode;\n\t\t\t\treturn ! filter || W.$is(parent, filter) ? parent : false;\n\t\t\t}));\n\t\t},\n\n\t\t/**\n\t\t * Get unique ancestors of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} child\n\t\t * @param filter\n\t\t * @returns {Array} elements\n\t\t */\n\t\t$parents: function(child, filter) {\n\t\t\tvar arr = [];\n\n\t\t\tW.$each(child, function(el) {\n\t\t\t\twhile (el !== null) {\n\t\t\t\t\tel = el.parentNode;\n\n\t\t\t\t\tif (! filter || (filter && W.$is(el, filter))) {\n\t\t\t\t\t\tarr.push(el);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (el === W._html) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn W.$unique(arr);\n\t\t},\n\n\t\t/**\n\t\t * Get the position of the first matching selection relative\n\t\t * to its offset parent\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @returns {{top: number, left: number}}\n\t\t */\n\t\t$position: function(target) {\n\t\t\tvar el = W.$(target)[0];\n\n\t\t\treturn {\n\t\t\t\ttop: el.offsetTop,\n\t\t\t\tleft: el.offsetLeft\n\t\t\t};\n\t\t},\n\n\t\t/**\n\t\t * Prepend selection or markup before each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {($|function|HTMLElement|string)} source\n\t\t */\n\t\t$prepend: function(target, source) {\n\t\t\tvar func = W._canExec(source);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar pre = func ?\n\t\t\t\t\tW.$exec(source, {\n\t\t\t\t\t\targs: [i, el.innerHTML],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tsource;\n\n\t\t\t\tif (typeof pre == 'string') {\n\t\t\t\t\tpre = W.$parseHTML(pre);\n\t\t\t\t}\n\n\t\t\t\tif (pre) {\n\t\t\t\t\tW.$each(pre, function(cel) {\n\t\t\t\t\t\tel.insertBefore(cel, el.firstChild);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get the unique previous sibling of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param filter\n\t\t * @param {object} [options]\n\t\t * @returns {Array} elements\n\t\t */\n\t\t$prev: function(target, filter, options) {\n\t\t\treturn W.$unique(W.$map(target, function(el) {\n\t\t\t\treturn _getSibling(el, -1, filter, options);\n\t\t\t}));\n\t\t},\n\n\t\t/**\n\t\t * Get property of first matching selection or set property of\n\t\t * each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param a\n\t\t * @param b\n\t\t * @returns {*}\n\t\t */\n\t\t$prop: function(target, a, b) {\n\t\t\tvar obj = W.$isObject(a);\n\n\t\t\tif (b !== U || obj) {\n\t\t\t\tvar func = ! obj && W._canExec(b);\n\n\t\t\t\tW.$each(target, function(el, i) {\n\t\t\t\t\tobj ?\n\t\t\t\t\t\tObject.keys(a).forEach(function(key) {\n\t\t\t\t\t\t\tel[key] = a[key];\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\tel[a] = func ?\n\t\t\t\t\t\t\tW.$exec(b, {\n\t\t\t\t\t\t\t\targs: [i, el],\n\t\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t\t}) :\n\t\t\t\t\t\t\tb;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tvar el = W.$(target)[0];\n\n\t\t\t\treturn el[a];\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Remove each matching selection from the document\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {($|HTMLElement|string)} [context=document]\n\t\t */\n\t\t$remove: function(target, context) {\n\t\t\tW.$each(target, function(el) {\n\t\t\t\tvar par = el.parentNode;\n\n\t\t\t\tpar.removeChild(el);\n\n\t\t\t\tW.$setRef(par);\n\t\t\t}, {\n\t\t\t\tcontext: context\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Remove specified attribute of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {string} name\n\t\t */\n\t\t$removeAttr: function(target, name) {\n\t\t\tW.$each(target, function(el) {\n\t\t\t\tname.split(/\\s+/).forEach(function(value) {\n\t\t\t\t\tel.removeAttribute(value);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Remove classes from each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|string)} value\n\t\t */\n\t\t$removeClass: function(target, value) {\n\t\t\tvar func = W._canExec(value);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar cn = _getClass(el),\n\t\t\t\t\tname = func ?\n\t\t\t\t\t\tW.$exec(value, {\n\t\t\t\t\t\t\targs: [i, cn],\n\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\tvalue;\n\n\t\t\t\tif (name) {\n\t\t\t\t\tvar names = name.split(' ');\n\n\t\t\t\t\t_setClass(el, cn.split(' ').filter(function(val) {\n\t\t\t\t\t\treturn names.indexOf(val) < 0;\n\t\t\t\t\t}).join(' '));\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Replace each matching selection with selection or markup\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {($|HTMLElement|string)} source\n\t\t */\n\t\t$replaceWith: function(target, source) {\n\t\t\tW.$after(target, source, true);\n\t\t},\n\n\t\t/**\n\t\t * Get or set the X scroll position of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {number} value\n\t\t * @returns {number}\n\t\t */\n\t\t$scrollLeft: function(target, value) {\n\t\t\tif (value === U) {\n\t\t\t\tvar el = target ? W.$(target)[0] : W._win;\n\n\t\t\t\treturn el === W._win ?\n\t\t\t\t\tel.pageXOffset :\n\t\t\t\t\tel.scrollLeft;\n\t\t\t}\n\n\t\t\tW.$each(target, function(el) {\n\t\t\t\tel.scrollLeft = value;\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get or set the Y scroll position of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {number} value\n\t\t * @returns {number}\n\t\t */\n\t\t$scrollTop: function(target, value) {\n\t\t\tif (value === U) {\n\t\t\t\tvar el = target ? W.$(target)[0] : W._win;\n\n\t\t\t\treturn el === W._win ?\n\t\t\t\t\tel.pageYOffset :\n\t\t\t\t\tel.scrollTop;\n\t\t\t}\n\n\t\t\tW.$each(target, function(el) {\n\t\t\t\tel.scrollTop = value;\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Serialize input values from first matching form selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {boolean} json\n\t\t * @returns {string}\n\t\t */\n\t\t$serializeForm: function(target, json) {\n\t\t\tvar el = W.$(target)[0],\n\t\t\t\tobj = {},\n\t\t\t\ti = 0;\n\n\t\t\tif (el.nodeName != 'FORM') {\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\tfor (; i < el.elements.length; i++) {\n\t\t\t\tvar child = el.elements[i],\n\t\t\t\t\tname = child.name,\n\t\t\t\t\ttype = child.type;\n\n\t\t\t\tif (name && type != 'file' && type != 'reset') {\n\t\t\t\t\tvar arr = name.slice(-2) == '[]';\n\n\t\t\t\t\tif (arr) {\n\t\t\t\t\t\tname = name.slice(0, -2);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (type == 'select-multiple') {\n\t\t\t\t\t\tobj[name] = _getSelected(child);\n\t\t\t\t\t} else if (\n\t\t\t\t\t\ttype != 'submit' && type != 'button' &&\n\t\t\t\t\t\t((type != 'checkbox' && type != 'radio') ||\n\t\t\t\t\t\tchild.checked)) {\n\t\t\t\t\t\tif (arr || (type == 'checkbox' && obj[name])) {\n\t\t\t\t\t\t\tobj[name] = W.$toArray(obj[name]);\n\t\t\t\t\t\t\tobj[name].push(child.value);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tobj[name] = child.value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn json ? obj : W.$serialize(obj);\n\t\t},\n\n\t\t/**\n\t\t * Show each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t */\n\t\t$show: function(target) {\n\t\t\tW.$removeClass(target, 'js-hide');\n\t\t},\n\n\t\t/**\n\t\t * Get unique siblings of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param filter\n\t\t * @returns {Array} elements\n\t\t */\n\t\t$siblings: function(target, filter) {\n\t\t\tvar arr = [];\n\n\t\t\tW.$each(target, function(el) {\n\t\t\t\tvar siblings = W._slice.call(el.parentNode.children),\n\t\t\t\t\ti = 0;\n\n\t\t\t\tfor (; i < siblings.length; i++) {\n\t\t\t\t\tif (siblings[i] === el) {\n\t\t\t\t\t\tsiblings.splice(i, 1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tarr = arr.concat(\n\t\t\t\t\tfilter ?\n\t\t\t\t\t\tW.$filter(siblings, filter) :\n\t\t\t\t\t\tsiblings\n\t\t\t\t);\n\t\t\t});\n\n\t\t\treturn W.$unique(arr);\n\t\t},\n\n\t\t/**\n\t\t * Get subset of selection matches from specified range\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {int} start\n\t\t * @param {int} end\n\t\t * @returns {Array} elements\n\t\t */\n\t\t$slice: function(target, start, end) {\n\t\t\tif (! target._$) {\n\t\t\t\ttarget = W._selArray(target);\n\t\t\t}\n\n\t\t\treturn W._slice.call(target, start, end);\n\t\t},\n\n\t\t/**\n\t\t * Get inner text of first selection or set each matching selection text\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|string)} value\n\t\t * @returns {string}\n\t\t */\n\t\t$text: function(target, value) {\n\t\t\tif (value === U) {\n\t\t\t\treturn W.$map(target, function(el) {\n\t\t\t\t\treturn el.textContent.trim();\n\t\t\t\t}).join('');\n\t\t\t}\n\n\t\t\tvar func = W._canExec(value);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tel.textContent = func ?\n\t\t\t\t\tW.$exec(value, {\n\t\t\t\t\t\targs: [i, el.textContent.trim()],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tvalue;\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Toggle the display of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t */\n\t\t$toggle: function(target) {\n\t\t\tW.$each(target, function(el) {\n\t\t\t\t! W.$hasClass(el, 'js-hide') ?\n\t\t\t\t\tW.$hide(el) :\n\t\t\t\t\tW.$show(el);\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Toggle adding and removing class(es) from the specified element\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|string)} className\n\t\t * @param {boolean} [state]\n\t\t */\n\t\t$toggleClass: function(target, className, state) {\n\t\t\tvar func = W._canExec(className);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tif (func) {\n\t\t\t\t\tclassName = W.$exec(className, {\n\t\t\t\t\t\targs: [i, _getClass(el), state],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (className) {\n\t\t\t\t\tclassName.split(/\\s+/).forEach(function(value) {\n\t\t\t\t\t\tstate === false ||\n\t\t\t\t\t\t(state === U && W.$hasClass(el, value)) ?\n\t\t\t\t\t\t\tW.$removeClass(el, value) :\n\t\t\t\t\t\t\tW.$addClass(el, value);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get value of first matching selection or set match values\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|string)} value\n\t\t * @returns {(Array|string)}\n\t\t */\n\t\t$val: function(target, value) {\n\t\t\tif (value === U) {\n\t\t\t\tvar el = W.$(target)[0];\n\n\t\t\t\tif (el.type == 'select-multiple') {\n\t\t\t\t\treturn _getSelected(el);\n\t\t\t\t}\n\n\t\t\t\treturn el.value;\n\t\t\t}\n\n\t\t\tvar func = W._canExec(value);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tif (el.nodeName == 'SELECT') {\n\t\t\t\t\tvar opt = W.$find(el, 'option');\n\t\t\t\t\tvalue = W.$toArray(value);\n\n\t\t\t\t\topt.forEach(function(a) {\n\t\t\t\t\t\tif (value.indexOf(a.value) > -1) {\n\t\t\t\t\t\t\ta.selected = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tel.value = func ?\n\t\t\t\t\t\tW.$exec(value, {\n\t\t\t\t\t\t\targs: [i, el.value],\n\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\tvalue;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get or set the width of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(boolean|function|number|string)} value\n\t\t * @returns {number}\n\t\t */\n\t\t$width: function(target, value) {\n\t\t\tvar func = value && W._canExec(value),\n\t\t\t\twidth;\n\n\t\t\tif (value === U || value === true || func) {\n\t\t\t\tvar el = W.$(target)[0];\n\n\t\t\t\tif (el === W._win) {\n\t\t\t\t\twidth = el.innerWidth;\n\t\t\t\t} else if (el === W._doc) {\n\t\t\t\t\twidth = el.documentElement.scrollWidth;\n\t\t\t\t} else {\n\t\t\t\t\twidth = el.offsetWidth;\n\n\t\t\t\t\tif (value === true) {\n\t\t\t\t\t\tvar style = getComputedStyle(el);\n\t\t\t\t\t\twidth += parseFloat(style.marginLeft) +\n\t\t\t\t\t\t\tparseFloat(style.marginRight);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (! func) {\n\t\t\t\t\treturn width;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvalue = func ?\n\t\t\t\t\tW.$exec(value, {\n\t\t\t\t\t\targs: [i, width],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tvalue;\n\n\t\t\t\tif (typeof value == 'number') {\n\t\t\t\t\tvalue += 'px';\n\t\t\t\t}\n\n\t\t\t\tW.$css(el, 'width', value);\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Wrap markup around each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|string)} html\n\t\t */\n\t\t$wrap: function(target, html) {\n\t\t\tvar func = W._canExec(html);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar wrap = W.$(\n\t\t\t\t\tfunc ?\n\t\t\t\t\t\tW.$exec(html, {\n\t\t\t\t\t\t\targs: i,\n\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\thtml\n\t\t\t\t);\n\n\t\t\t\tif (wrap) {\n\t\t\t\t\tvar par = el.parentNode;\n\n\t\t\t\t\tW.$each(wrap, function(cel) {\n\t\t\t\t\t\tcel = cel.cloneNode(true);\n\n\t\t\t\t\t\tpar.insertBefore(cel, el);\n\t\t\t\t\t\tcel.appendChild(el);\n\n\t\t\t\t\t\tW.$setRef(par);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Wrap markup around the content of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|string)} html\n\t\t */\n\t\t$wrapInner: function(target, html) {\n\t\t\tvar func = W._canExec(html);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar wrap = W.$parseHTML(\n\t\t\t\t\tfunc ?\n\t\t\t\t\t\tW.$exec(html, {\n\t\t\t\t\t\t\targs: i,\n\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\thtml\n\t\t\t\t);\n\n\t\t\t\tif (wrap) {\n\t\t\t\t\tvar children = W.$children(el);\n\n\t\t\t\t\tif (! children.length) {\n\t\t\t\t\t\tchildren = W.$html(el);\n\n\t\t\t\t\t\tW.$empty(el);\n\t\t\t\t\t\tW.$html(wrap, children);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tW.$each(children, function(cel) {\n\t\t\t\t\t\t\twrap[0].appendChild(cel);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tW.$append(el, wrap);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n})(Wee, undefined);","/* jshint maxparams: 5 */\n\n(function(W) {\n\t'use strict';\n\n\tvar bound = [],\n\t\tcustom = {},\n\n\t\t/**\n\t\t * Attach specific event logic to element\n\t\t *\n\t\t * @private\n\t\t * @param {(Array|HTMLElement|object|string)} els\n\t\t * @param {object} obj\n\t\t * @param {object} options\n\t\t */\n\t\t_bind = function(els, obj, options) {\n\t\t\t// Redefine variables when delegating\n\t\t\tif (options && options.delegate) {\n\t\t\t\toptions.targ = els;\n\t\t\t\tels = options.delegate;\n\t\t\t}\n\n\t\t\t// For each element attach events\n\t\t\tW.$each(els, function(el) {\n\t\t\t\t// Loop through object events\n\t\t\t\tfor (var key in obj) {\n\t\t\t\t\tvar evts = key.split(' '),\n\t\t\t\t\t\ti = 0;\n\n\t\t\t\t\tfor (; i < evts.length; i++) {\n\t\t\t\t\t\tvar conf = W.$extend({\n\t\t\t\t\t\t\t\targs: [],\n\t\t\t\t\t\t\t\tonce: false,\n\t\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t\t}, options),\n\t\t\t\t\t\t\tfn = obj[key],\n\t\t\t\t\t\t\tevt = evts[i],\n\t\t\t\t\t\t\tev = evt,\n\t\t\t\t\t\t\tparts = ev.split('.'),\n\t\t\t\t\t\t\tf = fn;\n\t\t\t\t\t\tevt = parts[0];\n\n\t\t\t\t\t\tif (parts.length == 1 && conf.namespace) {\n\t\t\t\t\t\t\tev += '.' + conf.namespace;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Prepend element to callback arguments if necessary\n\t\t\t\t\t\tif (conf.args[1] !== el) {\n\t\t\t\t\t\t\tconf.args.unshift(0, el);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t(function(el, evt, fn, f, conf) {\n\t\t\t\t\t\t\tvar cb = function(e) {\n\t\t\t\t\t\t\t\tvar cont = true;\n\t\t\t\t\t\t\t\tconf.args[0] = e;\n\n\t\t\t\t\t\t\t\t// If watch within ancestor make sure the target\n\t\t\t\t\t\t\t\t// matches the selector\n\t\t\t\t\t\t\t\tif (conf.targ) {\n\t\t\t\t\t\t\t\t\tvar targ = conf.targ,\n\t\t\t\t\t\t\t\t\t\tsel = targ._$ ? targ.sel : targ;\n\n\t\t\t\t\t\t\t\t\t// Update refs when targeting ref\n\t\t\t\t\t\t\t\t\tif (typeof sel == 'string' &&\n\t\t\t\t\t\t\t\t\t\tsel.indexOf('ref:') > -1) {\n\t\t\t\t\t\t\t\t\t\tW.$setRef(el);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tcont = W.$toArray(W.$(sel)).some(function(el) {\n\t\t\t\t\t\t\t\t\t\treturn el.contains(e.target) && (targ = el);\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t// Ensure element argument is the target\n\t\t\t\t\t\t\t\t\tconf.args[1] = conf.scope = targ;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (cont) {\n\t\t\t\t\t\t\t\t\tW.$exec(fn, conf);\n\n\t\t\t\t\t\t\t\t\t// Unbind after first execution\n\t\t\t\t\t\t\t\t\tif (conf.once) {\n\t\t\t\t\t\t\t\t\t\t_off(el, evt, f);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// Ensure the specified element, event, and function\n\t\t\t\t\t\t\t// combination hasn't already been bound\n\t\t\t\t\t\t\tif (evt != 'init' && ! W.events.bound(el, ev, f).length) {\n\t\t\t\t\t\t\t\t// Determine if the event is native or custom\n\t\t\t\t\t\t\t\tif ('on' + evt in el) {\n\t\t\t\t\t\t\t\t\tel.addEventListener(evt, cb, false);\n\t\t\t\t\t\t\t\t} else if (custom[evt]) {\n\t\t\t\t\t\t\t\t\tcustom[evt][0](el, fn, conf);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tbound.push({\n\t\t\t\t\t\t\t\t\tel: el,\n\t\t\t\t\t\t\t\t\tev: ev,\n\t\t\t\t\t\t\t\t\tevt: evt,\n\t\t\t\t\t\t\t\t\tcb: cb,\n\t\t\t\t\t\t\t\t\tfn: f\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (evt == 'init' || conf.init === true) {\n\t\t\t\t\t\t\t\tcb();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})(el, evt, fn, f, conf);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Detach event(s) from element\n\t\t *\n\t\t * @private\n\t\t * @param {(HTMLElement|string)} [sel]\n\t\t * @param {string} [evt]\n\t\t * @param {function} [fn]\n\t\t */\n\t\t_off = function(sel, evt, fn) {\n\t\t\tW.$each(W.events.bound(sel, evt, fn), function(e) {\n\t\t\t\tif ('on' + e.evt in W._doc) {\n\t\t\t\t\te.el.removeEventListener(e.evt, e.cb);\n\t\t\t\t} else if (custom[e.evt]) {\n\t\t\t\t\tcustom[e.evt][1](e.el, e.cb);\n\t\t\t\t}\n\n\t\t\t\tbound.splice(bound.indexOf(e), 1);\n\t\t\t});\n\t\t};\n\n\tW.events = {\n\t\t/**\n\t\t * Bind event function to element\n\t\t *\n\t\t * @param {(HTMLElement|object|string)} target\n\t\t * @param {(object|string)} a - event name or object of events\n\t\t * @param {(function|object)} [b] - event callback or options object\n\t\t * @param {(object|string)} [c] - event options\n\t\t * @param {Array} [c.args] - callback arguments\n\t\t * @param {(HTMLElement|string)} [c.context=document]\n\t\t * @param {(HTMLElement|string)} [c.delegate]\n\t\t * @param {boolean} [c.once=false] - remove event after first execution\n\t\t * @param {object} [c.scope]\n\t\t */\n\t\ton: function(target, a, b, c) {\n\t\t\tvar evts = [];\n\n\t\t\tif (W.$isObject(target) && ! target._$) {\n\t\t\t\tvar keys = Object.keys(target),\n\t\t\t\t\ti = 0;\n\n\t\t\t\tfor (; i < keys.length; i++) {\n\t\t\t\t\tvar key = keys[i];\n\t\t\t\t\tevts = target[key];\n\n\t\t\t\t\t_bind(key, evts, a);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (typeof a == 'string') {\n\t\t\t\t\tevts[a] = b;\n\t\t\t\t} else {\n\t\t\t\t\tevts = a;\n\t\t\t\t\tc = b;\n\t\t\t\t}\n\n\t\t\t\t_bind(target, evts, c);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Remove specified event from specified element\n\t\t *\n\t\t * @param {(HTMLElement|string)} [target]\n\t\t * @param {(object|string)} a - event name or object of events\n\t\t * @param {function} [b] - specific function to remove\n\t\t */\n\t\toff: function(target, a, b) {\n\t\t\tvar obj = a;\n\n\t\t\tif (a) {\n\t\t\t\tif (typeof a == 'string') {\n\t\t\t\t\tobj = [];\n\t\t\t\t\tobj[a] = b;\n\t\t\t\t}\n\n\t\t\t\tfor (var key in obj) {\n\t\t\t\t\tvar evts = key.split(' '),\n\t\t\t\t\t\ti = 0;\n\n\t\t\t\t\tfor (; i < evts.length; i++) {\n\t\t\t\t\t\tvar evt = evts[i],\n\t\t\t\t\t\tfn = obj[evt];\n\n\t\t\t\t\t\t_off(target, evt, fn);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t_off(target);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Get currently bound events to optional specified element and event|function\n\t\t *\n\t\t * @param {(boolean|HTMLElement|string)} [target]\n\t\t * @param {string} [event] - event name to match\n\t\t * @param {function} [fn] - specific function to match\n\t\t * @returns {Array} matches\n\t\t */\n\t\tbound: function(target, event, fn) {\n\t\t\tvar segs = (event || '').split('.'),\n\t\t\t\tmatches = [];\n\t\t\ttarget = target || [0];\n\n\t\t\tW.$each(target, function(el) {\n\t\t\t\tObject.keys(bound).forEach(function(e) {\n\t\t\t\t\tvar binding = bound[e],\n\t\t\t\t\t\tparts = binding.ev.split('.'),\n\t\t\t\t\t\tmatch = true;\n\n\t\t\t\t\tif (el && el !== binding.el) {\n\t\t\t\t\t\tmatch = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (event &&\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tsegs[0] !== '' &&\n\t\t\t\t\t\t\tsegs[0] != parts[0]\n\t\t\t\t\t\t) ||\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tsegs[1] &&\n\t\t\t\t\t\t\tsegs[1] != parts[1]\n\t\t\t\t\t\t)) {\n\t\t\t\t\t\tmatch = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (fn && String(fn) !== String(binding.fn)) {\n\t\t\t\t\t\tmatch = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (match) {\n\t\t\t\t\t\tmatches.push(binding);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn target ? matches : bound;\n\t\t},\n\n\t\t/**\n\t\t * Execute bound event for each matching selection\n\t\t *\n\t\t * @param {(HTMLElement|string)} target\n\t\t * @param {string} name\n\t\t */\n\t\ttrigger: function(target, name) {\n\t\t\tvar fn = function() {};\n\n\t\t\tthis.bound(target, name).forEach(function(e) {\n\t\t\t\te.cb({\n\t\t\t\t\ttarget: e.el,\n\t\t\t\t\tpreventDefault: fn,\n\t\t\t\t\tstopPropagation: fn\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Add a custom event\n\t\t *\n\t\t * @param {string} name\n\t\t * @param {function} on\n\t\t * @param {function} off\n\t\t */\n\t\taddEvent: function(name, on, off) {\n\t\t\tcustom[name] = [on, off];\n\t\t}\n\t};\n})(Wee);","/* jshint maxparams: 5 */\n\n(function(W, D, E, H, U) {\n\t'use strict';\n\n\tvar support = H && H.pushState,\n\t\tentries = [],\n\t\tsettings = {},\n\t\troot = '',\n\t\tpath = '',\n\n\t\t/**\n\t\t * Return current path\n\t\t *\n\t\t * @private\n\t\t * @param {object} [loc]\n\t\t * @returns {string}\n\t\t */\n\t\t_path = function(loc) {\n\t\t\tloc = loc || location;\n\t\t\treturn loc.pathname + loc.search + loc.hash;\n\t\t},\n\n\t\t/**\n\t\t * Determine if path is valid for history navigation\n\t\t *\n\t\t * @private\n\t\t * @param {HTMLElement} el\n\t\t */\n\t\t_isValid = function(el) {\n\t\t\tvar host = el.host,\n\t\t\t\tpath = el.pathname,\n\t\t\t\tloc = location;\n\n\t\t\tif (! el.href ||\n\t\t\t\tel.target == '_blank' ||\n\t\t\t\t! /https?:/.test(el.href) ||\n\t\t\t\tel.hasAttribute('download') ||\n\t\t\t\tel.hasAttribute('data-static') ||\n\t\t\t\t(host && host != loc.host) ||\n\t\t\t\t(el.hash && path == loc.pathname)\n\t\t\t) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar exts = settings.extensions,\n\t\t\t\tsegs = path.split('.'),\n\t\t\t\text;\n\n\t\t\tif (segs.length > 1) {\n\t\t\t\text = segs.pop().split(/#|\\?/)[0];\n\t\t\t}\n\n\t\t\treturn ! ext || (exts && exts.indexOf(ext) > -1);\n\t\t},\n\n\t\t/**\n\t\t * Reset references and variables for a given selector\n\t\t *\n\t\t * @private\n\t\t * @param sel\n\t\t */\n\t\t_reset = function(sel) {\n\t\t\tW.$setRef(sel);\n\t\t\tW.$setVar(sel);\n\n\t\t\tW.history.bind();\n\t\t},\n\n\t\t/**\n\t\t * Process the history state of the request\n\t\t *\n\t\t * @private\n\t\t * @param {object} conf\n\t\t */\n\t\t_process = function(conf) {\n\t\t\tvar request = conf.request,\n\t\t\t\tmethod = request.method;\n\n\t\t\tif (! method || method == 'get') {\n\t\t\t\tconf.path = D._getUrl(request);\n\t\t\t}\n\n\t\t\tvar key = conf.path.replace(/^\\//g, ''),\n\t\t\t\tobj = {\n\t\t\t\t\targs: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdir: conf.push ? 1 : -1,\n\t\t\t\t\t\t\tpath: conf.path,\n\t\t\t\t\t\t\tprev: path\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t};\n\t\t\tentries[key] = conf;\n\n\t\t\t// Add entry to HTML5 history\n\t\t\tif (conf.push && support) {\n\t\t\t\tH.pushState(0, '', conf.path);\n\t\t\t}\n\n\t\t\t// Update document title\n\t\t\tif (conf.title) {\n\t\t\t\tW._doc.title = conf.title;\n\t\t\t}\n\n\t\t\tif (W.routes) {\n\t\t\t\t// Update current path\n\t\t\t\tW.routes.uri(conf.path);\n\t\t\t\tW.routes.uri({\n\t\t\t\t\thistory: true\n\t\t\t\t});\n\n\t\t\t\t// Evaluate routes against updated path\n\t\t\t\tif (conf.run) {\n\t\t\t\t\tW.routes.run({\n\t\t\t\t\t\tevent: 'pop',\n\t\t\t\t\t\tpath: path\n\t\t\t\t\t});\n\n\t\t\t\t\tW.routes.run({\n\t\t\t\t\t\tpath: conf.path\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tpath = conf.path;\n\t\t\t}\n\n\t\t\tif (conf.push && conf.pushstate) {\n\t\t\t\tW.$exec(conf.pushstate, obj);\n\t\t\t}\n\n\t\t\tif (conf.pop && conf.popstate) {\n\t\t\t\tW.$exec(conf.popstate, obj);\n\t\t\t}\n\n\t\t\tif (conf.end) {\n\t\t\t\tW.$exec(conf.end, obj);\n\t\t\t}\n\t\t};\n\n\tW.history = {\n\t\t/**\n\t\t * Set the initial state and popstate event, and bind global actions\n\t\t *\n\t\t * @param {object} [options]\n\t\t * @param {($|boolean|HTMLElement|string)} [options.bind]\n\t\t * @param {Array} [options.extensions]\n\t\t * @param {string} [options.partials='title,main']\n\t\t * @param {boolean} [options.processErrors=false]\n\t\t * @param {boolean} [options.push=true]\n\t\t * @param {object} [options.request]\n\t\t * @param {boolean} [options.run=true]\n\t\t */\n\t\tinit: function(options) {\n\t\t\tif (! this.request) {\n\t\t\t\tpath = _path();\n\t\t\t\tsettings = W.$extend({\n\t\t\t\t\tpartials: 'title,main',\n\t\t\t\t\tpush: true,\n\t\t\t\t\trequest: {},\n\t\t\t\t\trun: true,\n\t\t\t\t\tscrollTop: 0\n\t\t\t\t}, options);\n\t\t\t\troot = settings.request.root || '';\n\n\t\t\t\tthis.request = settings.request;\n\t\t\t\tdelete settings.request;\n\n\t\t\t\tif (support) {\n\t\t\t\t\tH.scrollRestoration = 'manual';\n\n\t\t\t\t\t// Set current state\n\t\t\t\t\tH.replaceState(0, '');\n\n\t\t\t\t\t// Listen for browser navigation\n\t\t\t\t\tE.on(W._win, 'popstate.history', function(e) {\n\t\t\t\t\t\tif (e.state !== null) {\n\t\t\t\t\t\t\tvar url = _path(),\n\t\t\t\t\t\t\t\tprevConf = entries[path.replace(/^\\//g, '')];\n\n\t\t\t\t\t\t\tif (prevConf) {\n\t\t\t\t\t\t\t\tvar conf = W.$extend(\n\t\t\t\t\t\t\t\t\tentries[url.replace(/^\\//g, '')] || {\n\t\t\t\t\t\t\t\t\t\trequest: {\n\t\t\t\t\t\t\t\t\t\t\troot: ''\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\t\t\tpath: url,\n\t\t\t\t\t\t\t\t\t\tpush: false,\n\t\t\t\t\t\t\t\t\t\tpop: true\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tconf.partials = prevConf.partials;\n\n\t\t\t\t\t\t\t\t// Restore previous scroll position\n\t\t\t\t\t\t\t\tif (e.state.top) {\n\t\t\t\t\t\t\t\t\tconf.scrollTop = e.state.top;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tW.history.go(conf);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tW._win.location = url;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// Bind PJAX actions\n\t\t\t\tthis.bind();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Bind element events and form submit events to PJAX\n\t\t *\n\t\t * @param {(boolean|object)} [events]\n\t\t * @param {($|HTMLElement|Object|string)} [a] - settings or context\n\t\t * @param {($|HTMLElement|string)} [context=document]\n\t\t */\n\t\tbind: function(events, a, context) {\n\t\t\tevents = events || settings.bind;\n\n\t\t\tif (events === true) {\n\t\t\t\tevents = {\n\t\t\t\t\tclick: 'a',\n\t\t\t\t\tsubmit: 'form'\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (support && typeof events == 'object') {\n\t\t\t\tvar keys = Object.keys(events),\n\t\t\t\t\ti = 0;\n\n\t\t\t\tif (typeof a !== 'object') {\n\t\t\t\t\tcontext = a;\n\t\t\t\t\ta = {};\n\t\t\t\t}\n\n\t\t\t\tfor (; i < keys.length; i++) {\n\t\t\t\t\tvar event = keys[i],\n\t\t\t\t\t\tsel = events[event];\n\n\t\t\t\t\t$(sel).each(function(el) {\n\t\t\t\t\t\tvar evt = event.split(' ').map(function(val) {\n\t\t\t\t\t\t\t\treturn val + '.history';\n\t\t\t\t\t\t\t}).join(' '),\n\t\t\t\t\t\t\tloc = el.getAttribute('data-url'),\n\t\t\t\t\t\t\tform = el.nodeName == 'FORM',\n\t\t\t\t\t\t\tl = el;\n\n\t\t\t\t\t\tif (loc || form) {\n\t\t\t\t\t\t\tl = W._doc.createElement('a');\n\t\t\t\t\t\t\tl.href = loc || el.getAttribute('action') ||\n\t\t\t\t\t\t\t\tW.routes.uri().full;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Ensure the path exists and is local\n\t\t\t\t\t\tif (! evt || ! _isValid(l)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar options = W.$extend(true, {}, a);\n\n\t\t\t\t\t\t// Remove existing history events\n\t\t\t\t\t\tE.off(el, '.history');\n\n\t\t\t\t\t\tE.on(el, evt, function(e, el) {\n\t\t\t\t\t\t\tif (! e.metaKey) {\n\t\t\t\t\t\t\t\toptions.path = _path(l);\n\n\t\t\t\t\t\t\t\tif (form) {\n\t\t\t\t\t\t\t\t\tif (el.method.toLowerCase() == 'post') {\n\t\t\t\t\t\t\t\t\t\toptions.request = W.$extend(options.request, {\n\t\t\t\t\t\t\t\t\t\t\tdata: W.$serializeForm(el, true),\n\t\t\t\t\t\t\t\t\t\t\ttype: 'form',\n\t\t\t\t\t\t\t\t\t\t\tmethod: 'post'\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\toptions.path += '?' + W.$serializeForm(el);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tW.history.go(options);\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}, {\n\t\t\t\t\t\tcontext: context\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Navigate to a new path or within the browser history\n\t\t *\n\t\t * @param {object} options\n\t\t * @param {string} [options.action='replace']\n\t\t * @param {Array} [options.extensions]\n\t\t * @param {string} [options.partials='title,main']\n\t\t * @param {string} [options.path=current path]\n\t\t * @param {boolean} [options.push=true]\n\t\t * @param {object} [options.request]\n\t\t * @param {boolean} [options.run=true]\n\t\t * @param {($|boolean|HTMLElement|number|string)} [options.scrollTop]\n\t\t * @param {string} [options.title]\n\t\t */\n\t\tgo: function(options) {\n\t\t\tvar scope = this;\n\n\t\t\tif (! scope.request) {\n\t\t\t\tscope.init();\n\t\t\t}\n\n\t\t\tvar req = scope.request,\n\t\t\t\tconf = W.$extend(\n\t\t\t\t\t{},\n\t\t\t\t\tsettings,\n\t\t\t\t\toptions\n\t\t\t\t),\n\t\t\t\trequest = W.$extend(\n\t\t\t\t\t{},\n\t\t\t\t\treq,\n\t\t\t\t\tconf.request || {}\n\t\t\t\t);\n\n\t\t\trequest.root = request.root !== U ? request.root : root;\n\t\t\trequest.url = request.url !== U ? request.url : conf.path;\n\n\t\t\t// Navigate to external URL or if history isn't supported\n\t\t\tvar a = W._doc.createElement('a');\n\t\t\ta.href = request.root + request.url;\n\n\t\t\tif (! support || ! _isValid(a)) {\n\t\t\t\tW._win.location = request.url;\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (conf.begin && W.$exec(conf.begin, {\n\t\t\t\t\targs: [conf]\n\t\t\t\t}) === false) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Set current scroll position\n\t\t\tH.replaceState({\n\t\t\t\ttop: W._body.scrollTop\n\t\t\t}, '');\n\n\t\t\t// Reset URL to exclude root\n\t\t\ta.href = request.url;\n\n\t\t\trequest.url = _path(a);\n\t\t\tconf.request = request;\n\n\t\t\t// Request partial Ajax\n\t\t\tif (request.url !== U) {\n\t\t\t\tvar sendEvents = [],\n\t\t\t\t\tsuccessEvents = [],\n\t\t\t\t\terrorEvents = [],\n\t\t\t\t\tcompleteEvents = [],\n\t\t\t\t\tpartials = conf.partials,\n\t\t\t\t\ttargets = W.$(partials);\n\n\t\t\t\t// Setup PJAX headers\n\t\t\t\trequest.headers = W.$extend({\n\t\t\t\t\t'X-PJAX': 'true',\n\t\t\t\t\t'X-Requested-With': false\n\t\t\t\t}, request.headers);\n\n\t\t\t\t// Process send events\n\t\t\t\tif (request.send) {\n\t\t\t\t\tsendEvents.push(request.send);\n\t\t\t\t}\n\n\t\t\t\tif (req.send) {\n\t\t\t\t\tsendEvents.push(req.send);\n\t\t\t\t}\n\n\t\t\t\trequest.send = sendEvents;\n\n\t\t\t\t// Compile success events\n\t\t\t\tvar replaceEvent = function(x) {\n\t\t\t\t\tvar html = typeof x == 'string' ? x : x.responseText;\n\n\t\t\t\t\tif (conf.replace) {\n\t\t\t\t\t\thtml = W.$exec(conf.replace, {\n\t\t\t\t\t\t\targs: [html]\n\t\t\t\t\t\t}) || html;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Evaluate unload routes against updated path\n\t\t\t\t\tif (W.routes && conf.run) {\n\t\t\t\t\t\tW.routes.run({\n\t\t\t\t\t\t\tevent: 'unload',\n\t\t\t\t\t\t\tpath: path\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (partials) {\n\t\t\t\t\t\thtml = W.$parseHTML('<i>' + html + '</i>').firstChild;\n\n\t\t\t\t\t\t// Make partial replacements from response\n\t\t\t\t\t\tW.$each(partials.split(','), function(sel) {\n\t\t\t\t\t\t\tW.$each(sel, function(el) {\n\t\t\t\t\t\t\t\tvar target = W.$(sel)[0];\n\n\t\t\t\t\t\t\t\tif (target) {\n\t\t\t\t\t\t\t\t\tvar parent = target.parentNode;\n\n\t\t\t\t\t\t\t\t\tconf.action == 'append' ?\n\t\t\t\t\t\t\t\t\t\tparent.appendChild(el) :\n\t\t\t\t\t\t\t\t\t\tparent.replaceChild(el, target);\n\n\t\t\t\t\t\t\t\t\t_reset(parent);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tcontext: html\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttargets.innerHTML = html;\n\n\t\t\t\t\t\t_reset(targets);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tsuccessEvents.push(replaceEvent);\n\n\t\t\t\tif (request.success) {\n\t\t\t\t\tsuccessEvents.push(request.success);\n\t\t\t\t}\n\n\t\t\t\tif (req.success) {\n\t\t\t\t\tsuccessEvents.push(req.success);\n\t\t\t\t}\n\n\t\t\t\tvar scrollEvent = function() {\n\t\t\t\t\tvar st = conf.scrollTop;\n\n\t\t\t\t\t// Scroll vertically to target\n\t\t\t\t\tif (st !== false) {\n\t\t\t\t\t\tvar top = 0,\n\t\t\t\t\t\t\tanim = W.animate;\n\n\t\t\t\t\t\tif (a.hash) {\n\t\t\t\t\t\t\tst = a.hash;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (typeof st == 'number') {\n\t\t\t\t\t\t\ttop = st;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar el = W.$(st)[0];\n\n\t\t\t\t\t\t\tif (el) {\n\t\t\t\t\t\t\t\ttop = el.getBoundingClientRect().top +\n\t\t\t\t\t\t\t\t\tW._win.pageYOffset;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (anim) {\n\t\t\t\t\t\t\tanim.tween(W._body, {\n\t\t\t\t\t\t\t\tscrollTop: top\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tW._body.scrollTop = top;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tsuccessEvents.push(scrollEvent);\n\n\t\t\t\trequest.success = successEvents;\n\n\t\t\t\t// Compile error events\n\t\t\t\tif (request.error) {\n\t\t\t\t\terrorEvents.push(request.error);\n\t\t\t\t}\n\n\t\t\t\tif (req.error) {\n\t\t\t\t\terrorEvents.push(req.error);\n\t\t\t\t}\n\n\t\t\t\t// Optionally process error events\n\t\t\t\tif (conf.processErrors) {\n\t\t\t\t\terrorEvents.push(replaceEvent);\n\t\t\t\t\terrorEvents.push(scrollEvent);\n\t\t\t\t}\n\n\t\t\t\trequest.error = errorEvents;\n\n\t\t\t\t// Compile complete events\n\t\t\t\tif (request.complete) {\n\t\t\t\t\tcompleteEvents.push(request.complete);\n\t\t\t\t}\n\n\t\t\t\tif (req.complete) {\n\t\t\t\t\tcompleteEvents.push(req.complete);\n\t\t\t\t}\n\n\t\t\t\tcompleteEvents.push(function(x) {\n\t\t\t\t\tvar code = x.status;\n\n\t\t\t\t\tif (conf.processErrors || (code >= 200 && code < 400)) {\n\t\t\t\t\t\t_process(conf);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\trequest.complete = completeEvents;\n\n\t\t\t\t// Make Ajax request\n\t\t\t\trequest.args = request.args || [];\n\t\t\t\trequest.args.unshift(targets);\n\n\t\t\t\tD.request(request);\n\t\t\t} else {\n\t\t\t\t_process(conf);\n\t\t\t}\n\t\t}\n\t};\n})(Wee, Wee.data, Wee.events, history, undefined);","/* jshint maxdepth: 6 */\n\n(function(W, U) {\n\t'use strict';\n\n\tvar filters = {\n\t\t\tnum: function(seg) {\n\t\t\t\treturn Number(parseInt(seg)) == seg;\n\t\t\t}\n\t\t},\n\t\tany = [],\n\t\troutes,\n\t\tsegs,\n\t\turi,\n\n\t\t/**\n\t\t * Recursively process routes\n\t\t *\n\t\t * @private\n\t\t * @param {string} route - route to evaluate\n\t\t * @param {int} i - current index in iteration\n\t\t * @param {int} total - total number of routes\n\t\t * @param {string} [event='load'] - lifecycle event\n\t\t */\n\t\t_process = function(route, i, total, event) {\n\t\t\tvar seg = segs[i],\n\t\t\t\tkeys = Object.keys(route),\n\t\t\t\tx = 0;\n\t\t\ti++;\n\n\t\t\t// Match against patterns\n\t\t\tfor (; x < keys.length; x++) {\n\t\t\t\tvar key = keys[x],\n\t\t\t\t\tchild = route[key],\n\t\t\t\t\topts = key.split('||'),\n\t\t\t\t\tk = 0,\n\t\t\t\t\ty = i,\n\t\t\t\t\tmatch = false,\n\t\t\t\t\tran = false;\n\n\t\t\t\tfor (; k < opts.length; k++) {\n\t\t\t\t\tvar opt = opts[k],\n\t\t\t\t\t\tparts = opt.split(':'),\n\t\t\t\t\t\thistory = event != U,\n\t\t\t\t\t\tnegate = false,\n\t\t\t\t\t\tpush = false,\n\t\t\t\t\t\teq = false;\n\n\t\t\t\t\t// Ensure event type matches route type\n\t\t\t\t\tif ((! history && (\n\t\t\t\t\t\t\tparts.indexOf('unload') > -1 ||\n\t\t\t\t\t\t\tparts.indexOf('pop') > -1)\n\t\t\t\t\t\t) ||\n\t\t\t\t\t\t(history && (\n\t\t\t\t\t\t\t! W.$isObject(child) &&\n\t\t\t\t\t\t\tparts.indexOf(event) < 0\n\t\t\t\t\t\t))) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Set option to rule root\n\t\t\t\t\tif (parts.length > 1) {\n\t\t\t\t\t\topt = parts[0];\n\t\t\t\t\t}\n\n\t\t\t\t\t// Negate routes prefixed by !\n\t\t\t\t\tif (opt[0] == '!') {\n\t\t\t\t\t\topt = opt.slice(1);\n\t\t\t\t\t\tnegate = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Move the segment pointer back one level\n\t\t\t\t\tif (parts.indexOf('eval') > -1) {\n\t\t\t\t\t\ty--;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (opt == seg) {\n\t\t\t\t\t\teq = true;\n\t\t\t\t\t} else if (opt[0] == '$') {\n\t\t\t\t\t\topt = opt.slice(1);\n\n\t\t\t\t\t\tif (opt == 'any') {\n\t\t\t\t\t\t\teq = true;\n\n\t\t\t\t\t\t\tif (parts.indexOf('fire') > -1) {\n\t\t\t\t\t\t\t\tran = true;\n\t\t\t\t\t\t\t} else if (! W.$isObject(child)) {\n\t\t\t\t\t\t\t\tpush = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (opt == 'root') {\n\t\t\t\t\t\t\tif (! seg) {\n\t\t\t\t\t\t\t\teq = true;\n\t\t\t\t\t\t\t\tran = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (opt[0] == '/') {\n\t\t\t\t\t\t\tvar split = opt.split('/');\n\n\t\t\t\t\t\t\tif (new RegExp(split[1], split[2] || U).test(seg)) {\n\t\t\t\t\t\t\t\teq = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar filter = filters[opt];\n\n\t\t\t\t\t\t\tif (filter) {\n\t\t\t\t\t\t\t\tif (filter(seg, child, y) === true) {\n\t\t\t\t\t\t\t\t\teq = true;\n\t\t\t\t\t\t\t\t\tpush = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (seg && seg.trim() !== '') {\n\t\t\t\t\t\t\t\teq = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Invert the equality if the route is negated\n\t\t\t\t\tif (negate) {\n\t\t\t\t\t\teq = ! eq;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (eq) {\n\t\t\t\t\t\t// If ran is true then execute the route immediately\n\t\t\t\t\t\tif (ran) {\n\t\t\t\t\t\t\tW.$exec(child, {\n\t\t\t\t\t\t\t\targs: seg\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If push is true then push the route to the any queue\n\t\t\t\t\t\tif (push) {\n\t\t\t\t\t\t\tran = true;\n\t\t\t\t\t\t\tany.push([child, seg]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Remove the route if set to once\n\t\t\t\t\t\tif (parts.indexOf('once') > -1) {\n\t\t\t\t\t\t\tdelete route[key];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Set match to true and break on match\n\t\t\t\t\t\tmatch = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If matched then process recursively or execute if applicable\n\t\t\t\tif (match) {\n\t\t\t\t\tif (W.$isObject(child)) {\n\t\t\t\t\t\t_process(child, y, total, event);\n\t\t\t\t\t} else if (! ran && y === total) {\n\t\t\t\t\t\tW.$exec(child, {\n\t\t\t\t\t\t\targs: seg\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\tW.routes = {\n\t\t/**\n\t\t * Get current URI values or set with string or value\n\t\t *\n\t\t * @param {(object|string)} [value]\n\t\t * @param {string} [value.full]\n\t\t * @param {string} [value.hash]\n\t\t * @param {boolean} [value.history]\n\t\t * @param {string} [value.path]\n\t\t * @param {object} [value.query]\n\t\t * @param {Array} [value.segments]\n\t\t * @param {string} [value.url]\n\t\t * @returns {object} data\n\t\t */\n\t\turi: function(value) {\n\t\t\tif (value) {\n\t\t\t\tif (W.$isObject(value)) {\n\t\t\t\t\turi = W.$extend(this.uri(), value);\n\t\t\t\t\treturn uri;\n\t\t\t\t}\n\n\t\t\t\tvar a = W._doc.createElement('a');\n\t\t\t\ta.href = value;\n\n\t\t\t\tvar search = a.search,\n\t\t\t\t\tpath = a.pathname.replace(/^\\/|\\/$/g, '');\n\n\t\t\t\turi = {\n\t\t\t\t\tfull: '/' + path + search + a.hash,\n\t\t\t\t\thash: a.hash.slice(1),\n\t\t\t\t\thistory: false,\n\t\t\t\t\tpath: '/' + path,\n\t\t\t\t\tquery: search ? W.$unserialize(search) : {},\n\t\t\t\t\tsegments: path.split('/'),\n\t\t\t\t\turl: a.href\n\t\t\t\t};\n\t\t\t} else if (! uri) {\n\t\t\t\turi = W.routes.uri(location.href);\n\t\t\t}\n\n\t\t\treturn uri;\n\t\t},\n\n\t\t/**\n\t\t * Get all segments or segment at index\n\t\t *\n\t\t * @param {int} [index]\n\t\t * @returns {(Array|string)} segments\n\t\t */\n\t\tsegments: function(index) {\n\t\t\tvar segs = this.uri().segments;\n\n\t\t\treturn index !== U ? (segs[index] || '') : segs;\n\t\t},\n\n\t\t/**\n\t\t * Retrieve or add route endpoints\n\t\t *\n\t\t * @param {object} obj - routes\n\t\t * @param {bool} [init=false] - immediately evaluate routes\n\t\t * @returns {object} routes\n\t\t */\n\t\tmap: function(obj, init) {\n\t\t\tvar curr = routes || {};\n\n\t\t\tif (obj) {\n\t\t\t\troutes = W.$extend(curr, obj);\n\n\t\t\t\tif (init) {\n\t\t\t\t\tthis.run({\n\t\t\t\t\t\troutes: routes\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn curr;\n\t\t},\n\n\t\t/**\n\t\t * Add conditional route filter\n\t\t *\n\t\t * @param {(object|string)} a - name or filter object\n\t\t * @param {function} [b]\n\t\t */\n\t\taddFilter: function(a, b) {\n\t\t\tW._extend(filters, a, b);\n\t\t},\n\n\t\t/**\n\t\t * Evaluate routes against URI\n\t\t *\n\t\t * @param {object} [conf]\n\t\t * @param {string} [conf.event='load']\n\t\t * @param {string} [conf.path]\n\t\t * @param {object} [conf.routes]\n\t\t */\n\t\trun: function(conf) {\n\t\t\tconf = conf || {};\n\t\t\tvar rules = conf.routes || routes;\n\n\t\t\tif (rules) {\n\t\t\t\tsegs = conf.path ?\n\t\t\t\t\tconf.path.replace(/^\\/|\\/$/g, '').split(/#|\\?/)[0].split('/') :\n\t\t\t\t\tthis.segments();\n\n\t\t\t\t_process(rules, 0, segs.length, conf.event);\n\n\t\t\t\t// Execute queued init functions on last iteration\n\t\t\t\tif (any.length) {\n\t\t\t\t\tfor (var i = 0; i < any.length; i++) {\n\t\t\t\t\t\tvar rule = any[i];\n\n\t\t\t\t\t\tW.$exec(rule[0], {\n\t\t\t\t\t\t\targs: rule[1]\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\t// Clear array for next iteration\n\t\t\t\t\tany = [];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n})(Wee, undefined);","(function(W) {\n\t'use strict';\n\n\tvar events = [],\n\t\tid = 0,\n\t\tbound,\n\t\tcurrent,\n\n\t\t/**\n\t\t * Bind individual rule\n\t\t *\n\t\t * @private\n\t\t * @param {object} conf - breakpoint rules\n\t\t * @param {Array} [conf.args] - callback arguments\n\t\t * @param {function} conf.callback\n\t\t * @param {boolean} [conf.each=false] - execute for each matching breakpoint\n\t\t * @param {boolean} [conf.init=true] - check event on load\n\t\t * @param {int} [conf.max] - maximum breakpoint value\n\t\t * @param {int} [conf.min] - minimum breakpoint value\n\t\t * @param {boolean} [conf.once=false] - only execute the callback once\n\t\t * @param {object} [conf.scope] - callback scope\n\t\t * @param {int} [conf.size] - specific breakpoint value\n\t\t * @param {boolean} [conf.watch=true] - check event on screen resize\n\t\t * @param {string} [conf.namespace] - namespace the event\n\t\t */\n\t\t_addRule = function(conf) {\n\t\t\t// Attach unique identifier\n\t\t\tconf.i = id++;\n\n\t\t\t// Only setup watching when enabled\n\t\t\tif (conf.watch !== false) {\n\t\t\t\tevents.push(conf);\n\n\t\t\t\t// Only attach event once\n\t\t\t\tif (! bound) {\n\t\t\t\t\tvar run = _run.bind(this, false, 0);\n\t\t\t\t\tbound = 1;\n\t\t\t\t\tevents = [conf];\n\n\t\t\t\t\t// Attach resize event\n\t\t\t\t\tW._win.addEventListener('resize', run);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Evaluate rule immediately if not disabled\n\t\t\tif (conf.init !== false) {\n\t\t\t\t_run(true, [conf]);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Check mapped rules for matching conditions\n\t\t *\n\t\t * @private\n\t\t * @param {boolean} [init=false] - initial page load\n\t\t * @param {Array} [rules] - breakpoint rules\n\t\t */\n\t\t_run = function(init, rules) {\n\t\t\tvar size = W.screen.size();\n\n\t\t\t// If breakpoint has been hit or resize logic initialized\n\t\t\tif (size && (init || size !== current)) {\n\t\t\t\tvar evts = rules || events,\n\t\t\t\t\ti = evts.length;\n\n\t\t\t\twhile (i--) {\n\t\t\t\t\tvar evt = evts[i];\n\n\t\t\t\t\tif (_eq(evt, size, init)) {\n\t\t\t\t\t\tvar f = init && ! current,\n\t\t\t\t\t\t\tdata = {\n\t\t\t\t\t\t\t\tdir: f ? 0 : (size > current ? 1 : -1),\n\t\t\t\t\t\t\t\tinit: f,\n\t\t\t\t\t\t\t\tprev: current,\n\t\t\t\t\t\t\t\tsize: size\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\tW.$exec(evt.callback, {\n\t\t\t\t\t\t\targs: evt.args ? [data].concat(evt.args) : [data],\n\t\t\t\t\t\t\tscope: evt.scope\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t// Disable future execution if once\n\t\t\t\t\t\tif (evt.once) {\n\t\t\t\t\t\t\tevents = events.filter(function(obj) {\n\t\t\t\t\t\t\t\treturn obj.i !== evt.i;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Cache current value\n\t\t\t\tcurrent = size;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Compare event rules against current size\n\t\t *\n\t\t * @private\n\t\t * @param {object} evt\n\t\t * @param {number} size\n\t\t * @param {boolean} init\n\t\t * @returns {boolean}\n\t\t */\n\t\t_eq = function(evt, size, init) {\n\t\t\tvar sz = evt.size,\n\t\t\t\tmn = evt.min,\n\t\t\t\tmx = evt.max,\n\t\t\t\tex = evt.each || init;\n\n\t\t\t// Check match against rules\n\t\t\treturn (! sz && ! mn && ! mx) ||\n\t\t\t\t(sz && sz === size) ||\n\t\t\t\t(mn && size >= mn && (ex || current < mn) && (! mx || size <= mx)) ||\n\t\t\t\t(mx && size <= mx && (ex || current > mx) && (! mn || size >= mn));\n\t\t};\n\n\tW.screen = {\n\t\t/**\n\t\t * Get current breakpoint value\n\t\t *\n\t\t * @returns {number} size\n\t\t */\n\t\tsize: function() {\n\t\t\treturn parseFloat(\n\t\t\t\tgetComputedStyle(W._html, null)\n\t\t\t\t\t.getPropertyValue('font-family')\n\t\t\t\t\t.replace(/[^0-9\\.]+/g, '')\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Map conditional events to breakpoint values\n\t\t *\n\t\t * @param {(Array|object)} rules - breakpoint rules\n\t\t * @param {Array} [rules.args] - callback arguments\n\t\t * @param {function} rules.callback\n\t\t * @param {boolean} [rules.each=false] - execute for each matching breakpoint\n\t\t * @param {boolean} [rules.init=true] - check event on load\n\t\t * @param {int} [rules.max] - maximum breakpoint value\n\t\t * @param {int} [rules.min] - minimum breakpoint value\n\t\t * @param {string} [rules.namespace] - namespace the event\n\t\t * @param {boolean} [rules.once=false] - only execute the callback once\n\t\t * @param {object} [rules.scope] - callback scope\n\t\t * @param {int} [rules.size] - specific breakpoint value\n\t\t * @param {boolean} [rules.watch=true] - check event on screen resize\n\t\t */\n\t\tmap: function(rules) {\n\t\t\tvar sets = W.$toArray(rules),\n\t\t\t\ti = sets.length;\n\n\t\t\twhile (i--) {\n\t\t\t\t_addRule(sets[i]);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Evaluate the current breakpoint\n\t\t */\n\t\trun: function() {\n\t\t\t_run(true);\n\t\t},\n\n\t\t/**\n\t\t * Remove events from bound rules\n\t\t *\n\t\t * @param {string} [namespace] - remove screen events in this namespace\n\t\t */\n\t\treset: function(namespace) {\n\t\t\tevents = events.filter(function(obj) {\n\t\t\t\treturn obj.namespace !== namespace;\n\t\t\t});\n\t\t}\n\t};\n})(Wee);","(function(W, E) {\n\t'use strict';\n\n\tvar events = [\n\t\t['swipeLeft', 'X', 'Y', 1],\n\t\t['swipeRight', 'X', 'Y',-1],\n\t\t['swipeUp', 'Y', 'X', 1],\n\t\t['swipeDown', 'Y','X', -1]\n\t];\n\n\t/**\n\t * Loop through custom events and bind applicable standard events\n\t */\n\tevents.forEach(function(event) {\n\t\tvar ns = event[0],\n\t\t\tstart = 'mousedown.' + ns + ' touchstart.' + ns,\n\t\t\tend = 'mouseup.' + ns + ' touchend.' + ns;\n\n\t\tE.addEvent(ns, function(el, fn, conf) {\n\t\t\tvar scope = this,\n\t\t\t\tdistance = conf.distance || 50,\n\t\t\t\tmovement = conf.movement || 25;\n\n\t\t\tE.on(el, start, function(e) {\n\t\t\t\tvar a = e.touches ? e.touches[0] : e;\n\t\t\t\tscope.start = a['page' + event[1]];\n\t\t\t\tscope.scroll = W._win['page' + event[2] + 'Offset'];\n\t\t\t}, conf);\n\n\t\t\tE.on(el, end, function(e, el) {\n\t\t\t\tvar a = e.changedTouches ? e.changedTouches[0] : e,\n\t\t\t\t\ttravel = (scope.start - a['page' + event[1]]) * event[3],\n\t\t\t\t\tscroll = Math.abs(scope.scroll - W._win['page' + event[2] + 'Offset']);\n\n\t\t\t\tif (travel > distance && scroll < movement) {\n\t\t\t\t\tfn.apply(conf.scope || el, W._slice.call(arguments));\n\t\t\t\t}\n\t\t\t}, conf);\n\t\t}, function(el, fn) {\n\t\t\tE.off(el, start + ' ' + end, fn);\n\t\t});\n\t});\n})(Wee, Wee.events);","/* jshint maxdepth: 5, maxparams: 6 */\n\n(function(W, U) {\n\t'use strict';\n\n\tvar reg = {\n\t\t\targs: /(\\\\?['\"][^'\"]+\\\\?['\"]|[^,]+)/g,\n\t\t\text: /(.[^\\(]+)(?:\\((.*)\\))?/,\n\t\t\tpair: /{{#(\\S+?)(?:\\|(.+?))?}}([\\s\\S]+?){{\\/\\1}}/g,\n\t\t\tpartial: /{{\\s*>(.+?)}}/g,\n\t\t\tsingle: /{{(.+?)}}/g,\n\t\t\tstr: /^\\\\?(\"|')/,\n\t\t\ttags: /{{\\s*(?:([#\\/])([^#{\\|\\n\\s]+)\\s*(\\|[^{\\n]+)?|else)\\s*}}/g\n\t\t},\n\t\thelpers = {\n\t\t\tis: function(val) {\n\t\t\t\treturn this.val === val;\n\t\t\t},\n\t\t\tnot: function(val) {\n\t\t\t\treturn this.val !== val;\n\t\t\t},\n\t\t\tisEmpty: function() {\n\t\t\t\treturn this.empty;\n\t\t\t},\n\t\t\tnotEmpty: function() {\n\t\t\t\treturn ! this.empty;\n\t\t\t}\n\t\t},\n\t\tviews = {},\n\t\tesc,\n\n\t\t/**\n\t\t * Determine if value matches empty criteria\n\t\t *\n\t\t * @private\n\t\t * @param {*} val\n\t\t * @returns {boolean}\n\t\t */\n\t\t_isEmpty = function(val) {\n\t\t\treturn val === '' || val === false || val == null ||\n\t\t\t\t(typeof val == 'object' && ! Object.keys(val).length);\n\t\t},\n\n\t\t/**\n\t\t * Make recursive partial replacements\n\t\t *\n\t\t * @private\n\t\t * @param {string} temp\n\t\t * @returns {string}\n\t\t */\n\t\t_embed = function(temp) {\n\t\t\ttemp = temp.replace(reg.partial, function(m, tag) {\n\t\t\t\treturn views[tag.trim()] || '';\n\t\t\t});\n\n\t\t\tif (reg.partial.test(temp)) {\n\t\t\t\ttemp = _embed(temp);\n\t\t\t}\n\n\t\t\treturn temp;\n\t\t},\n\n\t\t/**\n\t\t * Get specific object value\n\t\t *\n\t\t * @private\n\t\t * @param {object} data\n\t\t * @param {object} prev\n\t\t * @param {string} key\n\t\t * @param {string} fb\n\t\t * @param {object} init\n\t\t * @returns {*}\n\t\t */\n\t\t_get = function(data, prev, key, fb, init) {\n\t\t\tkey = key.trim();\n\n\t\t\t// Alter context\n\t\t\tif (key.substr(0, 6) == '$root.') {\n\t\t\t\tkey = key.substr(6);\n\t\t\t\tdata = init;\n\t\t\t} else if (key.substr(0, 3) == '../') {\n\t\t\t\tkey = key.substr(3);\n\t\t\t\tdata = prev;\n\t\t\t}\n\n\t\t\tvar segs = key == '.' ? ['.'] : key.split('.'),\n\t\t\t\torig = data,\n\t\t\t\tlen = segs.length - 1,\n\t\t\t\ti = 0;\n\n\t\t\t// Loop through object segments\n\t\t\tfor (; i <= len; i++) {\n\t\t\t\tkey = segs[i];\n\n\t\t\t\tif (data && data.hasOwnProperty(key)) {\n\t\t\t\t\tdata = data[key];\n\n\t\t\t\t\t// Return value on last segment\n\t\t\t\t\tif (i === len) {\n\t\t\t\t\t\treturn data;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (key == '.') {\n\t\t\t\treturn data;\n\t\t\t}\n\n\t\t\t// Process fallback value\n\t\t\tif (fb && fb !== '') {\n\t\t\t\tfb = fb.trim();\n\t\t\t\tvar match = fb.match(reg.str);\n\n\t\t\t\tif (match) {\n\t\t\t\t\treturn fb.replace(reg.str, '')\n\t\t\t\t\t\t.replace(new RegExp(match[0] + '$'), '');\n\t\t\t\t}\n\n\t\t\t\treturn _get(orig, prev, fb, '', init);\n\t\t\t}\n\n\t\t\treturn fb;\n\t\t},\n\n\t\t/**\n\t\t * Parse helper arguments\n\t\t *\n\t\t * @private\n\t\t * @param {string} str\n\t\t * @param {object} data\n\t\t * @param {object} (prev)\n\t\t * @param {object} (init)\n\t\t * @returns {*}\n\t\t */\n\t\t_parseArgs = function(str, data, prev, init) {\n\t\t\tvar args = str !== U ? str.match(reg.args) || [] : [];\n\n\t\t\treturn args.map(function(arg) {\n\t\t\t\targ = arg.trim();\n\t\t\t\tvar match = arg.match(reg.str);\n\n\t\t\t\tif (match) {\n\t\t\t\t\treturn arg.replace(reg.str, '')\n\t\t\t\t\t\t.replace(new RegExp(match[0] + '$'), '');\n\t\t\t\t}\n\n\t\t\t\treturn arg == 'true' ? true :\n\t\t\t\t\targ == 'false' ? false :\n\t\t\t\t\targ == 'null' ? null :\n\t\t\t\t\tparseInt(arg).toString() == arg ? parseInt(arg) :\n\t\t\t\t\t_get(data, prev, arg, '', init);\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Parse template string\n\t\t *\n\t\t * @private\n\t\t * @param {string} temp\n\t\t * @param {object} data\n\t\t * @param {object} prev\n\t\t * @param {object} init\n\t\t * @param {int} index\n\t\t * @returns {string}\n\t\t */\n\t\t_parse = function(temp, data, prev, init, index) {\n\t\t\treturn temp.replace(reg.pair, function(m, t, helper, inner) {\n\t\t\t\t// Return escaped template tag pairs\n\t\t\t\tif (t == '!') {\n\t\t\t\t\tesc = true;\n\t\t\t\t\treturn inner.replace(/{{/g, '{~');\n\t\t\t\t}\n\n\t\t\t\tvar tag = t.replace(/%\\d+/, ''),\n\t\t\t\t\tcond = inner.split('{{:' + t + '}}');\n\t\t\t\tinner = cond[0];\n\n\t\t\t\tvar val = _get(data, prev, tag, U, init),\n\t\t\t\t\tempty = _isEmpty(val),\n\t\t\t\t\thelp = [],\n\t\t\t\t\teach;\n\n\t\t\t\t// Parse helpers\n\t\t\t\tif (helper || empty) {\n\t\t\t\t\tvar meth = helper ? helper.split('|') : [],\n\t\t\t\t\t\tsec = cond.length > 1 ? cond[1] : '',\n\t\t\t\t\t\tagg = [];\n\n\t\t\t\t\t// Check for root helpers\n\t\t\t\t\tif (empty) {\n\t\t\t\t\t\tvar arg = meth[0] && meth[0][0] == '(';\n\t\t\t\t\t\tmeth.unshift(tag + (arg ? meth[0] : '()'));\n\n\t\t\t\t\t\tif (arg) {\n\t\t\t\t\t\t\tmeth.splice(1, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Capture available aggregates and helpers\n\t\t\t\t\tmeth.forEach(function(el) {\n\t\t\t\t\t\tvar arr = el.match(reg.ext),\n\t\t\t\t\t\t\tname = arr[1].trim();\n\n\t\t\t\t\t\t// Check for each helper\n\t\t\t\t\t\tif (name == 'each') {\n\t\t\t\t\t\t\teach = true;\n\t\t\t\t\t\t} else if (helpers[name]) {\n\t\t\t\t\t\t\tel = [helpers[name], arr[2]];\n\t\t\t\t\t\t\teach ? help.push(el) : agg.push(el);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t// Process aggregates\n\t\t\t\t\tif (agg.length) {\n\t\t\t\t\t\tif (! agg.every(function(f) {\n\t\t\t\t\t\t\t\tvar rv = f[0].apply({\n\t\t\t\t\t\t\t\t\tval: val,\n\t\t\t\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\t\t\t\troot: init,\n\t\t\t\t\t\t\t\t\ttag: tag,\n\t\t\t\t\t\t\t\t\tempty: empty,\n\t\t\t\t\t\t\t\t\tindex: index\n\t\t\t\t\t\t\t\t}, _parseArgs(f[1], data, prev, init));\n\n\t\t\t\t\t\t\t\tif (rv === false) {\n\t\t\t\t\t\t\t\t\treturn rv;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (rv !== true) {\n\t\t\t\t\t\t\t\t\tval = rv;\n\t\t\t\t\t\t\t\t\tempty = _isEmpty(val);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t})) {\n\t\t\t\t\t\t\treturn _parse(sec, data, prev, init, index);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (empty) {\n\t\t\t\t\t\treturn _parse(sec, data, prev, init, index);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar isObject = typeof val == 'object';\n\n\t\t\t\tif (! each) {\n\t\t\t\t\tif (! isObject) {\n\t\t\t\t\t\tval = W.$extend({}, data, {\n\t\t\t\t\t\t\t'.': val,\n\t\t\t\t\t\t\t'#': 0,\n\t\t\t\t\t\t\t'##': 1\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\treturn _parse(inner, val, data, init, index);\n\t\t\t\t}\n\n\t\t\t\tif (! empty) {\n\t\t\t\t\t// Loop through objects and arrays\n\t\t\t\t\tif (isObject) {\n\t\t\t\t\t\tvar isPlainObject = W.$isObject(val),\n\t\t\t\t\t\t\tresp = '',\n\t\t\t\t\t\t\ti = 0;\n\n\t\t\t\t\t\tfor (var key in val) {\n\t\t\t\t\t\t\tif (val.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\t// Merge default properties\n\t\t\t\t\t\t\t\tvar el = val[key];\n\t\t\t\t\t\t\t\tempty = _isEmpty(el);\n\n\t\t\t\t\t\t\t\t// Process helpers\n\t\t\t\t\t\t\t\tif (! help.length ||\n\t\t\t\t\t\t\t\t\thelp.every(function(f) {\n\t\t\t\t\t\t\t\t\t\tvar rv = f[0].apply({\n\t\t\t\t\t\t\t\t\t\t\tval: el,\n\t\t\t\t\t\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\t\t\t\t\t\troot: init,\n\t\t\t\t\t\t\t\t\t\t\ttag: tag,\n\t\t\t\t\t\t\t\t\t\t\tempty: empty,\n\t\t\t\t\t\t\t\t\t\t\tindex: i\n\t\t\t\t\t\t\t\t\t\t}, _parseArgs(f[1], val));\n\n\t\t\t\t\t\t\t\t\t\tif (rv === false) {\n\t\t\t\t\t\t\t\t\t\t\treturn rv;\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif (rv !== true) {\n\t\t\t\t\t\t\t\t\t\t\tel = rv;\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tvar item = W.$extend({}, W.$isObject(el) ?\n\t\t\t\t\t\t\t\t\t\t\tel :\n\t\t\t\t\t\t\t\t\t\t\t(isPlainObject ? val : {}),\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t$key: key,\n\t\t\t\t\t\t\t\t\t\t\t'.': el,\n\t\t\t\t\t\t\t\t\t\t\t'#': i,\n\t\t\t\t\t\t\t\t\t\t\t'##': i + 1\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\ti++;\n\n\t\t\t\t\t\t\t\t\tresp += _parse(inner, item, data, init, i);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn resp;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn inner;\n\t\t\t\t}\n\t\t\t}).replace(reg.single, function(m, set) {\n\t\t\t\tvar split = set.split('||'),\n\t\t\t\t\tfb = split[1],\n\t\t\t\t\tsegs = split[0].split('|'),\n\t\t\t\t\ttag = segs[0].trim(),\n\t\t\t\t\tval = _get(data, prev, tag, fb, init),\n\t\t\t\t\thelps = segs.length > 1 ? segs.slice(1) : segs;\n\n\t\t\t\t// Process helpers\n\t\t\t\thelps.forEach(function(el, i) {\n\t\t\t\t\tvar arr = el.match(reg.ext);\n\t\t\t\t\thelps[i] = el.trim();\n\n\t\t\t\t\tif (arr) {\n\t\t\t\t\t\tvar helper = helpers[arr[1].trim()];\n\n\t\t\t\t\t\tif (helper && (segs.length > 1 ||\n\t\t\t\t\t\t\t! data.hasOwnProperty(tag))) {\n\t\t\t\t\t\t\tval = helper.apply({\n\t\t\t\t\t\t\t\tval: val,\n\t\t\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\t\t\troot: init,\n\t\t\t\t\t\t\t\ttag: tag,\n\t\t\t\t\t\t\t\tindex: index,\n\t\t\t\t\t\t\t\tfallback: fb\n\t\t\t\t\t\t\t}, _parseArgs(arr[2], data));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Encode output by default\n\t\t\t\tif (val === U || typeof val == 'object') {\n\t\t\t\t\tval = '';\n\t\t\t\t} else if (typeof val == 'string') {\n\t\t\t\t\t// Recursively process injected tags\n\t\t\t\t\tif (val.indexOf('{{') > -1) {\n\t\t\t\t\t\tval = _render(val, data);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Encode HTML characters\n\t\t\t\t\tif (helps.indexOf('raw') < 0) {\n\t\t\t\t\t\tval = val.replace(/&amp;/g, '&')\n\t\t\t\t\t\t\t.replace(/&/g, '&amp;')\n\t\t\t\t\t\t\t.replace(/</g, '&lt;')\n\t\t\t\t\t\t\t.replace(/>/g, '&gt;')\n\t\t\t\t\t\t\t.replace(/\"/g, '&quot;');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn val;\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Render template string\n\t\t *\n\t\t * @private\n\t\t * @param {string} temp\n\t\t * @param {object} data\n\t\t * @returns {string}\n\t\t */\n\t\t_render = function(temp, data) {\n\t\t\tvar tags = [],\n\t\t\t\tdepth = [];\n\n\t\t\t// Make partial replacements\n\t\t\ttemp = _embed(temp);\n\n\t\t\t// Match tag pairs\n\t\t\ttemp = temp.replace(reg.tags, function(m, pre, tag, helper) {\n\t\t\t\tvar resp = '{{';\n\n\t\t\t\tif (tag == '!') {\n\t\t\t\t\tesc = pre == '#';\n\t\t\t\t\tresp += pre + tag;\n\t\t\t\t} else if (esc) {\n\t\t\t\t\treturn m;\n\t\t\t\t} else if (pre) {\n\t\t\t\t\tvar segs = tag.split('('),\n\t\t\t\t\t\troot = segs[0],\n\t\t\t\t\t\texists = tags.hasOwnProperty(tag);\n\t\t\t\t\tresp += pre + root + '%';\n\n\t\t\t\t\tif (pre == '#') {\n\t\t\t\t\t\tdepth.push(root);\n\n\t\t\t\t\t\tif (exists) {\n\t\t\t\t\t\t\ttags[root].i++;\n\t\t\t\t\t\t\ttags[root].o.push(tags[root].i);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttags[root] = {\n\t\t\t\t\t\t\t\ti: 1,\n\t\t\t\t\t\t\t\to: [1]\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (segs.length > 1) {\n\t\t\t\t\t\t\thelper = '(' + segs.slice(1).join('(');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tresp += tags[root].i + (helper || '');\n\t\t\t\t\t} else if (exists) {\n\t\t\t\t\t\tresp += tags[root].o.pop();\n\t\t\t\t\t\ttags[root].i--;\n\t\t\t\t\t\tdepth.pop();\n\t\t\t\t\t}\n\t\t\t\t} else if (depth.length) {\n\t\t\t\t\ttag = depth.slice(-1)[0];\n\t\t\t\t\tresp += ':' + tag + '%' + tags[tag].i;\n\t\t\t\t}\n\n\t\t\t\treturn resp + '}}';\n\t\t\t});\n\n\t\t\t// Parse template tags\n\t\t\treturn _parse(temp, data, {}, data, 0);\n\t\t};\n\n\tW.app = {\n\t\t/**\n\t\t * Application instance storage\n\t\t */\n\t\tfn: {},\n\n\t\t/**\n\t\t * Create an application\n\t\t *\n\t\t * @param {string} name\n\t\t * @param {object} options\n\t\t * @param {object} options.model\n\t\t * @param {($|HTMLElement|string)} [options.target]\n\t\t * @param {($|HTMLElement|string)} options.view\n\t\t *\n\t\t */\n\t\tmake: function(name, options) {\n\t\t\tvar sel = options.view,\n\t\t\t\ttarg = options.target,\n\t\t\t\tmodel = options.model || {},\n\t\t\t\tviews = W.$(targ || sel).map(function(el) {\n\t\t\t\t\treturn [el, targ ? sel : el.outerHTML];\n\t\t\t\t}),\n\t\t\t\tfn = function(data) {\n\t\t\t\t\tviews.forEach(function(view) {\n\t\t\t\t\t\tW.$setRef(\n\t\t\t\t\t\t\tW.view.diff(view[0], W.$parseHTML(\n\t\t\t\t\t\t\t\tW.view.render(view[1], data)\n\t\t\t\t\t\t\t), targ)\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tapp = W.app;\n\n\t\t\t// Create a new application controller\n\t\t\tapp.fn[name] = W._make(name, {}, {}, false, model);\n\t\t\tapp[name] = new app.fn[name]();\n\n\t\t\tfn(model);\n\n\t\t\tW.$extend(app[name], {\n\t\t\t\t/**\n\t\t\t\t * Destroy current application\n\t\t\t\t */\n\t\t\t\t$destroy: function() {\n\t\t\t\t\tif (options._destruct) {\n\t\t\t\t\t\toptions._destruct();\n\t\t\t\t\t}\n\n\t\t\t\t\tdelete app[name];\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Pause view updating\n\t\t\t\t */\n\t\t\t\t$pause: function() {\n\t\t\t\t\tapp[name].$unobserve('*', fn);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Resume view updating\n\t\t\t\t *\n\t\t\t\t * @param {boolean} [update=false]\n\t\t\t\t */\n\t\t\t\t$resume: function(update) {\n\t\t\t\t\tapp[name].$observe('*', fn);\n\n\t\t\t\t\tif (update) {\n\t\t\t\t\t\tfn(app[name].$get());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Initialize app observation\n\t\t\tapp[name].$resume();\n\n\t\t\treturn app[name];\n\t\t}\n\t};\n\n\tW.view = {\n\t\t/**\n\t\t * Parse data into template string\n\t\t *\n\t\t * @param {string} template\n\t\t * @param {object} [data]\n\t\t * @returns {string}\n\t\t */\n\t\trender: function(template, data) {\n\t\t\tesc = false;\n\t\t\ttemplate = _render(views[template] || template, W.$extend(data));\n\n\t\t\treturn esc ?\n\t\t\t\ttemplate.replace(/{~/g, '{{') :\n\t\t\t\ttemplate;\n\t\t},\n\n\t\t/**\n\t\t * Add conditional template handler or tag data modifier\n\t\t *\n\t\t * @param {object|string} name\n\t\t * @param {function} [fn]\n\t\t */\n\t\taddHelper: function(name, fn) {\n\t\t\tW._extend(helpers, name, fn);\n\t\t},\n\n\t\t/**\n\t\t * Add views to store for on-demand reference\n\t\t *\n\t\t * @param {object|string} name\n\t\t * @param {string} [value]\n\t\t */\n\t\taddView: function(name, value) {\n\t\t\tW._extend(views, name, value);\n\t\t}\n\t};\n})(Wee, undefined);","/**\n * Copyright (c) 2015, Patrick Steele-Idem\n * https://github.com/patrick-steele-idem/morphdom\n *\n * Permission to use, copy, modify, and/or distribute this software for any\n * purpose with or without fee is hereby granted, provided that the above\n * copyright notice and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n * AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n * LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n * OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n * PERFORMANCE OF THIS SOFTWARE.\n */\n\n/* jshint maxdepth: 8 */\n\n(function(W, D) {\n\tvar specialElHandlers = {\n\t\t/**\n\t\t * Needed for IE. Apparently IE doesn't think\n\t\t * that \"selected\" is an attribute when reading\n\t\t * over the attributes using selectEl.attributes\n\t\t */\n\t\tOPTION: function(fromEl, toEl) {\n\t\t\tif (fromEl.selected == toEl.selected) {\n\t\t\t\tfromEl.setAttribute('selected', '');\n\t\t\t} else {\n\t\t\t\tfromEl.removeAttribute('selected');\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * The \"value\" attribute is special for the <input> element\n\t\t * since it sets the initial value. Changing the \"value\"\n\t\t * attribute without changing the \"value\" property will have\n\t\t * no effect since it is only used to the set the initial value.\n\t\t * Similar for the \"checked\" attribute.\n\t\t */\n\t\tINPUT: function(fromEl, toEl) {\n\t\t\tfromEl.checked = toEl.checked;\n\n\t\t\tif (fromEl.value != toEl.value) {\n\t\t\t\tfromEl.value = toEl.value;\n\t\t\t}\n\n\t\t\tif (! toEl.hasAttribute('checked')) {\n\t\t\t\tfromEl.removeAttribute('checked');\n\t\t\t}\n\n\t\t\tif (! toEl.hasAttribute('value')) {\n\t\t\t\tfromEl.removeAttribute('value');\n\t\t\t}\n\t\t},\n\n\t\tTEXTAREA: function(fromEl, toEl) {\n\t\t\tvar newValue = toEl.value;\n\n\t\t\tif (fromEl.value != newValue) {\n\t\t\t\tfromEl.value = newValue;\n\t\t\t}\n\n\t\t\tif (fromEl.firstChild) {\n\t\t\t\tfromEl.firstChild.nodeValue = newValue;\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Loop over all of the attributes on the target node and make sure the\n\t * original DOM node has the same attributes. If an attribute\n\t * found on the original node is not on the new node then remove it from\n\t * the original node\n\t *\n\t * @private\n\t * @param  {HTMLElement} fromNode\n\t * @param  {HTMLElement} toNode\n\t */\n\t_morphAttrs = function(fromNode, toNode) {\n\t\tvar attrs = toNode.attributes,\n\t\t\tfoundAttrs = {},\n\t\t\tattrName,\n\t\t\tattrValue,\n\t\t\tattr,\n\t\t\ti;\n\n\t\tfor (i = attrs.length - 1; i >= 0; i--) {\n\t\t\tattr = attrs[i];\n\n\t\t\tif (attr.specified !== false) {\n\t\t\t\tattrName = attr.name;\n\t\t\t\tattrValue = attr.value;\n\t\t\t\tfoundAttrs[attrName] = true;\n\n\t\t\t\tif (fromNode.getAttribute(attrName) !== attrValue) {\n\t\t\t\t\tfromNode.setAttribute(attrName, attrValue);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Delete any extra attributes found on the original DOM element\n\t\t// that weren't found on the target element\n\t\tattrs = fromNode.attributes;\n\n\t\tfor (i = attrs.length - 1; i >= 0; i--) {\n\t\t\tattr = attrs[i];\n\n\t\t\tif (attr.specified !== false) {\n\t\t\t\tattrName = attr.name;\n\n\t\t\t\tif (! foundAttrs.hasOwnProperty(attrName)) {\n\t\t\t\t\tfromNode.removeAttribute(attrName);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Copies the children of one DOM element to another\n\t *\n\t * @private\n\t * @param {HTMLElement} fromEl\n\t * @param {HTMLElement} toEl\n\t * @returns {HTMLElement}\n\t */\n\t_moveChildren = function(fromEl, toEl) {\n\t\tvar curChild = fromEl.firstChild;\n\n\t\twhile (curChild) {\n\t\t\tvar nextChild = curChild.nextSibling;\n\n\t\t\ttoEl.appendChild(curChild);\n\n\t\t\tcurChild = nextChild;\n\t\t}\n\n\t\treturn toEl;\n\t};\n\n\tW.view.diff = function(fromNode, toNode, replace) {\n\t\t// Used to store DOM elements with IDs\n\t\tvar savedEls = {},\n\t\t\tunmatchedEls = {},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t * @param {HTMLElement} node\n\t\t\t * @param {boolean} nestedInSavedEl\n\t\t\t */\n\t\t\tremoveNodeHelper = function(node, nestedInSavedEl) {\n\t\t\t\tvar id = node.id;\n\n\t\t\t\t// If the node has an ID then store it since we will want to\n\t\t\t\t// reuse it in case the target DOM tree has a DOM element with\n\t\t\t\t// the same ID\n\t\t\t\tif (id) {\n\t\t\t\t\tsavedEls[id] = node;\n\t\t\t\t}\n\n\t\t\t\tif (node.nodeType === 1) {\n\t\t\t\t\tvar curChild = node.firstChild;\n\n\t\t\t\t\twhile (curChild) {\n\t\t\t\t\t\tremoveNodeHelper(curChild, nestedInSavedEl || id);\n\n\t\t\t\t\t\tcurChild = curChild.nextSibling;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t * @param {HTMLElement} node\n\t\t\t */\n\t\t\twalkDiscardedChildNodes = function(node) {\n\t\t\t\tif (node.nodeType === 1) {\n\t\t\t\t\tvar curChild = node.firstChild;\n\n\t\t\t\t\twhile (curChild) {\n\t\t\t\t\t\tif (! curChild.id) {\n\t\t\t\t\t\t\t// Walk recursively\n\t\t\t\t\t\t\twalkDiscardedChildNodes(curChild);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcurChild = curChild.nextSibling;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t * @param {HTMLElement} node\n\t\t\t * @param {HTMLElement} parentNode\n\t\t\t * @param {boolean} alreadyVisited\n\t\t\t */\n\t\t\tremoveNode = function(node, parentNode, alreadyVisited) {\n\t\t\t\tparentNode.removeChild(node);\n\n\t\t\t\tif (alreadyVisited) {\n\t\t\t\t\tif (! node.id) {\n\t\t\t\t\t\twalkDiscardedChildNodes(node);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tremoveNodeHelper(node);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t * @param {HTMLElement} fromEl\n\t\t\t * @param {HTMLElement} toEl\n\t\t\t * @param {boolean} alreadyVisited\n\t\t\t */\n\t\t\tmorphEl = function(fromEl, toEl, alreadyVisited) {\n\t\t\t\tif (toEl.id) {\n\t\t\t\t\t// If an element with an ID is being morphed then it is\n\t\t\t\t\t// will be in the final DOM so clear it out of the saved\n\t\t\t\t\t// elements collection\n\t\t\t\t\tdelete savedEls[toEl.id];\n\t\t\t\t}\n\n\t\t\t\t// Don't process elements specifically excluded\n\t\t\t\tif (fromEl.hasAttribute('data-ignore')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t_morphAttrs(fromEl, toEl);\n\n\t\t\t\tif (fromEl.tagName != 'TEXTAREA') {\n\t\t\t\t\tvar curToNodeChild = toEl.firstChild,\n\t\t\t\t\t\tcurFromNodeChild = fromEl.firstChild,\n\t\t\t\t\t\tcurToNodeId,\n\t\t\t\t\t\tfromNextSibling,\n\t\t\t\t\t\ttoNextSibling,\n\t\t\t\t\t\tsavedEl,\n\t\t\t\t\t\tunmatchedEl;\n\n\t\t\t\t\touter: while (curToNodeChild) {\n\t\t\t\t\t\ttoNextSibling = curToNodeChild.nextSibling;\n\t\t\t\t\t\tcurToNodeId = curToNodeChild.id;\n\n\t\t\t\t\t\twhile (curFromNodeChild) {\n\t\t\t\t\t\t\tvar curFromNodeId = curFromNodeChild.id;\n\t\t\t\t\t\t\tfromNextSibling = curFromNodeChild.nextSibling;\n\n\t\t\t\t\t\t\tif (! alreadyVisited) {\n\t\t\t\t\t\t\t\tif (curFromNodeId && (unmatchedEl = unmatchedEls[curFromNodeId])) {\n\t\t\t\t\t\t\t\t\tunmatchedEl.parentNode.replaceChild(curFromNodeChild, unmatchedEl);\n\t\t\t\t\t\t\t\t\tmorphEl(curFromNodeChild, unmatchedEl, alreadyVisited);\n\n\t\t\t\t\t\t\t\t\tcurFromNodeChild = fromNextSibling;\n\n\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar curFromNodeType = curFromNodeChild.nodeType;\n\n\t\t\t\t\t\t\tif (curFromNodeType === curToNodeChild.nodeType) {\n\t\t\t\t\t\t\t\tvar isCompatible = false;\n\n\t\t\t\t\t\t\t\tif (curFromNodeType === 1) {\n\t\t\t\t\t\t\t\t\t// Both nodes being compared are Element nodes\n\t\t\t\t\t\t\t\t\tif (curFromNodeChild.tagName === curToNodeChild.tagName) {\n\t\t\t\t\t\t\t\t\t\t// We have compatible DOM elements\n\t\t\t\t\t\t\t\t\t\tif (curFromNodeId || curToNodeId) {\n\t\t\t\t\t\t\t\t\t\t\t// If either DOM element has an ID\n\t\t\t\t\t\t\t\t\t\t\t// then we handle those differently\n\t\t\t\t\t\t\t\t\t\t\t// since we want to match up by ID\n\t\t\t\t\t\t\t\t\t\t\tif (curToNodeId === curFromNodeId) {\n\t\t\t\t\t\t\t\t\t\t\t\tisCompatible = true;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tisCompatible = true;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif (isCompatible) {\n\t\t\t\t\t\t\t\t\t\t// We found compatible DOM elements so\n\t\t\t\t\t\t\t\t\t\t// transform the current \"from\" node\n\t\t\t\t\t\t\t\t\t\t// to match the current target DOM node\n\t\t\t\t\t\t\t\t\t\tmorphEl(curFromNodeChild, curToNodeChild, alreadyVisited);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else if (curFromNodeType === 3) {\n\t\t\t\t\t\t\t\t\t// Both nodes being compared are Text nodes\n\t\t\t\t\t\t\t\t\tisCompatible = true;\n\t\t\t\t\t\t\t\t\t// Simply update nodeValue on the original\n\t\t\t\t\t\t\t\t\t// node to change the text value\n\t\t\t\t\t\t\t\t\tcurFromNodeChild.nodeValue = curToNodeChild.nodeValue;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (isCompatible) {\n\t\t\t\t\t\t\t\t\tcurToNodeChild = toNextSibling;\n\t\t\t\t\t\t\t\t\tcurFromNodeChild = fromNextSibling;\n\n\t\t\t\t\t\t\t\t\tcontinue outer;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// No compatible match so remove the old node from\n\t\t\t\t\t\t\t// the DOM and continue trying to find a match in\n\t\t\t\t\t\t\t// the original DOM\n\t\t\t\t\t\t\tremoveNode(curFromNodeChild, fromEl, alreadyVisited);\n\t\t\t\t\t\t\tcurFromNodeChild = fromNextSibling;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (curToNodeId) {\n\t\t\t\t\t\t\tif ((savedEl = savedEls[curToNodeId])) {\n\t\t\t\t\t\t\t\tmorphEl(savedEl, curToNodeChild, true);\n\t\t\t\t\t\t\t\tcurToNodeChild = savedEl;\n\t\t\t\t\t\t\t\t// We want to append the saved element instead\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// The current DOM element in the target tree has an ID\n\t\t\t\t\t\t\t\t// but we did not find a match in any of the corresponding\n\t\t\t\t\t\t\t\t// siblings. We just put the target element in the old DOM tree\n\t\t\t\t\t\t\t\t// but if we later find an element in the old DOM tree that has\n\t\t\t\t\t\t\t\t// a matching ID then we will replace the target element\n\t\t\t\t\t\t\t\t// with the corresponding old element and morph the old element\n\t\t\t\t\t\t\t\tunmatchedEls[curToNodeId] = curToNodeChild;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If we got this far then we did not find a candidate match for our \"to node\"\n\t\t\t\t\t\t// and we exhausted all of the children \"from\" nodes. Therefore, we will just\n\t\t\t\t\t\t// append the current \"to node\" to the end\n\t\t\t\t\t\tfromEl.appendChild(curToNodeChild);\n\n\t\t\t\t\t\tcurToNodeChild = toNextSibling;\n\t\t\t\t\t\tcurFromNodeChild = fromNextSibling;\n\t\t\t\t\t}\n\n\t\t\t\t\t// We have processed all of the \"to nodes\". If\n\t\t\t\t\t// curFromNodeChild is non-null then we still have some from\n\t\t\t\t\t// nodes left over that need to be removed\n\t\t\t\t\twhile (curFromNodeChild) {\n\t\t\t\t\t\tfromNextSibling = curFromNodeChild.nextSibling;\n\t\t\t\t\t\tremoveNode(curFromNodeChild, fromEl, alreadyVisited);\n\t\t\t\t\t\tcurFromNodeChild = fromNextSibling;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar specialElHandler = specialElHandlers[fromEl.tagName];\n\n\t\t\t\tif (specialElHandler) {\n\t\t\t\t\tspecialElHandler(fromEl, toEl);\n\t\t\t\t}\n\t\t\t},\n\t\t\tmorphedNode = fromNode;\n\n\t\tif (replace) {\n\t\t\tvar el = fromNode.cloneNode();\n\n\t\t\t// Place fragment in container\n\t\t\tel.appendChild(toNode);\n\t\t\ttoNode = el;\n\t\t} else {\n\t\t\ttoNode = toNode.firstChild;\n\t\t}\n\n\t\tif (fromNode.tagName !== toNode.tagName) {\n\t\t\tmorphedNode = _moveChildren(fromNode, D.createElement(toNode.tagName));\n\t\t}\n\n\t\tif (morphedNode !== toNode) {\n\t\t\tmorphEl(morphedNode, toNode, false);\n\n\t\t\tfor (var savedElId in savedEls) {\n\t\t\t\tif (savedEls.hasOwnProperty(savedElId)) {\n\t\t\t\t\tvar savedEl = savedEls[savedElId];\n\t\t\t\t\twalkDiscardedChildNodes(savedEl);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (morphedNode !== fromNode && fromNode.parentNode) {\n\t\t\t// If we had to swap out the from node with a new node because the\n\t\t\t// old node was not compatible with the target node then we need to\n\t\t\t// replace the old DOM node in the original DOM tree. This is only\n\t\t\t// possible if the original DOM node was part of a DOM tree which\n\t\t\t// we know is the case if it has a parent node.\n\t\t\tfromNode.parentNode.replaceChild(morphedNode, fromNode);\n\t\t}\n\n\t\treturn morphedNode;\n\t};\n})(Wee, document);","(function(W, A) {\n\t'use strict';\n\n\t/**\n\t * Cast selection as Wee object\n\t *\n\t * @private\n\t * @param {($|HTMLElement|string)} sel\n\t * @param {($|HTMLElement|string)} [context=document]\n\t */\n\tvar Get = function(sel, context) {\n\t\t\tif (sel) {\n\t\t\t\tvar els = Array.isArray(sel) ?\n\t\t\t\t\t\tsel :\n\t\t\t\t\t\tW.$toArray(W.$(sel, context)),\n\t\t\t\t\ti = 0;\n\n\t\t\t\tfor (; i < els.length; i++) {\n\t\t\t\t\tvar el = els[i];\n\n\t\t\t\t\tif (el) {\n\t\t\t\t\t\tA.call(this, el);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.sel = sel;\n\t\t\t}\n\t\t},\n\t\t$;\n\n\t/**\n\t * Create chainable Wee object from selection\n\t *\n\t * @param {(HTMLElement|string)} sel\n\t * @param {object} [context=document]\n\t */\n\t$ = W._win[W._$] = function(sel, context) {\n\t\treturn new Get(sel, context);\n\t};\n\n\t// Extend core with chain registration method\n\tW.fn.extend({\n\t\t/**\n\t\t * Register a new chainable method\n\t\t *\n\t\t * @param {(object|string)} a - method name or object\n\t\t * @param {function} b\n\t\t */\n\t\t$chain: function(a, b) {\n\t\t\tif (typeof a == 'string') {\n\t\t\t\t$.fn[a] = b;\n\t\t\t} else {\n\t\t\t\tfor (var key in a) {\n\t\t\t\t\t$.fn[key] = a[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\t// Shortcut core methods from alias\n\tfor (var key in W) {\n\t\tvar val = W[key];\n\n\t\t$[key.replace(/^\\$/, '')] = typeof val == 'function' ?\n\t\t\tval.bind(W) :\n\t\t\tval;\n\t}\n\n\t// Bind core chainable methods\n\t$.fn = Get.prototype = {\n\t\t_$: true,\n\t\tlength: 0,\n\n\t\t/**\n\t\t * Execute function for each object element\n\t\t *\n\t\t * @param fn\n\t\t * @param {object} [options]\n\t\t * @param {Array} [options.args]\n\t\t * @param {context} [options.context=document]\n\t\t * @param {bool} [options.reverse=false]\n\t\t * @param {Array} [options.scope]\n\t\t */\n\t\teach: function(fn, options) {\n\t\t\tW.$each(this, fn, options);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Translate object elements to a new array\n\t\t *\n\t\t * @param {function} fn\n\t\t * @param {object} [options]\n\t\t * @param {Array} [options.args]\n\t\t * @param {object} [options.scope]\n\t\t * @returns {Array}\n\t\t */\n\t\tmap: function(fn, options) {\n\t\t\treturn W.$map(this, fn, options);\n\t\t},\n\n\t\t/**\n\t\t * Reverse the order of object elements\n\t\t *\n\t\t * @returns {$}\n\t\t */\n\t\treverse: function() {\n\t\t\tvar copy = W.$extend(this),\n\t\t\t\tx = this.length,\n\t\t\t\ttotal = x,\n\t\t\t\ti = 0;\n\n\t\t\tfor (; i < total; i++) {\n\t\t\t\tx--;\n\t\t\t\tthis[i] = copy[x];\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Add ref elements to datastore\n\t\t */\n\t\tsetRef: function() {\n\t\t\tW.$setRef(this);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Add metadata variables to datastore\n\t\t */\n\t\tsetVar: function() {\n\t\t\tW.$setVar(this);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Convert selection to standard array\n\t\t */\n\t\ttoArray: function() {\n\t\t\treturn W._slice.call(this);\n\t\t}\n\t};\n\n\t// Map shorthand registration method\n\t$.fn.extend = W.$chain;\n})(Wee, [].push);","(function(W) {\n\t'use strict';\n\n\tW.$chain({\n\t\t/**\n\t\t * Transition an attribute or property value\n\t\t *\n\t\t * @param {object} values\n\t\t * @param {object} [options]\n\t\t * @param {(Array|function|string)} [options.complete]\n\t\t * @param {number} [options.duration=400]\n\t\t * @param {string} [options.ease='ease']\n\t\t * @returns {$} selection\n\t\t */\n\t\ttween: function(values, options) {\n\t\t\tW.animate.tween(this, values, options);\n\n\t\t\treturn this;\n\t\t}\n\t});\n})(Wee);","(function(W, U) {\n\t'use strict';\n\n\tvar $ = W._win[W._$];\n\n\tW.$chain({\n\t\t/**\n\t\t * Append additional selection to Wee object\n\t\t *\n\t\t * @param {($|HTMLElement|string)} source\n\t\t * @returns {$}\n\t\t */\n\t\tadd: function(source) {\n\t\t\tvar orig = [],\n\t\t\t\ti = 0;\n\n\t\t\tfor (; i < this.length; i++) {\n\t\t\t\torig.push(this[i]);\n\t\t\t}\n\n\t\t\treturn $(W.$unique(orig.concat(W.$(source))));\n\t\t},\n\n\t\t/**\n\t\t * Add classes to each matching selection\n\t\t *\n\t\t * @param {(function|string)} value\n\t\t * @returns {$}\n\t\t */\n\t\taddClass: function(value) {\n\t\t\tW.$addClass(this, value);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Insert selection or markup after each matching selection\n\t\t *\n\t\t * @param {($|function|HTMLElement|string)} source\n\t\t * @param {boolean} [remove=false]\n\t\t * @returns {$}\n\t\t */\n\t\tafter: function(source, remove) {\n\t\t\tW.$after(this, source, remove);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Append selection or markup after each matching selection\n\t\t *\n\t\t * @param {($|function|HTMLElement|string)} source\n\t\t * @returns {$}\n\t\t */\n\t\tappend: function(source) {\n\t\t\tW.$append(this, source);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Append selection or markup to each matching selection\n\t\t *\n\t\t * @param {($|function|HTMLElement|string)} target\n\t\t * @returns {$}\n\t\t */\n\t\tappendTo: function(target) {\n\t\t\tW.$append(target, this);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Get attribute of first matching selection or set attribute\n\t\t * of each matching selection\n\t\t *\n\t\t * @param a\n\t\t * @param b\n\t\t * @returns {($|string)}\n\t\t */\n\t\tattr: function(a, b) {\n\t\t\tvar resp = W.$attr(this, a, b);\n\n\t\t\treturn b !== U || W.$isObject(a) ? this : resp;\n\t\t},\n\n\t\t/**\n\t\t * Insert selection or markup before each matching selection\n\t\t *\n\t\t * @param {($|function|HTMLElement|string)} source\n\t\t * @param {boolean} [remove=false]\n\t\t * @returns {$}\n\t\t */\n\t\tbefore: function(source, remove) {\n\t\t\tW.$before(this, source, remove);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Get unique direct children of each matching selection\n\t\t *\n\t\t * @param filter\n\t\t * @returns {$}\n\t\t */\n\t\tchildren: function(filter) {\n\t\t\treturn $(W.$children(this, filter));\n\t\t},\n\n\t\t/**\n\t\t * Clone each matching selection\n\t\t *\n\t\t * @returns {$}\n\t\t */\n\t\tclone: function() {\n\t\t\treturn $(W.$clone(this));\n\t\t},\n\n\t\t/**\n\t\t * Get unique closest ancestors of each matching selection\n\t\t *\n\t\t * @param filter\n\t\t * @param context\n\t\t * @returns {$}\n\t\t */\n\t\tclosest: function(filter, context) {\n\t\t\treturn $(W.$closest(this, filter, context));\n\t\t},\n\n\t\t/**\n\t\t * Determine if any matching parent selection contains descendant selection\n\t\t *\n\t\t * @param descendant\n\t\t * @returns {boolean}\n\t\t */\n\t\tcontains: function(descendant) {\n\t\t\treturn W.$contains(this, descendant);\n\t\t},\n\n\t\t/**\n\t\t * Get unique content of each matching selection\n\t\t *\n\t\t * @returns {$}\n\t\t */\n\t\tcontents: function() {\n\t\t\treturn $(W.$contents(this));\n\t\t},\n\n\t\t/**\n\t\t * Get CSS value of first matching selection or set value\n\t\t * of each matching selection\n\t\t *\n\t\t * @param {(object|string)} a\n\t\t * @param {(function|string)} [b]\n\t\t * @returns {($|string)}\n\t\t */\n\t\tcss: function(a, b) {\n\t\t\tvar r = W.$css(this, a, b);\n\n\t\t\treturn b !== U || W.$isObject(a) ? this : r;\n\t\t},\n\n\t\t/**\n\t\t * Get data of first matching selection or set data\n\t\t * of each matching selection\n\t\t *\n\t\t * @param a\n\t\t * @param [b]\n\t\t * @returns {($|string)}\n\t\t */\n\t\tdata: function(a, b) {\n\t\t\tvar resp = W.$data(this, a, b);\n\n\t\t\treturn b !== U || W.$isObject(a) ? this : resp;\n\t\t},\n\n\t\t/**\n\t\t * Remove child nodes from each matching selection\n\t\t *\n\t\t * @returns {$}\n\t\t */\n\t\tempty: function() {\n\t\t\tW.$empty(this);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Get indexed node of matching selection\n\t\t *\n\t\t * @param index\n\t\t * @param {($|HTMLElement|string)} [context=document]\n\t\t * @returns {$}\n\t\t */\n\t\teq: function(index, context) {\n\t\t\treturn $(W.$eq(this, index, context));\n\t\t},\n\n\t\t/**\n\t\t * Return a filtered subset of elements from a matching selection\n\t\t *\n\t\t * @param filter\n\t\t * @param [options]\n\t\t * @returns {$}\n\t\t */\n\t\tfilter: function(filter, options) {\n\t\t\treturn $(W.$filter(this, filter, options));\n\t\t},\n\n\t\t/**\n\t\t * Get unique filtered descendants from each matching selection\n\t\t *\n\t\t * @param filter\n\t\t * @returns {$}\n\t\t */\n\t\tfind: function(filter) {\n\t\t\treturn $(W.$find(this, filter));\n\t\t},\n\n\t\t/**\n\t\t * Get the first element of a matching selection\n\t\t *\n\t\t * @returns {$}\n\t\t */\n\t\tfirst: function() {\n\t\t\treturn this.eq(0);\n\t\t},\n\n\t\t/**\n\t\t * Return node from Wee object at specific index\n\t\t *\n\t\t * @returns {HTMLElement}\n\t\t */\n\t\tget: function(index) {\n\t\t\treturn W.$eq(this, index);\n\t\t},\n\n\t\t/**\n\t\t * Determine if the matching selection has a class\n\t\t *\n\t\t * @param className\n\t\t * @returns {boolean}\n\t\t */\n\t\thasClass: function(className) {\n\t\t\treturn W.$hasClass(this, className);\n\t\t},\n\n\t\t/**\n\t\t * Get or set the height of each matching selection\n\t\t *\n\t\t * @param {(function|number|string)} value\n\t\t * @returns {($|number)}\n\t\t */\n\t\theight: function(value) {\n\t\t\tvar r = W.$height(this, value);\n\n\t\t\treturn value === U || value === true ? r : this;\n\t\t},\n\n\t\t/**\n\t\t * Hide each matching selection\n\t\t *\n\t\t * @returns {$}\n\t\t */\n\t\thide: function() {\n\t\t\tW.$hide(this);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Get inner HTML of first selection or set each matching selection's HTML\n\t\t *\n\t\t * @param {(function|string)} value\n\t\t * @returns {($|string)}\n\t\t */\n\t\thtml: function(value) {\n\t\t\tvar r = W.$html(this, value);\n\n\t\t\treturn value !== U ? this : r;\n\t\t},\n\n\t\t/**\n\t\t * Get the zero-based index of a matching selection relative\n\t\t * to it's siblings\n\t\t *\n\t\t * @returns {int}\n\t\t */\n\t\tindex: function() {\n\t\t\treturn W.$index(this);\n\t\t},\n\n\t\t/**\n\t\t * Insert each matching source selection element after\n\t\t * each matching target selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @returns {$}\n\t\t */\n\t\tinsertAfter: function(target) {\n\t\t\tW.$insertAfter(this, target);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Insert each matching source selection element before\n\t\t * each matching target selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @returns {$}\n\t\t */\n\t\tinsertBefore: function(target) {\n\t\t\tW.$insertBefore(this, target);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Determine if at least one matching selection matches\n\t\t * a specified criteria\n\t\t *\n\t\t * @param filter\n\t\t * @param [options]\n\t\t * @returns {boolean}\n\t\t */\n\t\tis: function(filter, options) {\n\t\t\treturn W.$is(this, filter, options);\n\t\t},\n\n\t\t/**\n\t\t * Get the last element of a matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} [context=document]\n\t\t * @returns {$}\n\t\t */\n\t\tlast: function(context) {\n\t\t\treturn $(W.$last(this, context));\n\t\t},\n\n\t\t/**\n\t\t * Get the unique next sibling of each matching selection\n\t\t *\n\t\t * @param filter\n\t\t * @param {object} [options]\n\t\t * @returns {$}\n\t\t */\n\t\tnext: function(filter, options) {\n\t\t\treturn $(W.$next(this, filter, options));\n\t\t},\n\n\t\t/**\n\t\t * Returns elements not matching the filtered selection\n\t\t *\n\t\t * @param filter\n\t\t * @param {object} [options]\n\t\t * @returns {$}\n\t\t */\n\t\tnot: function(filter, options) {\n\t\t\treturn $(W.$not(this, filter, options));\n\t\t},\n\n\t\t/**\n\t\t * Get the offset position of a matching selection relative to the document\n\t\t *\n\t\t * @param {(function|number)} value\n\t\t * @returns {number}\n\t\t */\n\t\toffset: function(value) {\n\t\t\treturn W.$offset(this, value);\n\t\t},\n\n\t\t/**\n\t\t * Get unique parent from each matching selection\n\t\t *\n\t\t * @returns {$}\n\t\t */\n\t\tparent: function(filter) {\n\t\t\treturn $(W.$parent(this, filter));\n\t\t},\n\n\t\t/**\n\t\t * Get unique ancestors of each matching selection\n\t\t *\n\t\t * @param filter\n\t\t * @returns {$}\n\t\t */\n\t\tparents: function(filter) {\n\t\t\treturn $(W.$parents(this, filter));\n\t\t},\n\n\t\t/**\n\t\t * Get the position of the first matching selection relative\n\t\t * to its offset parent\n\t\t *\n\t\t * @returns {{top, left}}\n\t\t */\n\t\tposition: function() {\n\t\t\treturn W.$position(this);\n\t\t},\n\n\t\t/**\n\t\t * Prepend selection or markup before each matching selection\n\t\t *\n\t\t * @param {($|function|HTMLElement|string)} source\n\t\t * @returns {$}\n\t\t */\n\t\tprepend: function(source) {\n\t\t\tW.$prepend(this, source);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Prepend selection or markup to each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @returns {$}\n\t\t */\n\t\tprependTo: function(target) {\n\t\t\tW.$prepend(target, this.reverse());\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Get the unique previous sibling of each matching selection\n\t\t *\n\t\t * @param filter\n\t\t * @param {object} [options]\n\t\t * @returns {$}\n\t\t */\n\t\tprev: function(filter, options) {\n\t\t\treturn $(W.$prev(this, filter, options));\n\t\t},\n\n\t\t/**\n\t\t * Get property of first matching selection or set property of\n\t\t * each matching selection\n\t\t *\n\t\t * @param a\n\t\t * @param b\n\t\t * @returns {($|string)}\n\t\t */\n\t\tprop: function(a, b) {\n\t\t\tvar r = W.$prop(this, a, b);\n\n\t\t\treturn b !== U || W.$isObject(a) ? this : r;\n\t\t},\n\n\t\t/**\n\t\t * Remove each matching selection from the document\n\t\t *\n\t\t * @returns {$}\n\t\t * @param {($|HTMLElement|string)} [context=document]\n\t\t */\n\t\tremove: function(context) {\n\t\t\tW.$remove(this, context);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Remove specified attribute of each matching selection\n\t\t *\n\t\t * @param {string} name\n\t\t * @returns {$}\n\t\t */\n\t\tremoveAttr: function(name) {\n\t\t\tW.$removeAttr(this, name);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Remove classes from each matching selection\n\t\t *\n\t\t * @param {(function|string)} value\n\t\t * @returns {$}\n\t\t */\n\t\tremoveClass: function(value) {\n\t\t\tW.$removeClass(this, value);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Replace each matching selection with selection or markup\n\t\t *\n\t\t * @param {($|HTMLElement|string)} source\n\t\t * @returns {$}\n\t\t */\n\t\treplaceWith: function(source) {\n\t\t\tW.$replaceWith(this, source);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Get or set the X scroll position of each matching selection\n\t\t *\n\t\t * @param value\n\t\t * @returns {($|number)}\n\t\t */\n\t\tscrollLeft: function(value) {\n\t\t\tvar r = W.$scrollLeft(this, value);\n\n\t\t\treturn value === U || value === true ? r : this;\n\t\t},\n\n\t\t/**\n\t\t * Get or set the Y scroll position of each matching selection\n\t\t *\n\t\t * @param value\n\t\t * @returns {($|number)}\n\t\t */\n\t\tscrollTop: function(value) {\n\t\t\tvar r = W.$scrollTop(this, value);\n\n\t\t\treturn value === U || value === true ? r : this;\n\t\t},\n\n\t\t/**\n\t\t * Serialize input values from first matching form selection\n\t\t *\n\t\t * @param {boolean} json\n\t\t * @returns {string}\n\t\t */\n\t\tserialize: function(json) {\n\t\t\treturn W.$serializeForm(this, json);\n\t\t},\n\n\t\t/**\n\t\t * Show each matching selection\n\t\t *\n\t\t * @returns {$}\n\t\t */\n\t\tshow: function() {\n\t\t\tW.$show(this);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Get unique siblings of each matching selection\n\t\t *\n\t\t * @param filter\n\t\t * @returns {$}\n\t\t */\n\t\tsiblings: function(filter) {\n\t\t\treturn $(W.$siblings(this, filter));\n\t\t},\n\n\t\t/**\n\t\t * Get subset of selection matches from specified range\n\t\t *\n\t\t * @param start\n\t\t * @param end\n\t\t * @returns {$}\n\t\t */\n\t\tslice: function(start, end) {\n\t\t\treturn $(W.$slice(this, start, end));\n\t\t},\n\n\t\t/**\n\t\t * Get inner text of first selection or set each matching selection's text\n\t\t *\n\t\t * @param {(function|string)} value\n\t\t * @returns {($|string)}\n\t\t */\n\t\ttext: function(value) {\n\t\t\tvar r = W.$text(this, value);\n\t\t\treturn value !== U ? this : r;\n\t\t},\n\n\t\t/**\n\t\t * Toggle the display of each matching selection\n\t\t *\n\t\t * @returns {$}\n\t\t */\n\t\ttoggle: function() {\n\t\t\tW.$toggle(this);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Toggle adding and removing class(es) from the specified element\n\t\t *\n\t\t * @param {(function|string)} className\n\t\t * @param {boolean} [state]\n\t\t * @returns {$}\n\t\t */\n\t\ttoggleClass: function(className, state) {\n\t\t\tW.$toggleClass(this, className, state);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Get value of first matching selection or set values of\n\t\t * each matching selection\n\t\t *\n\t\t * @param {(function|string)} value\n\t\t * @returns {($|string)}\n\t\t */\n\t\tval: function(value) {\n\t\t\tvar r = W.$val(this, value);\n\n\t\t\treturn value !== U ? this : r;\n\t\t},\n\n\t\t/**\n\t\t * Get or set the width of each matching selection\n\t\t *\n\t\t * @param {(function|number|string)} value\n\t\t * @returns {($|number)}\n\t\t */\n\t\twidth: function(value) {\n\t\t\tvar r = W.$width(this, value);\n\n\t\t\treturn value === U || value === true ? r : this;\n\t\t},\n\n\t\t/**\n\t\t * Wrap markup around each matching selection\n\t\t *\n\t\t * @param {(function|string)} html\n\t\t * @returns {$}\n\t\t */\n\t\twrap: function(html) {\n\t\t\tW.$wrap(this, html);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Wrap markup around the content of each matching selection\n\t\t *\n\t\t * @param {(function|string)} html\n\t\t * @returns {$}\n\t\t */\n\t\twrapInner: function(html) {\n\t\t\tW.$wrapInner(this, html);\n\n\t\t\treturn this;\n\t\t}\n\t});\n})(Wee, undefined);","(function(W, E) {\n\t'use strict';\n\n\tW.$chain({\n\t\t/**\n\t\t * Bind event(s) to selection\n\t\t *\n\t\t * @param {(object|string)} a - event name or object of events\n\t\t * @param {(function|object)} [b] - event callback or options object\n\t\t * @param {(object|string)} [c] - event options\n\t\t * @param {Array} [c.args] - callback arguments\n\t\t * @param {(HTMLElement|string)} [c.context=document]\n\t\t * @param {(HTMLElement|string)} [c.delegate]\n\t\t * @param {boolean} [c.once=false] - remove event after first execution\n\t\t * @param {object} [c.scope]\n\t\t * @returns {$} selection\n\t\t */\n\t\ton: function(a, b, c) {\n\t\t\tE.on(this, a, b, c);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Remove event(s) from selection\n\t\t *\n\t\t * @param {(object|string)} a - event name or object of events\n\t\t * @param {function} [b] - specific function to remove\n\t\t * @returns {$} selection\n\t\t */\n\t\toff: function(a, b) {\n\t\t\tE.off(this, a, b);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Get currently bound events to optional specified element and event|function\n\t\t *\n\t\t * @param {string} [event] - event name to match\n\t\t * @param {function} [fn] - specific function to match\n\t\t * @returns {Array} matches\n\t\t */\n\t\tbound: function(event, fn) {\n\t\t\treturn E.bound(this, event, fn);\n\t\t},\n\n\t\t/**\n\t\t * Execute bound event for each matching selection\n\t\t *\n\t\t * @param {string} name\n\t\t * @returns {$} selection\n\t\t */\n\t\ttrigger: function(name) {\n\t\t\tE.trigger(this, name);\n\n\t\t\treturn this;\n\t\t}\n\t});\n})(Wee, Wee.events);","(function(W) {\n\t'use strict';\n\n\tW.$chain({\n\t\t/**\n\t\t * Parse data into DOM selection\n\t\t *\n\t\t * @param {object} data\n\t\t * @returns {$} selection\n\t\t */\n\t\trender: function(data) {\n\t\t\tW.$each(this, function(el) {\n\t\t\t\tW.$html(el, W.view.render(W.$text(el), data));\n\t\t\t});\n\n\t\t\treturn this;\n\t\t}\n\t});\n})(Wee);","Wee.view.addView({\"welcome.todo\":\"<ul class=\\\"todo\\\">{{#.|each}}<li class=\\\"todo__item{{#done}} -is-done{{/done}}\\\"><div class=\\\"todo__toggle\\\" data-ref=\\\"toggle\\\" data-id=\\\"{{#}}\\\"></div><span class=\\\"todo__label\\\">{{label}}</span></li>{{/.}}</ul>\"});","// Controller documentation available at https://www.weepower.com/script/core#fnmake\n\nWee.fn.make('common', {\n\t_construct: function() {\n\t\t// ...\n\t},\n\tinit: function() {\n\t\tthis.$private.method();\n\t}\n}, {\n\tmethod: function() {\n\t\t// ...\n\t}\n});","// Add custom JavaScript here\n// Route documentation available at https://www.weepower.com/script/routes\n\nWee.routes.map({\n\t'$any': 'common'\n});\n\nWee.ready('routes:run');","Wee.fn.make('todo', {\n\tinit: function() {\n\t\tvar app = Wee.app.make('todo', {\n\t\t\tview: 'welcome.todo',\n\t\t\ttarget: 'ref:todo',\n\t\t\tmodel: [\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Download and run Wee',\n\t\t\t\t\tdone: true\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Explore the guide and welcome modules'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Reset your project to a blank slate'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Customize wee.json'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Build something incredible'\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\n\t\t$('ref:toggle').on('click', function() {\n\t\t\tvar id = $(this).data('id'),\n\t\t\t\tval = app.$get(id + '.done') ? false : true;\n\n\t\t\tapp.$set(id + '.done', val);\n\t\t});\n\t}\n});","Wee.routes.map({\n\t'$root': 'todo'\n});"]}