{"version":3,"sources":["../../../../node_modules/wee-core/script/wee.js","../../../../node_modules/wee-core/script/wee.animate.js","../../../../node_modules/wee-core/script/wee.assets.js","../../../../node_modules/wee-core/script/wee.data.js","../../../../node_modules/wee-core/script/wee.dom.js","../../../../node_modules/wee-core/script/wee.events.js","../../../../node_modules/wee-core/script/wee.history.js","../../../../node_modules/wee-core/script/wee.routes.js","../../../../node_modules/wee-core/script/wee.screen.js","../../../../node_modules/wee-core/script/wee.touch.js","../../../../node_modules/wee-core/script/wee.view.js","../../../../node_modules/wee-core/script/lib/domdiff.js","../../../../node_modules/wee-core/script/wee.chain.js","../../../../node_modules/wee-core/script/chain/wee.chain.animate.js","../../../../node_modules/wee-core/script/chain/wee.chain.dom.js","../../../../node_modules/wee-core/script/chain/wee.chain.events.js","../../../../node_modules/wee-core/script/chain/wee.chain.view.js","../../../../source/modules/welcome/module/script/script.js"],"names":["N","U","web","window","W","env","D","document","store","observe","refs","_storage","obj","key","create","data","segs","split","pop","forEach","hasOwnProperty","_copy","_set","obs","val","options","stored","_canExec","$exec","_trigger","_get","fallback","set","_has","resp","$isObject","Array","isArray","indexOf","_add","type","prepend","root","seg","concat","unshift","push","_merge","$extend","_drop","i","splice","_observe","fn","orig","upd","Object","keys","length","_equals","arr","opts","map","join","el","recursive","value","args","diff","_diff","once","$type","_extend","slice","_contains","source","target","_html","contains","object","deep","src","a","b","aType","_arrEquals","_objEquals","every","aKeys","sort","after","before","_$","WeeAlias","_body","body","_doc","documentElement","_legacy","addEventListener","_slice","_win","make","name","pub","priv","_make","$private","_construct","extend","c","this","$","selector","context","ref","filter","sel","trim","WeeSelector","test","pre","getElementById","substr","querySelectorAll","getElementsByClassName","getElementsByTagName","e","$parseHTML","nodeType","call","html","createElement","innerHTML","children","childNodes","$set","$get","$push","$concat","$merge","$has","$drop","$observe","$unobserve","$trigger","$each","conf","els","_selArray","reverse","scope","$env","rules","host","location","hostname","rule","$envSecure","protocol","fns","$toArray","len","$isFunction","response","apply","bool","arguments","$diff","$equals","$isArray","$isString","$map","res","$serialize","encodeURIComponent","replace","$unserialize","str","decodeURIComponent","$setRef","getAttribute","$setVar","_castString","prototype","toString","toLowerCase","$unique","array","$chain","controller","method","parseInt","JSON","parse","model","Public","Private","core","$destroy","_destruct","$public","ready","readyState","attachEvent","Wee","define","amd","undefined","easings","ease","t","linear","timers","tween","props","duration","prop","cssValue","scrollTop","atob","currentStyle","getComputedStyle","css","unit","start","Date","now","setValue","update","style","dist","dir","clearInterval","complete","bind","Math","abs","setInterval","addEasing","groups","loaded","index","href","load","files","js","img","assets","group","ext","file","cache","remove","parentNode","removeChild","poll","error","success","setTimeout","path","head","done","onreadystatechange","rs","async","onload","onerror","fail","appendChild","link","rel","id","text","sheets","styleSheets","sheet","cssText","Image","version","request","headers","dt","url","jsonp","x","XMLHttpRequest","send","change","contentTypeHeader","toUpperCase","getUrl","stringify","open","json","Accept","xrw","setRequestHeader","status","exec","responseText","template","view","render","jsonpCallback","_getSelected","select","option","selected","_getSibling","match","$index","$children","$parent","$is","_toCamel","_toDashed","$addClass","func","cn","className","names","$after","aft","par","cel","$clone","insertBefore","nextSibling","$remove","$append","app","$attr","$first","setAttribute","$before","bef","parent","$filter","cloneNode","$closest","$contains","descendant","$contents","$css","$data","attributes","attr","$empty","firstChild","$eq","$find","$hasClass","some","RegExp","$height","height","innerHeight","max","offsetHeight","scrollHeight","clientHeight","marginTop","marginBottom","$hide","$html","nodeName","outerHTML","$insertAfter","$insertBefore","matches","matchesSelector","msMatchesSelector","mozMatchesSelector","webkitMatchesSelector","oMatchesSelector","$last","$next","$not","$offset","top","rect","getBoundingClientRect","offset","pageYOffset","left","scrollLeft","pageXOffset","child","$parents","$position","offsetTop","offsetLeft","$prepend","$prev","$prop","$removeAttr","removeAttribute","$removeClass","$replaceWith","$scrollLeft","$scrollTop","$serializeForm","elements","checked","$show","$siblings","siblings","$slice","end","$text","innerText","textContent","$toggle","$toggleClass","state","$val","opt","$width","width","innerWidth","offsetWidth","scrollWidth","clientWidth","marginLeft","marginRight","$wrap","wrap","replaceChild","$wrapInner","bound","custom","on","evts","off","evt","event","binding","parts","ev","String","trigger","cb","addEvent","delegate","targ","f","cont","srcElement","preventDefault","returnValue","stopPropagation","cancelBubble","init","detachEvent","removeEventListener","H","support","pushState","entries","settings","_isValid","exts","extensions","_reset","history","loc","pathname","search","hash","partials","run","replaceState","events","go","namespace","each","l","action","metaKey","globalRequest","sendEvents","successEvents","errorEvents","completeEvents","targets","routes","anim","animate","xhr","process","prev","title","uri","pushstate","popstate","callback","filters","any","depth","segments","num","Number","query","full","curr","addFilter","route","total","k","filtered","current","size","fontFamily","getPropertyValue","parseFloat","sets","addRule","check","reset","watch","screen","isNaN","sz","mn","min","mx","execute","E","down","up","distance","travel","esc","reg","tags","partial","pair","single","_isEmpty","helpers","is","not","isEmpty","empty","notEmpty","views","addHelper","addPartial","temp","tag","m","helper","exists","o","inner","cond","get","help","meth","sec","agg","arg","rv","parseArgs","isObject",".","#","##","isPlainObject","item","$key","fb","helps","toElement","range","createRange","selectNode","fragment","createContextualFragment","noop","morphAttrs","fromNode","toNode","attrName","attrValue","attrs","foundAttrs","specified","moveChildren","fromEl","toEl","curChild","nextChild","specialElHandlers","OPTION","INPUT","hasAttribute","TEXTAREA","newValue","nodeValue","removeNodeHelper","node","nestedInSavedEl","savedEls","onNodeDiscarded","walkDiscardedChildNodes","removeNode","alreadyVisited","onBeforeNodeDiscarded","morphEl","childrenOnly","onBeforeMorphEl","onBeforeMorphElChildren","tagName","curToNodeId","fromNextSibling","toNextSibling","savedEl","unmatchedEl","curToNodeChild","curFromNodeChild","outer","curFromNodeId","unmatchedEls","curFromNodeType","isCompatible","specialElHandler","morphedNode","morphedNodeType","toNodeType","savedElId","A","Get","copy","setRef","setVar","toArray","add","addClass","append","appendTo","clone","closest","contents","r","eq","find","first","hasClass","hide","insertAfter","last","next","parents","position","prependTo","removeAttr","removeClass","replaceWith","serialize","show","toggle","toggleClass","wrapInner","todo","label","items","$root"],"mappings":"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","file":"script.min.js","sourcesContent":["// Wee (weepower.com)\n// Licensed under Apache 2 (http://www.apache.org/licenses/LICENSE-2.0)\n// DO NOT MODIFY\n\n/* jshint maxdepth: 4, maxparams: 6 */\n\n(function(N, U) {\n\t'use strict';\n\n\tvar web = typeof window != 'undefined',\n\t\tW = (function() {\n\t\t\tvar D = web ? document : {},\n\t\t\t\tstore = {},\n\t\t\t\tobserve = {},\n\t\t\t\trefs = {},\n\t\t\t\tenv,\n\n\t\t\t\t/**\n\t\t\t\t * Determine data storage root and key\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t * @param {object} obj\n\t\t\t\t * @param {string} key\n\t\t\t\t * @param {boolean} [create=false]\n\t\t\t\t * @returns {Array} value\n\t\t\t\t */\n\t\t\t\t_storage = function(obj, key, create) {\n\t\t\t\t\tvar data = obj;\n\n\t\t\t\t\tif (key) {\n\t\t\t\t\t\tvar segs = key.split('.');\n\t\t\t\t\t\tkey = segs.pop();\n\n\t\t\t\t\t\tsegs.forEach(function(key) {\n\t\t\t\t\t\t\tdata = data.hasOwnProperty(key) ?\n\t\t\t\t\t\t\t\tdata[key] :\n\t\t\t\t\t\t\t\t(create ? data[key] = {} : []);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\treturn [data, key, _copy(data[key])];\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Set global variable\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t */\n\t\t\t\t_set = function(obj, obs, key, val, options) {\n\t\t\t\t\tvar stored = _storage(obj, key, true),\n\t\t\t\t\t\tdata = W._canExec(val) ?\n\t\t\t\t\t\t\tW.$exec(val, options) :\n\t\t\t\t\t\t\tval;\n\n\t\t\t\t\tstored[0][stored[1]] = data;\n\n\t\t\t\t\t_trigger(obj, obs, key, stored[2], data, 'set');\n\n\t\t\t\t\treturn data;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Get global variable\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t */\n\t\t\t\t_get = function(obj, obs, key, fallback, set, options) {\n\t\t\t\t\tvar stored = _storage(obj, key),\n\t\t\t\t\t\tdata = stored[0];\n\n\t\t\t\t\tif (key) {\n\t\t\t\t\t\tif (data.hasOwnProperty(stored[1])) {\n\t\t\t\t\t\t\treturn data[stored[1]];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (fallback !== U) {\n\t\t\t\t\t\t\treturn set ?\n\t\t\t\t\t\t\t\t_set(obj, obs, key, fallback, options) :\n\t\t\t\t\t\t\t\tfallback;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn data;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Check if storage criteria is set\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t */\n\t\t\t\t_has = function(obj, key, val) {\n\t\t\t\t\tvar data = _storage(obj, key),\n\t\t\t\t\t\tresp = data[0][data[1]];\n\n\t\t\t\t\tif (val !== U) {\n\t\t\t\t\t\tif (W.$isObject(resp)) {\n\t\t\t\t\t\t\treturn resp.hasOwnProperty(val);\n\t\t\t\t\t\t} else if (Array.isArray(resp)) {\n\t\t\t\t\t\t\treturn resp.indexOf(val) > -1;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn resp === val;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn resp !== U;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Push or concatenate values into global array\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t */\n\t\t\t\t_add = function(type, obj, obs, key, val, prepend) {\n\t\t\t\t\tvar stored = _storage(obj, key, true),\n\t\t\t\t\t\troot = stored[0],\n\t\t\t\t\t\tseg = stored[1];\n\n\t\t\t\t\troot[seg] = root[seg] || [];\n\n\t\t\t\t\tif (type == 1) {\n\t\t\t\t\t\troot[seg] = prepend ?\n\t\t\t\t\t\t\tval.concat(root[seg]) :\n\t\t\t\t\t\t\troot[seg].concat(val);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprepend ?\n\t\t\t\t\t\t\troot[seg].unshift(val) :\n\t\t\t\t\t\t\troot[seg].push(val);\n\t\t\t\t\t}\n\n\t\t\t\t\t_trigger(obj, obs, key, stored[2], root[seg],\n\t\t\t\t\t\ttype == 1 ? 'concat' : 'push');\n\n\t\t\t\t\treturn root[seg];\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Extend object into into global storage\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t */\n\t\t\t\t_merge = function(obj, obs, key, val) {\n\t\t\t\t\treturn _set(obj, obs, key,\n\t\t\t\t\t\tW.$extend(true, {}, _get(obj, obs, key, {}), val));\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Remove key or value from global array\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t */\n\t\t\t\t_drop = function(obj, obs, key, val) {\n\t\t\t\t\tvar stored = _storage(obj, key),\n\t\t\t\t\t\troot = stored[0],\n\t\t\t\t\t\tseg = stored[1],\n\t\t\t\t\t\tresp = root[seg];\n\n\t\t\t\t\tif (val !== U) {\n\t\t\t\t\t\tif (resp !== U) {\n\t\t\t\t\t\t\tif (W.$isObject(resp)) {\n\t\t\t\t\t\t\t\tdelete root[key];\n\t\t\t\t\t\t\t} else if (typeof resp == 'string' && resp === val) {\n\t\t\t\t\t\t\t\tdelete root[seg];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvar i = resp.indexOf(val) > -1;\n\n\t\t\t\t\t\t\t\tif (i > -1) {\n\t\t\t\t\t\t\t\t\tresp.splice(i, 1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdelete root[seg];\n\t\t\t\t\t}\n\n\t\t\t\t\t_trigger(obj, obs, key, stored[2], root[seg], 'drop');\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Attach callback to data storage change\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t */\n\t\t\t\t_observe = function(obs, key, fn, options) {\n\t\t\t\t\toptions = options || {};\n\t\t\t\t\toptions.fn = fn;\n\n\t\t\t\t\tobs[key] = obs[key] || [];\n\t\t\t\t\tobs[key].push(options);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Fire callback from data storage change\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t */\n\t\t\t\t_trigger = function(obj, obs, key, orig, upd, type) {\n\t\t\t\t\tif (Object.keys(obs).length && ! _equals(upd, orig)) {\n\t\t\t\t\t\tvar arr = [],\n\t\t\t\t\t\t\topts = key.split('.').map(function(seg) {\n\t\t\t\t\t\t\t\tarr.push(seg);\n\t\t\t\t\t\t\t\treturn arr.join('.');\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\tfor (var val in obs) {\n\t\t\t\t\t\t\tif (opts.indexOf(val) > -1 || val == '*') {\n\t\t\t\t\t\t\t\tvar data = val == '*' ? obj : upd;\n\n\t\t\t\t\t\t\t\tobs[val].forEach(function(el, i) {\n\t\t\t\t\t\t\t\t\tif (val === key || val == '*' || el.recursive) {\n\t\t\t\t\t\t\t\t\t\tif (! el.value || _equals(el.value, data)) {\n\t\t\t\t\t\t\t\t\t\t\tvar args = [data, type];\n\n\t\t\t\t\t\t\t\t\t\t\tif (el.diff) {\n\t\t\t\t\t\t\t\t\t\t\t\targs.push(_diff(orig, data));\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tW.$exec(el.fn, {\n\t\t\t\t\t\t\t\t\t\t\t\targs: args\n\t\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\t\tif (el.once) {\n\t\t\t\t\t\t\t\t\t\t\t\tobs[val].splice(i, 1);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Copy value to a new instance\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t * @param {*} val\n\t\t\t\t * @returns {*}\n\t\t\t\t */\n\t\t\t\t_copy = function(val) {\n\t\t\t\t\tvar type = W.$type(val);\n\n\t\t\t\t\tif (type == 'object') {\n\t\t\t\t\t\tval = _extend({}, val, true);\n\t\t\t\t\t} else if (type == 'array') {\n\t\t\t\t\t\tval = val.slice(0);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn val;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Check if a node contains another node\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t * @param {HTMLElement} source\n\t\t\t\t * @param {HTMLElement} target\n\t\t\t\t * @returns {boolean} match\n\t\t\t\t */\n\t\t\t\t_contains = function(source, target) {\n\t\t\t\t\treturn (source === D ? W._html : source)\n\t\t\t\t\t\t.contains(target);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Extend target object with source object(s)\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t * @param {object} target\n\t\t\t\t * @param {object} source\n\t\t\t\t * @param {boolean} deep\n\t\t\t\t * @returns object\n\t\t\t\t */\n\t\t\t\t_extend = function(target, object, deep) {\n\t\t\t\t\tif (object) {\n\t\t\t\t\t\tfor (var key in object) {\n\t\t\t\t\t\t\tvar src = object[key],\n\t\t\t\t\t\t\t\ttype = W.$type(src);\n\n\t\t\t\t\t\t\tif (deep === true && type == 'object') {\n\t\t\t\t\t\t\t\ttarget[key] = _extend(target[key] || {}, src, deep);\n\t\t\t\t\t\t\t} else if (src !== U) {\n\t\t\t\t\t\t\t\ttarget[key] = type == 'array' ? src.slice(0) : src;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn target;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Compare two values for equality\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t * @param {*} a\n\t\t\t\t * @param {*} b\n\t\t\t\t * @returns {boolean}\n\t\t\t\t */\n\t\t\t\t_equals = function(a, b) {\n\t\t\t\t\tif (a === b) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar aType = W.$type(a);\n\n\t\t\t\t\tif (aType != W.$type(b)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (aType == 'array') {\n\t\t\t\t\t\treturn _arrEquals(a, b);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (aType == 'object') {\n\t\t\t\t\t\treturn _objEquals(a, b);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (aType == 'date') {\n\t\t\t\t\t\treturn +a == +b; // jscs:ignore\n\t\t\t\t\t}\n\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Compare two arrays for equality\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t * @param {array} a\n\t\t\t\t * @param {array} b\n\t\t\t\t * @returns {boolean}\n\t\t\t\t */\n\t\t\t\t_arrEquals = function(a, b) {\n\t\t\t\t\treturn a.length == b.length &&\n\t\t\t\t\t\ta.every(function(el, i) {\n\t\t\t\t\t\t\treturn _equals(el, b[i]);\n\t\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Compare two objects for equality\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t * @param {object} a\n\t\t\t\t * @param {object} b\n\t\t\t\t * @returns {boolean}\n\t\t\t\t */\n\t\t\t\t_objEquals = function(a, b) {\n\t\t\t\t\tvar aKeys = Object.keys(a);\n\n\t\t\t\t\treturn _arrEquals(aKeys.sort(), Object.keys(b).sort()) &&\n\t\t\t\t\t\taKeys.every(function(i) {\n\t\t\t\t\t\t\treturn _equals(a[i], b[i]);\n\t\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Generate a delta from two objects\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t * @param {object} a - original object\n\t\t\t\t * @param {object} b - updated object\n\t\t\t\t * @returns {object}\n\t\t\t\t */\n\t\t\t\t_diff = function(a, b) {\n\t\t\t\t\tif (! (W.$isObject(a) || W.$isObject(b))) {\n\t\t\t\t\t\tvar type = 'update';\n\n\t\t\t\t\t\tif (_equals(a, b)) {\n\t\t\t\t\t\t\ttype = '-';\n\t\t\t\t\t\t} else if (a === U) {\n\t\t\t\t\t\t\ttype = 'create';\n\t\t\t\t\t\t} else if (b === U) {\n\t\t\t\t\t\t\ttype = 'delete';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tafter: b,\n\t\t\t\t\t\t\tbefore: a,\n\t\t\t\t\t\t\ttype: type\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tvar diff = {};\n\n\t\t\t\t\tObject.keys(a).forEach(function(key) {\n\t\t\t\t\t\tdiff[key] = _diff(a[key], b[key]);\n\t\t\t\t\t});\n\n\t\t\t\t\tObject.keys(b).forEach(function(key) {\n\t\t\t\t\t\tif (! diff[key]) {\n\t\t\t\t\t\t\tdiff[key] = _diff(U, b[key]);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\treturn diff;\n\t\t\t\t};\n\n\t\t\treturn {\n\t\t\t\t_$: N.WeeAlias || '$',\n\t\t\t\t_body: D.body,\n\t\t\t\t_doc: D,\n\t\t\t\t_html: D.documentElement,\n\t\t\t\t_legacy: D.addEventListener === U,\n\t\t\t\t_slice: [].slice,\n\t\t\t\t_win: N,\n\t\t\t\tfn: {\n\t\t\t\t\t/**\n\t\t\t\t\t * Create a namespaced controller\n\t\t\t\t\t *\n\t\t\t\t\t * @param {string} name\n\t\t\t\t\t * @param {object} pub - public methods and properties\n\t\t\t\t\t * @param {object} [priv] - private methods and properties\n\t\t\t\t\t */\n\t\t\t\t\tmake: function(name, pub, priv) {\n\t\t\t\t\t\tW.fn[name] = W._make(name, pub, priv);\n\t\t\t\t\t\tW[name] = new W.fn[name]();\n\n\t\t\t\t\t\t// Execute constructors\n\t\t\t\t\t\tif (W[name].$private._construct !== U) {\n\t\t\t\t\t\t\tW[name].$private._construct();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (W[name]._construct !== U) {\n\t\t\t\t\t\t\tW[name]._construct();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Extend controller with additional methods and properties\n\t\t\t\t\t *\n\t\t\t\t\t * @param {(object|string)} a - method name or core methods\n\t\t\t\t\t * @param {object} [b] - public methods and properties\n\t\t\t\t\t * @param {object} [c] - private methods and properties\n\t\t\t\t\t */\n\t\t\t\t\textend: function(a, b, c) {\n\t\t\t\t\t\tif (W.$isObject(a)) {\n\t\t\t\t\t\t\t// Merge into the global object\n\t\t\t\t\t\t\t_extend(W, a);\n\t\t\t\t\t\t} else if (W.hasOwnProperty(a)) {\n\t\t\t\t\t\t\t// Merge the objects else create the controller\n\t\t\t\t\t\t\tif (c) {\n\t\t\t\t\t\t\t\tb.$private = c;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t_extend(W[a], b, true);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.make(a, b, c);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Get matches to specified selector\n\t\t\t\t *\n\t\t\t\t * @param {($|HTMLElement|string)} selector\n\t\t\t\t * @param {($|HTMLElement|string)} [context=document]\n\t\t\t\t * @returns {Array} elements\n\t\t\t\t */\n\t\t\t\t$: function(selector, context) {\n\t\t\t\t\tvar el = null,\n\t\t\t\t\t\tref = [];\n\n\t\t\t\t\tif (typeof selector != 'string') {\n\t\t\t\t\t\tel = selector;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (selector == 'window') {\n\t\t\t\t\t\t\treturn [N];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (selector == 'document') {\n\t\t\t\t\t\t\treturn [D];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Return nothing if context doesn't exist\n\t\t\t\t\t\tcontext = context !== U ? W.$(context)[0] : D;\n\n\t\t\t\t\t\tif (! context) {\n\t\t\t\t\t\t\treturn ref;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Check for pre-cached elements\n\t\t\t\t\t\tif (selector.indexOf('ref:') > -1) {\n\t\t\t\t\t\t\tvar split = selector.split(',').filter(function(sel) {\n\t\t\t\t\t\t\t\tsel = sel.trim();\n\n\t\t\t\t\t\t\t\tif (sel.slice(0, 4) == 'ref:') {\n\t\t\t\t\t\t\t\t\tsel = sel.slice(4);\n\t\t\t\t\t\t\t\t\tsel = refs[sel];\n\n\t\t\t\t\t\t\t\t\t// Apply context filter if not document\n\t\t\t\t\t\t\t\t\tif (sel) {\n\t\t\t\t\t\t\t\t\t\tref = ref.concat(\n\t\t\t\t\t\t\t\t\t\t\tcontext === D ?\n\t\t\t\t\t\t\t\t\t\t\t\tsel :\n\t\t\t\t\t\t\t\t\t\t\t\tsel.filter(function(el) {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn _contains(context, el);\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (split.length) {\n\t\t\t\t\t\t\t\tselector = split.join(',');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn ref;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Use third-party selector engine if defined\n\t\t\t\t\t\tif (N.WeeSelector !== U) {\n\t\t\t\t\t\t\tel = N.WeeSelector(selector, context);\n\t\t\t\t\t\t} else if (/^[#.]?[\\w-]+$/.test(selector)) {\n\t\t\t\t\t\t\tvar pre = selector[0];\n\n\t\t\t\t\t\t\tif (pre == '#') {\n\t\t\t\t\t\t\t\tel = context.getElementById(selector.substr(1));\n\t\t\t\t\t\t\t} else if (pre == '.') {\n\t\t\t\t\t\t\t\tel = W._legacy ?\n\t\t\t\t\t\t\t\t\tcontext.querySelectorAll(selector) :\n\t\t\t\t\t\t\t\t\tcontext.getElementsByClassName(selector.substr(1));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tel = context.getElementsByTagName(selector);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tel = context.querySelectorAll(selector);\n\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\treturn W.$parseHTML(selector);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (! el) {\n\t\t\t\t\t\tel = ref;\n\t\t\t\t\t} else if (el.nodeType !== U || el === N) {\n\t\t\t\t\t\tel = [el];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tel = W._slice.call(el, 0);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Join references if available\n\t\t\t\t\treturn ref.length ? el.concat(ref) : el;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Create a DOM object from an HTML string\n\t\t\t\t *\n\t\t\t\t * @param {string} html\n\t\t\t\t * @returns {HTMLElement} element\n\t\t\t\t */\n\t\t\t\t$parseHTML: function(html) {\n\t\t\t\t\tvar el = W._doc.createElement('div');\n\n\t\t\t\t\tel.innerHTML = html;\n\n\t\t\t\t\treturn W._slice.call(\n\t\t\t\t\t\tel.children.length ?\n\t\t\t\t\t\t\tel.children :\n\t\t\t\t\t\t\tel.childNodes\n\t\t\t\t\t);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Set global variable\n\t\t\t\t *\n\t\t\t\t * @param {string} key\n\t\t\t\t * @param {*} val\n\t\t\t\t * @param {object} [options] - applicable if value is a callback\n\t\t\t\t * @param {Array} [options.args]\n\t\t\t\t * @param {object} [options.scope]\n\t\t\t\t * @returns {*} value\n\t\t\t\t */\n\t\t\t\t$set: function(key, val, options) {\n\t\t\t\t\treturn _set(store, observe, key, val, options);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Get global variable\n\t\t\t\t *\n\t\t\t\t * @param {string} key\n\t\t\t\t * @param {*} [fallback]\n\t\t\t\t * @param {boolean} [set=false]\n\t\t\t\t * @param {object} [options] - available for fallback functions\n\t\t\t\t * @param {Array} [options.args]\n\t\t\t\t * @param {object} [options.scope]\n\t\t\t\t * @returns {*} value\n\t\t\t\t */\n\t\t\t\t$get: function(key, fallback, set, options) {\n\t\t\t\t\treturn _get(store, observe, key, fallback, set, options);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Push value into global array\n\t\t\t\t *\n\t\t\t\t * @param {string} key\n\t\t\t\t * @param {*} value\n\t\t\t\t * @param {boolean} [prepend=false]\n\t\t\t\t * @returns {Array|object} value\n\t\t\t\t */\n\t\t\t\t$push: function(key, val, prepend) {\n\t\t\t\t\treturn _add(2, store, observe, key, val, prepend);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Concatenate values into global array\n\t\t\t\t *\n\t\t\t\t * @param {string} key\n\t\t\t\t * @param {*} value\n\t\t\t\t * @param {boolean} [prepend=false]\n\t\t\t\t * @returns {Array|object} value\n\t\t\t\t */\n\t\t\t\t$concat: function(key, val, prepend) {\n\t\t\t\t\treturn _add(1, store, observe, key, val, prepend);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Extend object into controller storage\n\t\t\t\t *\n\t\t\t\t * @returns {Array}\n\t\t\t\t */\n\t\t\t\t$merge: function(key, obj) {\n\t\t\t\t\treturn _merge(store, observe, key, obj);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Check if storage criteria is set\n\t\t\t\t *\n\t\t\t\t * @param {string} key\n\t\t\t\t * @param {*} [value]\n\t\t\t\t * @returns {boolean}\n\t\t\t\t */\n\t\t\t\t$has: function(key, val) {\n\t\t\t\t\treturn _has(store, key, val);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Remove key or value from global array\n\t\t\t\t *\n\t\t\t\t * @param {string} key\n\t\t\t\t * @param {*} [value]\n\t\t\t\t * @returns {Array|object} value\n\t\t\t\t */\n\t\t\t\t$drop: function(key, val) {\n\t\t\t\t\treturn _drop(store, observe, key, val);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Attach callback to data storage change\n\t\t\t\t *\n\t\t\t\t * @param {string} key\n\t\t\t\t * @param {function} fn\n\t\t\t\t * @param {object} [options]\n\t\t\t\t * @param {boolean} [options.once=false]\n\t\t\t\t * @param {boolean} [options.diff=false]\n\t\t\t\t * @param {boolean} [options.recursive=false]\n\t\t\t\t * @param {*} [options.value]\n\t\t\t\t */\n\t\t\t\t$observe: function(key, fn, options) {\n\t\t\t\t\t_observe(observe, key, fn, options);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Remove callback from data storage change\n\t\t\t\t *\n\t\t\t\t * @param {string} key\n\t\t\t\t */\n\t\t\t\t$unobserve: function(key) {\n\t\t\t\t\tdelete observe[key];\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Execute any matching observed callbacks\n\t\t\t\t *\n\t\t\t\t * @param {string} key\n\t\t\t\t */\n\t\t\t\t$trigger: function(key) {\n\t\t\t\t\t_trigger(store, observe, key);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Execute function for each matching selection\n\t\t\t\t *\n\t\t\t\t * @param {($|Array|HTMLElement|string)} target\n\t\t\t\t * @param {function} fn\n\t\t\t\t * @param {object} [options]\n\t\t\t\t * @param {Array} [options.args]\n\t\t\t\t * @param {boolean} [options.reverse=false]\n\t\t\t\t * @param {($|HTMLElement|string)} [options.context=document]\n\t\t\t\t * @param {object} [options.scope]\n\t\t\t\t */\n\t\t\t\t$each: function(target, fn, options) {\n\t\t\t\t\tif (target) {\n\t\t\t\t\t\tvar conf = _extend({\n\t\t\t\t\t\t\t\targs: []\n\t\t\t\t\t\t\t}, options),\n\t\t\t\t\t\t\tels = W._selArray(target, conf),\n\t\t\t\t\t\t\ti = 0;\n\n\t\t\t\t\t\tif (conf.reverse && ! els._$) {\n\t\t\t\t\t\t\tels = els.reverse();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor (; i < els.length; i++) {\n\t\t\t\t\t\t\tvar el = els[i],\n\t\t\t\t\t\t\t\tval = W.$exec(fn, {\n\t\t\t\t\t\t\t\t\targs: [el, i].concat(conf.args),\n\t\t\t\t\t\t\t\t\tscope: conf.scope || el\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (val === false) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Get current environment or set current environment against\n\t\t\t\t * specified object\n\t\t\t\t *\n\t\t\t\t * @param {object} [rules]\n\t\t\t\t * @param {string} [fallback=local]\n\t\t\t\t * @returns {string} environment\n\t\t\t\t */\n\t\t\t\t$env: function(rules, fallback) {\n\t\t\t\t\tif (rules) {\n\t\t\t\t\t\tvar host = location.hostname;\n\n\t\t\t\t\t\tfor (var rule in rules) {\n\t\t\t\t\t\t\tvar val = rules[rule];\n\n\t\t\t\t\t\t\tif (val == host ||\n\t\t\t\t\t\t\t\t(W._canExec(val) && W.$exec(val, {\n\t\t\t\t\t\t\t\t\targs: host\n\t\t\t\t\t\t\t\t}) === true)) {\n\t\t\t\t\t\t\t\tenv = rule;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (! env) {\n\t\t\t\t\t\tenv = fallback || 'local';\n\t\t\t\t\t}\n\n\t\t\t\t\treturn env;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Determine if the environment is secured over https\n\t\t\t\t *\n\t\t\t\t * @returns {boolean} secure\n\t\t\t\t */\n\t\t\t\t$envSecure: function() {\n\t\t\t\t\treturn location.protocol == 'https:';\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Execute specified function or controller method\n\t\t\t\t *\n\t\t\t\t * @param {function} fn\n\t\t\t\t * @param {object} [options]\n\t\t\t\t * @param {Array} [options.args]\n\t\t\t\t * @param {object} [options.scope]\n\t\t\t\t * @returns {*} [response]\n\t\t\t\t */\n\t\t\t\t$exec: function(fn, options) {\n\t\t\t\t\toptions = options || {};\n\n\t\t\t\t\tvar fns = W.$toArray(fn),\n\t\t\t\t\t\tlen = fns.length,\n\t\t\t\t\t\ti = 0;\n\n\t\t\t\t\tfor (; i < len; i++) {\n\t\t\t\t\t\tvar conf = _extend({\n\t\t\t\t\t\t\targs: []\n\t\t\t\t\t\t}, options || {});\n\t\t\t\t\t\tfn = fns[i];\n\n\t\t\t\t\t\tif (typeof fn == 'string') {\n\t\t\t\t\t\t\tvar segs = fn.split(':');\n\n\t\t\t\t\t\t\tif (W[segs[0]]) {\n\t\t\t\t\t\t\t\tfn = W[segs[0]][\n\t\t\t\t\t\t\t\t\tsegs.length > 1 ?\n\t\t\t\t\t\t\t\t\t\tsegs[1] :\n\t\t\t\t\t\t\t\t\t\t'init'\n\t\t\t\t\t\t\t\t\t];\n\n\t\t\t\t\t\t\t\tif (! conf.scope) {\n\t\t\t\t\t\t\t\t\tconf.scope = W[segs[0]];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (W.$isFunction(fn)) {\n\t\t\t\t\t\t\tvar response = fn.apply(\n\t\t\t\t\t\t\t\tconf.scope,\n\t\t\t\t\t\t\t\tW.$toArray(conf.args)\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tif (len === 1) {\n\t\t\t\t\t\t\t\treturn response;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Extend target object with source object(s)\n\t\t\t\t *\n\t\t\t\t * @param {(boolean|object)} - extend nested properties else target object\n\t\t\t\t * @param {object} - target object\n\t\t\t\t * @param {...object} - merged objects\n\t\t\t\t * @returns {object}\n\t\t\t\t */\n\t\t\t\t$extend: function(deep) {\n\t\t\t\t\tvar bool = typeof deep == 'boolean',\n\t\t\t\t\t\targs = W._slice.call(arguments).slice(bool ? 1 : 0),\n\t\t\t\t\t\ttarget = args[0] || {};\n\t\t\t\t\tdeep = bool ? deep : false;\n\n\t\t\t\t\targs.slice(1).forEach(function(source) {\n\t\t\t\t\t\ttarget = _extend(target, source, deep);\n\t\t\t\t\t});\n\n\t\t\t\t\treturn target;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Generate a delta from two objects\n\t\t\t\t *\n\t\t\t\t * @param {object} a\n\t\t\t\t * @param {object} b\n\t\t\t\t * @returns {object}\n\t\t\t\t */\n\t\t\t\t$diff: function(a, b) {\n\t\t\t\t\treturn _diff(a, b);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Compare two values for equality\n\t\t\t\t *\n\t\t\t\t * @param {*} a\n\t\t\t\t * @param {*} b\n\t\t\t\t * @returns {boolean}\n\t\t\t\t */\n\t\t\t\t$equals: function(a, b) {\n\t\t\t\t\treturn _equals(a, b);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Determine if value is an array\n\t\t\t\t *\n\t\t\t\t * @param {*} obj\n\t\t\t\t * @returns {boolean}\n\t\t\t\t */\n\t\t\t\t$isArray: function(obj) {\n\t\t\t\t\treturn Array.isArray(obj);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Determine if value is a function\n\t\t\t\t *\n\t\t\t\t * @param {*} obj\n\t\t\t\t * @returns {boolean}\n\t\t\t\t */\n\t\t\t\t$isFunction: function(obj) {\n\t\t\t\t\treturn W.$type(obj) == 'function';\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Determine if value is an object\n\t\t\t\t *\n\t\t\t\t * @param {*} obj\n\t\t\t\t * @returns {boolean}\n\t\t\t\t */\n\t\t\t\t$isObject: function(obj) {\n\t\t\t\t\treturn W.$type(obj) == 'object';\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Determine if value is a string\n\t\t\t\t *\n\t\t\t\t * @param {*} obj\n\t\t\t\t * @returns {boolean}\n\t\t\t\t */\n\t\t\t\t$isString: function(obj) {\n\t\t\t\t\treturn typeof obj == 'string';\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Translate items in an array|selection to new array\n\t\t\t\t *\n\t\t\t\t * @param {($|Array|HTMLElement|string)} target - array or selector\n\t\t\t\t * @param {function} fn\n\t\t\t\t * @param {object} [options]\n\t\t\t\t * @param {Array} [options.args]\n\t\t\t\t * @param {object} [options.scope]\n\t\t\t\t * @returns {Array}\n\t\t\t\t */\n\t\t\t\t$map: function(target, fn, options) {\n\t\t\t\t\tif (! Array.isArray(target)) {\n\t\t\t\t\t\ttarget = W._selArray(target, options);\n\t\t\t\t\t}\n\n\t\t\t\t\tvar conf = _extend({\n\t\t\t\t\t\t\targs: []\n\t\t\t\t\t\t}, options),\n\t\t\t\t\t\tres = [],\n\t\t\t\t\t\ti = 0;\n\n\t\t\t\t\tfor (; i < target.length; i++) {\n\t\t\t\t\t\tvar el = target[i],\n\t\t\t\t\t\t\tval = W.$exec(fn, {\n\t\t\t\t\t\t\t\targs: [el, i].concat(conf.args),\n\t\t\t\t\t\t\t\tscope: conf.scope || el\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (val !== false) {\n\t\t\t\t\t\t\tres.push(val);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn res;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Serialize object\n\t\t\t\t *\n\t\t\t\t * @param {object} obj\n\t\t\t\t * @returns {string} value\n\t\t\t\t */\n\t\t\t\t$serialize: function(obj) {\n\t\t\t\t\tvar arr = [];\n\n\t\t\t\t\tObject.keys(obj || {}).forEach(function(key) {\n\t\t\t\t\t\tvar val = obj[key];\n\t\t\t\t\t\tkey = encodeURIComponent(key);\n\n\t\t\t\t\t\tif (typeof val != 'object') {\n\t\t\t\t\t\t\tarr.push(key + '=' + encodeURIComponent(val));\n\t\t\t\t\t\t} else if (Array.isArray(val)) {\n\t\t\t\t\t\t\tval.forEach(function(el) {\n\t\t\t\t\t\t\t\tarr.push(key + '[]=' + encodeURIComponent(el));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\treturn arr.length ? arr.join('&').replace(/%20/g, '+') : '';\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Unserialize string into object\n\t\t\t\t *\n\t\t\t\t * @param {string} str\n\t\t\t\t * @returns {object} value\n\t\t\t\t */\n\t\t\t\t$unserialize: function(str) {\n\t\t\t\t\tvar obj = {};\n\n\t\t\t\t\tdecodeURIComponent(str)\n\t\t\t\t\t\t.replace(/^\\?/, '')\n\t\t\t\t\t\t.split('&').forEach(function(el) {\n\t\t\t\t\t\t\tvar split = el.split('='),\n\t\t\t\t\t\t\t\tkey = split[0],\n\t\t\t\t\t\t\t\tval = split[1] || '';\n\n\t\t\t\t\t\t\tif (obj[key]) {\n\t\t\t\t\t\t\t\tobj[key] = W.$toArray(obj[key]);\n\t\t\t\t\t\t\t\tobj[key].push(val);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tobj[key] = val;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\treturn obj;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Add ref elements to datastore\n\t\t\t\t *\n\t\t\t\t * @param {(HTMLElement|string)} [context=document]\n\t\t\t\t */\n\t\t\t\t$setRef: function(context) {\n\t\t\t\t\tcontext = context ? W.$(context)[0] : D;\n\n\t\t\t\t\t// Clear existing refs if reset\n\t\t\t\t\tObject.keys(refs).forEach(function(val) {\n\t\t\t\t\t\trefs[val] = refs[val].filter(function(el) {\n\t\t\t\t\t\t\treturn ! (\n\t\t\t\t\t\t\t\t! _contains(D, el) ||\n\t\t\t\t\t\t\t\t(_contains(context, el) && context !== el)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\t// Set refs from DOM\n\t\t\t\t\tW.$each('[data-ref]', function(el) {\n\t\t\t\t\t\tel.getAttribute('data-ref').split(/\\s+/)\n\t\t\t\t\t\t\t.forEach(function(val) {\n\t\t\t\t\t\t\t\trefs[val] = refs[val] || [];\n\t\t\t\t\t\t\t\trefs[val].push(el);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}, {\n\t\t\t\t\t\tcontext: context\n\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Add metadata variables to datastore\n\t\t\t\t *\n\t\t\t\t * @param {(HTMLElement|string)} [context=document]\n\t\t\t\t */\n\t\t\t\t$setVar: function(context) {\n\t\t\t\t\tW.$each('[data-set]', function(el) {\n\t\t\t\t\t\tvar key = el.getAttribute('data-set'),\n\t\t\t\t\t\t\tval = W._castString(el.getAttribute('data-value'));\n\n\t\t\t\t\t\tkey.slice(-2) == '[]' ?\n\t\t\t\t\t\t\t_add(2, store, observe, key.slice(0, -2), val) :\n\t\t\t\t\t\t\t_set(store, observe, key, val);\n\t\t\t\t\t}, {\n\t\t\t\t\t\tcontext: context\n\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Cast value to array if it isn't one\n\t\t\t\t *\n\t\t\t\t * @param {*} val\n\t\t\t\t * @returns {Array} value\n\t\t\t\t */\n\t\t\t\t$toArray: function(val) {\n\t\t\t\t\treturn val !== U ? (Array.isArray(val) ? val : [val]) : [];\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Determine the JavaScript type of an object\n\t\t\t\t *\n\t\t\t\t * @param {*} obj\n\t\t\t\t * @returns string\n\t\t\t\t */\n\t\t\t\t$type: function(obj) {\n\t\t\t\t\treturn obj === U ? 'undefined' :\n\t\t\t\t\t\tObject.prototype.toString.call(obj)\n\t\t\t\t\t\t\t.replace(/^\\[object (.+)]$/, '$1')\n\t\t\t\t\t\t\t.toLowerCase();\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Create new array with only unique values from source array\n\t\t\t\t *\n\t\t\t\t * @param {Array} array\n\t\t\t\t * @returns {Array} unique values\n\t\t\t\t */\n\t\t\t\t$unique: function(array) {\n\t\t\t\t\treturn array.reverse().filter(function(el, i, arr) {\n\t\t\t\t\t\treturn arr.indexOf(el, i + 1) < 0;\n\t\t\t\t\t}).reverse();\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Fallback for non-existent chaining\n\t\t\t\t */\n\t\t\t\t$chain: function() {},\n\n\t\t\t\t/**\n\t\t\t\t * Determine if value can be executed as a function\n\t\t\t\t *\n\t\t\t\t * @protected\n\t\t\t\t * @param {*} value\n\t\t\t\t * @returns {boolean} is executable\n\t\t\t\t */\n\t\t\t\t_canExec: function(fn) {\n\t\t\t\t\tif (typeof fn == 'string' && fn.indexOf(':') > -1) {\n\t\t\t\t\t\tvar split = fn.split(':'),\n\t\t\t\t\t\t\tcontroller = W[split[0]],\n\t\t\t\t\t\t\tmethod = split[1];\n\n\t\t\t\t\t\tif (controller && controller[method]) {\n\t\t\t\t\t\t\tfn = controller[method];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn W.$isFunction(fn);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Cast string to most applicable data type\n\t\t\t\t *\n\t\t\t\t * @protected\n\t\t\t\t * @param {*} val\n\t\t\t\t */\n\t\t\t\t_castString: function(val) {\n\t\t\t\t\tif (typeof val == 'string') {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tval = val == 'true' ? true :\n\t\t\t\t\t\t\t\tval == 'false' ? false :\n\t\t\t\t\t\t\t\tval == 'null' ? null :\n\t\t\t\t\t\t\t\tparseInt(val).toString() == val ? parseInt(val) :\n\t\t\t\t\t\t\t\t\t/^(?:\\{[\\w\\W]*}|\\[[\\w\\W]*])$/.test(val) ? JSON.parse(val) :\n\t\t\t\t\t\t\t\t\tval;\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn val;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Extend object storage with object or key -> val\n\t\t\t\t *\n\t\t\t\t * @protected\n\t\t\t\t * @param {object} obj\n\t\t\t\t * @param {(object|string)} a\n\t\t\t\t * @param {*} b\n\t\t\t\t */\n\t\t\t\t_extend: function(obj, a, b) {\n\t\t\t\t\tvar val = a;\n\n\t\t\t\t\tif (typeof a == 'string') {\n\t\t\t\t\t\tval = [];\n\t\t\t\t\t\tval[a] = b;\n\t\t\t\t\t}\n\n\t\t\t\t\t_extend(obj, val);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Convert selection to array\n\t\t\t\t *\n\t\t\t\t * @protected\n\t\t\t\t * @param {($|HTMLElement|string)} selector\n\t\t\t\t * @param {object} [options]\n\t\t\t\t * @param {(HTMLElement|string)} [options.context=document]\n\t\t\t\t * @returns {($|Array)} nodes\n\t\t\t\t */\n\t\t\t\t_selArray: function(selector, options) {\n\t\t\t\t\tif (selector._$) {\n\t\t\t\t\t\treturn selector;\n\t\t\t\t\t}\n\n\t\t\t\t\toptions = options || {};\n\n\t\t\t\t\tvar el = typeof selector == 'string' ?\n\t\t\t\t\t\tW.$(selector, options.context) :\n\t\t\t\t\t\tselector;\n\n\t\t\t\t\treturn W.$toArray(el);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Return a new controller method\n\t\t\t\t *\n\t\t\t\t * @protected\n\t\t\t\t * @returns {Function}\n\t\t\t\t */\n\t\t\t\t_make: function(name, pub, priv, model) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tvar Public = pub || {},\n\t\t\t\t\t\t\tPrivate = priv || {};\n\n\t\t\t\t\t\t// Ensure the current controller is not being extended\n\t\t\t\t\t\tif (name != '_tmp') {\n\t\t\t\t\t\t\tvar store = model || {},\n\t\t\t\t\t\t\t\tobserve = {},\n\t\t\t\t\t\t\t\tcore = {\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Get value from controller storage\n\t\t\t\t\t\t\t\t\t *\n\t\t\t\t\t\t\t\t\t * @returns {*}\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$get: function(key, fallback, set, options) {\n\t\t\t\t\t\t\t\t\t\treturn _get(store, observe, key, fallback, set, options);\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Set value in controller storage\n\t\t\t\t\t\t\t\t\t *\n\t\t\t\t\t\t\t\t\t * @returns {*}\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$set: function(key, val, options) {\n\t\t\t\t\t\t\t\t\t\treturn _set(store, observe, key, val, options);\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Check if storage criteria is set\n\t\t\t\t\t\t\t\t\t *\n\t\t\t\t\t\t\t\t\t * @returns {boolean}\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$has: function(key, val) {\n\t\t\t\t\t\t\t\t\t\treturn _has(store, key, val);\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Push value into controller storage\n\t\t\t\t\t\t\t\t\t *\n\t\t\t\t\t\t\t\t\t * @returns {Array}\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$push: function(key, val, prepend) {\n\t\t\t\t\t\t\t\t\t\treturn _add(2, store, observe, key, val, prepend);\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Concatenate values into controller storage\n\t\t\t\t\t\t\t\t\t *\n\t\t\t\t\t\t\t\t\t * @returns {Array}\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$concat: function(key, val, prepend) {\n\t\t\t\t\t\t\t\t\t\treturn _add(1, store, observe, key, val, prepend);\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Extend object into controller storage\n\t\t\t\t\t\t\t\t\t *\n\t\t\t\t\t\t\t\t\t * @returns {Array}\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$merge: function(key, obj) {\n\t\t\t\t\t\t\t\t\t\treturn _merge(store, observe, key, obj);\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Remove value from controller storage\n\t\t\t\t\t\t\t\t\t *\n\t\t\t\t\t\t\t\t\t * @returns {Array}\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$drop: function(key, val) {\n\t\t\t\t\t\t\t\t\t\treturn _drop(store, observe, key, val);\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Attach callback to data storage change\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$observe: function(key, fn, options) {\n\t\t\t\t\t\t\t\t\t\t_observe(observe, key, fn, options);\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Remove callback from data storage change\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$unobserve: function(key) {\n\t\t\t\t\t\t\t\t\t\tdelete observe[key];\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Attach callback to data storage change\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$trigger: function(key) {\n\t\t\t\t\t\t\t\t\t\t_trigger(store, observe, key);\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Destroy current controller\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$destroy: function() {\n\t\t\t\t\t\t\t\t\t\tif (Private._destruct) {\n\t\t\t\t\t\t\t\t\t\t\tPrivate._destruct();\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif (Public._destruct) {\n\t\t\t\t\t\t\t\t\t\t\tPublic._destruct();\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tdelete W[name];\n\n\t\t\t\t\t\t\t\t\t\tW.$drop(name);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// Extend public and private objects with data\n\t\t\t\t\t\t\tPublic = _extend(Public, core);\n\t\t\t\t\t\t\tPrivate = _extend(Private, core);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (priv !== false) {\n\t\t\t\t\t\t\t// Clone public and private objects\n\t\t\t\t\t\t\tPublic = _extend({}, Public);\n\t\t\t\t\t\t\tPrivate = _extend({}, Private);\n\n\t\t\t\t\t\t\t// Interface $public and $private\n\t\t\t\t\t\t\tPublic.$private = Private;\n\t\t\t\t\t\t\tPrivate.$public = Public;\n\n\t\t\t\t\t\t\tfor (var fn in Private) {\n\t\t\t\t\t\t\t\tPublic.$private[fn] = Private[fn];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn Public;\n\t\t\t\t\t};\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Execute specified function when document is ready\n\t\t\t\t *\n\t\t\t\t * @param {(Array|function|string)} fn\n\t\t\t\t */\n\t\t\t\tready: function(fn) {\n\t\t\t\t\tD.readyState == 'complete' ?\n\t\t\t\t\t\tW.$exec(fn) :\n\t\t\t\t\t\tW._legacy ?\n\t\t\t\t\t\t\tD.attachEvent('onreadystatechange', function() {\n\t\t\t\t\t\t\t\tif (D.readyState == 'complete') {\n\t\t\t\t\t\t\t\t\tW.$exec(fn);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}) :\n\t\t\t\t\t\t\tD.addEventListener('DOMContentLoaded', function() {\n\t\t\t\t\t\t\t\tW.$exec(fn);\n\t\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t})();\n\n\tN.Wee = W;\n\n\t// Set data variables and bind elements\n\tif (web) {\n\t\tW.$setRef();\n\t\tW.$setVar();\n\t}\n\n\t// AMD setup\n\tif (typeof define == 'function' && define.amd) {\n\t\tdefine('wee', [], function() {\n\t\t\treturn W;\n\t\t});\n\t}\n})(this, undefined);","(function(W) {\n\t'use strict';\n\n\t/**\n\t * Default easing functions\n\t */\n\tvar easings = {\n\t\t\tease: function(t) {\n\t\t\t\treturn t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n\t\t\t},\n\t\t\tlinear: function(t) {\n\t\t\t\treturn t;\n\t\t\t}\n\t\t},\n\t\ttimers = [];\n\n\tW.fn.make('animate', {\n\t\t/**\n\t\t * Transition to a specified attribute or property value\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {object} props\n\t\t * @param {object} [options]\n\t\t * @param {number} [options.duration=400]\n\t\t * @param {string} [options.ease='ease']\n\t\t */\n\t\ttween: function(target, props, options) {\n\t\t\tvar conf = W.$extend({\n\t\t\t\t\tduration: 400,\n\t\t\t\t\tease: 'ease'\n\t\t\t\t}, options),\n\t\t\t\tease = easings[conf.ease] || easings.ease;\n\n\t\t\tW.$each(target, function(el) {\n\t\t\t\tfor (var prop in props) {\n\t\t\t\t\tvar target = parseInt(props[prop]),\n\t\t\t\t\t\tscrollTop = prop == 'scrollTop',\n\t\t\t\t\t\tcssValue;\n\n\t\t\t\t\t// Patch scrollTop in IE9- browsers\n\t\t\t\t\tif (scrollTop && ! W._win.atob) {\n\t\t\t\t\t\tel = W._doc.documentElement;\n\t\t\t\t\t\tcssValue = el.scrollTop;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcssValue = W._legacy ?\n\t\t\t\t\t\t\tel.currentStyle[prop] :\n\t\t\t\t\t\t\tgetComputedStyle(el, null)[prop];\n\t\t\t\t\t}\n\n\t\t\t\t\tvar\tcss = cssValue !== undefined,\n\t\t\t\t\t\tunit = css && cssValue.slice(-2) == 'px' ? 'px' : '',\n\t\t\t\t\t\tval = parseInt(css ? cssValue : el[prop]),\n\t\t\t\t\t\tstart = Date.now(),\n\t\t\t\t\t\tsetValue = function(prop, update) {\n\t\t\t\t\t\t\tif (scrollTop && ! W._win.atob) {\n\t\t\t\t\t\t\t\tel.scrollTop = update;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcss ?\n\t\t\t\t\t\t\t\t\tel.style[prop] = update + unit :\n\t\t\t\t\t\t\t\t\tel[prop] = update;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfn = (function() {\n\t\t\t\t\t\t\tvar scope = this,\n\t\t\t\t\t\t\t\tdiff = Date.now() - scope.start;\n\n\t\t\t\t\t\t\tif (scope.dist && diff < conf.duration) {\n\t\t\t\t\t\t\t\tsetValue(\n\t\t\t\t\t\t\t\t\tscope.prop,\n\t\t\t\t\t\t\t\t\tscope.val + scope.dist * ease(diff / conf.duration) * scope.dir\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tclearInterval(timers[scope.prop + scope.start]);\n\t\t\t\t\t\t\t\tsetValue(scope.prop, scope.target);\n\n\t\t\t\t\t\t\t\tif (conf.complete) {\n\t\t\t\t\t\t\t\t\tW.$exec(conf.complete);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}).bind({\n\t\t\t\t\t\t\tdir: target > val ? 1 : -1,\n\t\t\t\t\t\t\tdist: Math.abs(target - val),\n\t\t\t\t\t\t\tprop: prop,\n\t\t\t\t\t\t\tstart: start,\n\t\t\t\t\t\t\ttarget: target,\n\t\t\t\t\t\t\tval: val\n\t\t\t\t\t\t});\n\n\t\t\t\t\ttimers[prop + start] = setInterval(fn, 5);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Add additional easing function\n\t\t *\n\t\t * @param {(object|string}} name or easing object\n\t\t * @param {function} [fn]\n\t\t */\n\t\taddEasing: function(name, fn) {\n\t\t\tW._extend(easings, name, fn);\n\t\t}\n\t});\n})(Wee);","(function(W, U) {\n\t'use strict';\n\n\tvar groups = {},\n\t\tloaded = {},\n\t\troot = '',\n\t\tindex = 0;\n\n\tW.fn.make('assets', {\n\t\t/**\n\t\t * Cache existing CSS and JavaScript asset references\n\t\t *\n\t\t * @constructor\n\t\t */\n\t\t_construct: function() {\n\t\t\tW.$each('link[rel=\"stylesheet\"], script[src]', function(el) {\n\t\t\t\tloaded[el.src || el.href] = el;\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get currently bound resource root or set root with specified value\n\t\t *\n\t\t * @param {string} [value='']\n\t\t * @returns {string} root\n\t\t */\n\t\troot: function(value) {\n\t\t\tif (value) {\n\t\t\t\troot = value;\n\t\t\t}\n\n\t\t\treturn root;\n\t\t},\n\n\t\t/**\n\t\t * Load specified assets with specified set of options\n\t\t *\n\t\t * @param {object} options\n\t\t * @param {(Array|string)} [options.files]\n\t\t * @param {(Array|string)} [options.js]\n\t\t * @param {(Array|string)} [options.css]\n\t\t * @param {(Array|string)} [options.img]\n\t\t * @param {(Array|function|string)} [options.success]\n\t\t * @param {(Array|function|string)} [options.error]\n\t\t * @param {string} [options.group]\n\t\t * @param {boolean} [options.cache=false]\n\t\t */\n\t\tload: function(options) {\n\t\t\tvar files = W.$toArray(options.files),\n\t\t\t\tjs = W.$toArray(options.js),\n\t\t\t\tcss = W.$toArray(options.css),\n\t\t\t\timg = W.$toArray(options.img),\n\t\t\t\troot = options.root !== U ? options.root : this.root(),\n\t\t\t\tnow = Date.now(),\n\t\t\t\tassets = [],\n\t\t\t\ti = 0,\n\t\t\t\ttype;\n\n\t\t\t// Create group name if not specified\n\t\t\tif (! options.group) {\n\t\t\t\toptions.group = 'a' + now;\n\t\t\t}\n\n\t\t\t// Determine file type\n\t\t\tfor (; i < files.length; i++) {\n\t\t\t\tvar ext = files[i].split('.').pop().split(/#|\\?/)[0];\n\t\t\t\ttype = ext == 'js' || ext == 'css' ?\n\t\t\t\t\text : /(gif|jpe?g|png|svg|webp)$/i.test(ext) ?\n\t\t\t\t\t\t'img' : '';\n\n\t\t\t\tif (type) {\n\t\t\t\t\tassets[files[i]] = type;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (i = 0; i < js.length; i++) {\n\t\t\t\tassets[js[i]] = 'js';\n\t\t\t}\n\n\t\t\tfor (i = 0; i < css.length; i++) {\n\t\t\t\tassets[css[i]] = 'css';\n\t\t\t}\n\n\t\t\tfor (i = 0; i < img.length; i++) {\n\t\t\t\tassets[img[i]] = 'img';\n\t\t\t}\n\n\t\t\t// Set file array length to check against\n\t\t\tgroups[options.group] = [\n\t\t\t\tObject.keys(assets).length,\n\t\t\t\toptions,\n\t\t\t\t0\n\t\t\t];\n\n\t\t\t// Request each specified file\n\t\t\tfor (var file in assets) {\n\t\t\t\t// Reset root if the URL is absolute\n\t\t\t\tif (root && /^(https?:)?\\/\\//i.test(file)) {\n\t\t\t\t\troot = '';\n\t\t\t\t}\n\n\t\t\t\ttype = assets[file];\n\t\t\t\tfile = root + file;\n\n\t\t\t\tif (! loaded[file]) {\n\t\t\t\t\tif (options.cache === false) {\n\t\t\t\t\t\tfile += (file.indexOf('?') < 0 ? '?' : '&') + now;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.$private.load(file, type, options);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Remove one or more files from the DOM\n\t\t *\n\t\t * @param {(Array|string)} files\n\t\t * @param {string} [root='']\n\t\t */\n\t\tremove: function(files, root) {\n\t\t\tfiles = W.$toArray(files);\n\t\t\troot = root || '';\n\n\t\t\tvar a = W._doc.createElement('a');\n\n\t\t\tfiles.forEach(function(key) {\n\t\t\t\tvar src = root + files[key];\n\t\t\t\ta.href = src;\n\t\t\t\tsrc = a.href;\n\n\t\t\t\tvar el = loaded[src];\n\n\t\t\t\tif (el !== U) {\n\t\t\t\t\tel.parentNode.removeChild(el);\n\t\t\t\t\tel = null;\n\n\t\t\t\t\tdelete loaded[src];\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Execute callback when specified references are ready\n\t\t *\n\t\t * @param {string} group\n\t\t * @param {object} [options]\n\t\t * @param {Array} [options.args]\n\t\t * @param {object} [options.scope]\n\t\t * @param {(Array|function|string)} [options.success]\n\t\t * @param {(Array|function|string)} [options.error]\n\t\t * @param {boolean} [poll=false]\n\t\t * @returns {boolean} ready\n\t\t */\n\t\tready: function(group, options, poll) {\n\t\t\tvar complete = groups[group][0] < 1;\n\n\t\t\tif (options === U) {\n\t\t\t\treturn complete;\n\t\t\t}\n\n\t\t\tif (complete) {\n\t\t\t\tvar conf = W.$extend(groups[group][1], options);\n\t\t\t\toptions = {\n\t\t\t\t\targs: conf.args,\n\t\t\t\t\tscope: conf.scope\n\t\t\t\t};\n\n\t\t\t\tif (conf.error && groups[group][2] > 0) {\n\t\t\t\t\tW.$exec(conf.error, options);\n\t\t\t\t} else if (conf.success) {\n\t\t\t\t\tW.$exec(conf.success, options);\n\t\t\t\t}\n\t\t\t} else if (poll) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tW.assets.ready(group, {}, true);\n\t\t\t\t}, 20);\n\t\t\t}\n\t\t}\n\t}, {\n\t\t/**\n\t\t * Request specific file\n\t\t *\n\t\t * @private\n\t\t * @param {string} path\n\t\t * @param {string} type\n\t\t * @param {object} [conf]\n\t\t * @param {string} [conf.group]\n\t\t * @param {boolean} [conf.async=false]\n\t\t */\n\t\tload: function(path, type, conf) {\n\t\t\tvar scope = this,\n\t\t\t\thead = W._doc.getElementsByTagName('head')[0],\n\t\t\t\tgroup = conf.group;\n\n\t\t\t// Load file based on extension\n\t\t\tif (type == 'js') {\n\t\t\t\tvar js = W._doc.createElement('script'),\n\t\t\t\t\tfn = function() {\n\t\t\t\t\t\tloaded[js.src] = js;\n\t\t\t\t\t\tscope.done(group);\n\t\t\t\t\t};\n\n\t\t\t\tif (W._legacy) {\n\t\t\t\t\tjs.onreadystatechange = function() {\n\t\t\t\t\t\tvar rs = js.readyState;\n\n\t\t\t\t\t\tif (rs != 'complete' && rs != 'loaded') {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfn();\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tjs.async = conf.async === true;\n\t\t\t\t\tjs.onload = fn;\n\n\t\t\t\t\tjs.onerror = function() {\n\t\t\t\t\t\tscope.fail(group);\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tjs.src = path;\n\t\t\t\thead.appendChild(js);\n\t\t\t} else if (type == 'css') {\n\t\t\t\tvar link = W._doc.createElement('link');\n\n\t\t\t\tlink.rel = 'stylesheet';\n\t\t\t\tlink.href = path;\n\n\t\t\t\tif (W._legacy) {\n\t\t\t\t\tindex++;\n\t\t\t\t\tvar id = 'a' + index;\n\t\t\t\t\tlink.id = id;\n\n\t\t\t\t\tlink.attachEvent('onload', function() {\n\t\t\t\t\t\tvar sheets = W._doc.styleSheets,\n\t\t\t\t\t\t\ti = sheets.length,\n\t\t\t\t\t\t\ttext;\n\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\t\t\tvar sheet = sheets[i];\n\n\t\t\t\t\t\t\t\tif (sheet.id == id) {\n\t\t\t\t\t\t\t\t\ttext = sheet.cssText;\n\t\t\t\t\t\t\t\t\tscope.done(group);\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (e) {}\n\n\t\t\t\t\t\tif (! text) {\n\t\t\t\t\t\t\tscope.fail(group);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tlink.addEventListener('load', function() {\n\t\t\t\t\t\tscope.done(group);\n\t\t\t\t\t}, false);\n\n\t\t\t\t\tlink.addEventListener('error', function() {\n\t\t\t\t\t\tscope.fail(group);\n\t\t\t\t\t}, false);\n\t\t\t\t}\n\n\t\t\t\thead.appendChild(link);\n\t\t\t} else if (type == 'img') {\n\t\t\t\tvar img = new Image();\n\n\t\t\t\timg.onload = function() {\n\t\t\t\t\tscope.done(group);\n\t\t\t\t};\n\n\t\t\t\timg.onerror = function() {\n\t\t\t\t\tscope.fail(group);\n\t\t\t\t};\n\n\t\t\t\timg.src = path;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Decrement remaining count of assets to be loaded\n\t\t *\n\t\t * @private\n\t\t * @param {string} group\n\t\t */\n\t\tdone: function(group) {\n\t\t\tgroups[group][0]--;\n\t\t\tthis.$public.ready(group, {}, false);\n\t\t},\n\n\t\t/**\n\t\t * Track failed resources\n\t\t *\n\t\t * @private\n\t\t * @param {string} group\n\t\t */\n\t\tfail: function(group) {\n\t\t\tgroups[group][2]++;\n\t\t\tthis.done(group);\n\t\t}\n\t});\n})(Wee, undefined);","/* global JSON */\n\n(function(W) {\n\t'use strict';\n\n\t/**\n\t * Setup initial variables\n\t */\n\tvar version = 1;\n\n\tW.fn.make('data', {\n\t\t/**\n\t\t * Make Ajax request based on specified options\n\t\t *\n\t\t * @param {object} options\n\t\t * @param {string} options.url - endpoint to request\n\t\t * @param {string} [options.root=''] - prepended request path\n\t\t * @param {(Array|function|string)} [options.send] - executed before Ajax call\n\t\t * @param {(Array|function|string)} [options.success] - callback if request succeeds\n\t\t * @param {(Array|function|string)} [options.error] - callback if request fails\n\t\t * @param {(Array|function|string)} [options.complete] - callback on request completion\n\t\t * @param {Array} [options.args] - callback arguments appended after default values\n\t\t * @param {object} [options.data] - object to serialize and pass along with request\n\t\t * @param {object} [options.headers] - request headers\n\t\t * @param {boolean} [options.json=false] - evaluate the response as JSON and return object\n\t\t * @param {(boolean|string)} [options.jsonp=false] - boolean or override name for callback query string parameter\n\t\t * @param {string} [options.jsonpCallback] - override the name of the JSONP callback function\n\t\t * @param {string} [options.method=get] - request verb\n\t\t * @param {object} [options.scope] - callback scope\n\t\t * @param {string} [options.template] - template string to parse response JSON\n\t\t */\n\t\trequest: function(options) {\n\t\t\tvar conf = W.$extend({\n\t\t\t\t\targs: [],\n\t\t\t\t\tdata: {},\n\t\t\t\t\theaders: {},\n\t\t\t\t\tmethod: 'get',\n\t\t\t\t\troot: ''\n\t\t\t\t}, options);\n\n\t\t\tif (conf.cache === false) {\n\t\t\t\tconf.data.dt = Date.now();\n\t\t\t}\n\n\t\t\t// Prefix root path to url\n\t\t\tif (conf.root) {\n\t\t\t\tconf.url = conf.root + conf.url;\n\t\t\t}\n\n\t\t\t// Process JSONP\n\t\t\tif (conf.jsonp) {\n\t\t\t\treturn this.$private.jsonp(conf);\n\t\t\t}\n\n\t\t\tvar scope = this,\n\t\t\t\tx = new XMLHttpRequest();\n\n\t\t\tif (conf.send) {\n\t\t\t\tW.$exec(conf.send, {\n\t\t\t\t\targs: conf.args,\n\t\t\t\t\tscope: conf.scope\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tx.onreadystatechange = function() {\n\t\t\t\tscope.$private.change(x, conf);\n\t\t\t};\n\n\t\t\tvar contentTypeHeader = 'Content-Type',\n\t\t\t\tmethod = conf.method.toUpperCase(),\n\t\t\t\tsend = null,\n\t\t\t\theaders = [];\n\n\t\t\t// Format data based on specified verb\n\t\t\tif (method == 'GET') {\n\t\t\t\tconf.url = this.$private.getUrl(conf);\n\t\t\t} else {\n\t\t\t\tif (method == 'POST') {\n\t\t\t\t\theaders[contentTypeHeader] =\n\t\t\t\t\t\t'application/x-www-form-urlencoded; charset=UTF-8';\n\t\t\t\t}\n\n\t\t\t\tsend = typeof conf.data == 'string' ?\n\t\t\t\t\tconf.data :\n\t\t\t\t\tJSON.stringify(conf.data);\n\t\t\t}\n\n\t\t\tx.open(method, conf.url, true);\n\n\t\t\t// Add JSON headers\n\t\t\tif (conf.json) {\n\t\t\t\theaders[contentTypeHeader] = 'application/json';\n\t\t\t\theaders.Accept = 'application/json, text/javascript, */*; q=0.01';\n\t\t\t}\n\n\t\t\t// Add X-Requested-With header for same domain requests\n\t\t\tvar xrw = 'X-Requested-With',\n\t\t\t\ta = W._doc.createElement('a');\n\t\t\ta.href = conf.url;\n\n\t\t\tif (! a.hostname || a.hostname == location.hostname) {\n\t\t\t\theaders[xrw] = 'XMLHttpRequest';\n\t\t\t}\n\n\t\t\theaders = W.$extend(headers, conf.headers);\n\n\t\t\t// Set request headers\n\t\t\tfor (var key in headers) {\n\t\t\t\tvar val = headers[key];\n\n\t\t\t\tif (val !== false) {\n\t\t\t\t\tx.setRequestHeader(key, val);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tx.send(send);\n\t\t}\n\t}, {\n\t\t/**\n\t\t * Process the readyState change event\n\t\t *\n\t\t * @param {XMLHttpRequest} x\n\t\t * @param {object} conf\n\t\t * @returns {*}\n\t\t */\n\t\tchange: function(x, conf) {\n\t\t\tif (x.readyState === 4) {\n\t\t\t\tvar status = x.status,\n\t\t\t\t\texec = {\n\t\t\t\t\t\targs: conf.args,\n\t\t\t\t\t\tscope: conf.scope\n\t\t\t\t\t};\n\n\t\t\t\texec.args.unshift(x);\n\n\t\t\t\tif (status >= 200 && status < 400) {\n\t\t\t\t\tif (conf.success) {\n\t\t\t\t\t\tthis.success(x, conf);\n\t\t\t\t\t}\n\t\t\t\t} else if (conf.error) {\n\t\t\t\t\tW.$exec(conf.error, exec);\n\t\t\t\t}\n\n\t\t\t\tif (conf.complete) {\n\t\t\t\t\tW.$exec(conf.complete, exec);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Execute the request success callback\n\t\t *\n\t\t * @param {XMLHttpRequest} x\n\t\t * @param {object} conf\n\t\t * @returns {boolean}\n\t\t */\n\t\tsuccess: function(x, conf) {\n\t\t\tvar resp = x.responseText,\n\t\t\t\torig = resp,\n\t\t\t\texec = {\n\t\t\t\t\targs: conf.args.slice(0),\n\t\t\t\t\tscope: conf.scope\n\t\t\t\t};\n\n\t\t\t// Parse JSON response if specified\n\t\t\tif (conf.json || conf.template) {\n\t\t\t\ttry {\n\t\t\t\t\tresp = JSON.parse(resp);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tresp = {};\n\t\t\t\t}\n\n\t\t\t\tif (conf.template) {\n\t\t\t\t\tresp = W.view.render(conf.template, resp);\n\t\t\t\t\texec.args.unshift(orig);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\texec.args.unshift(resp);\n\n\t\t\t// Execute success callback if specified\n\t\t\tW.$exec(conf.success, exec);\n\t\t},\n\n\t\t/**\n\t\t * Process JSONP request\n\t\t *\n\t\t * @param {object} conf\n\t\t */\n\t\tjsonp: function(conf) {\n\t\t\tvar head = W.$('head')[0];\n\n\t\t\tif (conf.success) {\n\t\t\t\tvar fn = conf.jsonpCallback;\n\n\t\t\t\tif (! fn) {\n\t\t\t\t\tfn = 'jsonp' + version;\n\t\t\t\t\tversion++;\n\t\t\t\t}\n\n\t\t\t\tW._win[fn] = function(data) {\n\t\t\t\t\tconf.args.unshift(data);\n\n\t\t\t\t\tW.$exec(conf.success, {\n\t\t\t\t\t\targs: conf.args,\n\t\t\t\t\t\tscope: conf.scope\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tconf.data[\n\t\t\t\t\tconf.jsonp === true ?\n\t\t\t\t\t\t'callback' :\n\t\t\t\t\t\tconf.jsonp\n\t\t\t\t] = fn;\n\t\t\t}\n\n\t\t\tvar el = W._doc.createElement('script');\n\t\t\tel.src = this.getUrl(conf);\n\n\t\t\tif (conf.error) {\n\t\t\t\tel.onerror = function() {\n\t\t\t\t\tW.$exec(conf.error, {\n\t\t\t\t\t\targs: conf.args,\n\t\t\t\t\t\tscope: conf.scope\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t}\n\n\t\t\thead.appendChild(el);\n\t\t},\n\n\t\t/**\n\t\t * Generate final URL\n\t\t *\n\t\t * @param {object} conf\n\t\t */\n\t\tgetUrl: function(conf) {\n\t\t\tvar url = conf.url.replace(/[\\?&]$/, '');\n\n\t\t\tif (conf.data && Object.keys(conf.data).length) {\n\t\t\t\turl += (url.indexOf('?') < 0 ? '?' : '&') +\n\t\t\t\t\tW.$serialize(conf.data);\n\t\t\t}\n\n\t\t\treturn url;\n\t\t}\n\t});\n})(Wee);","/* jshint maxdepth: 4 */\n\n(function(W, U) {\n\t'use strict';\n\n\t/**\n\t * Get the selected options from a select\n\t *\n\t * @private\n\t * @param {HTMLElement} select\n\t * @returns {Array} selected\n\t */\n\tvar _getSelected = function(select) {\n\t\tvar options = select.options,\n\t\t\tarr = [],\n\t\t\ti = 0;\n\n\t\tfor (; i < options.length; i++) {\n\t\t\tvar option = options[i];\n\n\t\t\tif (option.selected) {\n\t\t\t\tarr.push(option.value);\n\t\t\t}\n\t\t}\n\n\t\treturn arr;\n\t},\n\n\t/**\n\t * Return either direct previous or next sibling\n\t *\n\t * @private\n\t * @param {($|HTMLElement|string)} target\n\t * @param {int} dir\n\t * @param filter\n\t * @param {object} [options]\n\t * @returns {HTMLElement}\n\t */\n\t_getSibling = function(target, dir, filter, options) {\n\t\tvar match;\n\n\t\tW.$each(target, function(el) {\n\t\t\tvar index = W.$index(el) + dir;\n\n\t\t\tW.$children(W.$parent(el)).forEach(function(el, i) {\n\t\t\t\tif (i === index && (! filter || filter && W.$is(el, filter, options))) {\n\t\t\t\t\tmatch = el;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\treturn match;\n\t},\n\n\t/**\n\t * Convert dash-separated string to camel-case\n\t *\n\t * @private\n\t * @param {string} name\n\t * @returns {string}\n\t */\n\t_toCamel = function(name) {\n\t\treturn name.toLowerCase()\n\t\t\t.replace(/-(.)/g, function(match, val) {\n\t\t\t\treturn val.toUpperCase();\n\t\t\t});\n\t},\n\n\t/**\n\t * Convert camel-cased string to dash-separated\n\t *\n\t * @private\n\t * @param {string} name\n\t * @returns {string}\n\t */\n\t_toDashed = function(name) {\n\t\treturn name.replace(/[A-Z]/g, function(match) {\n\t\t\treturn '-' + match[0].toLowerCase();\n\t\t});\n\t};\n\n\tW.fn.extend({\n\t\t/**\n\t\t * Add classes to each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|string)} value\n\t\t */\n\t\t$addClass: function(target, value) {\n\t\t\tvar func = W._canExec(value);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar cn = el.className,\n\t\t\t\t\tname = func ?\n\t\t\t\t\t\tW.$exec(value, {\n\t\t\t\t\t\t\targs: [i, cn],\n\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\tvalue;\n\n\t\t\t\tif (name) {\n\t\t\t\t\tvar names = cn.split(' '),\n\t\t\t\t\t\tupd = name.split(' ').filter(function(val) {\n\t\t\t\t\t\t\treturn names.indexOf(val) < 0;\n\t\t\t\t\t\t});\n\n\t\t\t\t\tupd.unshift(cn);\n\n\t\t\t\t\tel.className = upd.join(' ');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Insert selection or markup after each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {($|function|HTMLElement|string)} source\n\t\t * @param {boolean} [remove=false]\n\t\t */\n\t\t$after: function(target, source, remove) {\n\t\t\tvar func = W._canExec(source);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar aft = func ?\n\t\t\t\t\tW.$exec(source, {\n\t\t\t\t\t\targs: [i, el.innerHTML],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tsource;\n\n\t\t\t\tif (typeof aft == 'string') {\n\t\t\t\t\taft = W.$parseHTML(aft);\n\t\t\t\t}\n\n\t\t\t\tif (aft) {\n\t\t\t\t\tvar par = el.parentNode;\n\n\t\t\t\t\tW.$each(aft, function(cel) {\n\t\t\t\t\t\tif (i > 0) {\n\t\t\t\t\t\t\tcel = W.$clone(cel)[0];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tpar.insertBefore(cel, el.nextSibling);\n\n\t\t\t\t\t\tW.$setRef(par);\n\t\t\t\t\t}, {\n\t\t\t\t\t\treverse: true\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (remove) {\n\t\t\t\t\tW.$remove(el);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Append selection or markup after each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {($|function|HTMLElement|string)} source\n\t\t */\n\t\t$append: function(target, source) {\n\t\t\tvar func = W._canExec(source);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar app = func ?\n\t\t\t\t\tW.$exec(source, {\n\t\t\t\t\t\targs: [i, el.innerHTML],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tsource;\n\n\t\t\t\tif (typeof app == 'string') {\n\t\t\t\t\tapp = W.$parseHTML(app);\n\t\t\t\t}\n\n\t\t\t\tif (app) {\n\t\t\t\t\tW.$each(app, function(cel) {\n\t\t\t\t\t\tel.appendChild(cel);\n\t\t\t\t\t});\n\n\t\t\t\t\tW.$setRef(el);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get attribute of first matching selection or set attribute\n\t\t * of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param a\n\t\t * @param b\n\t\t * @returns {(string|undefined)}\n\t\t */\n\t\t$attr: function(target, a, b) {\n\t\t\tvar obj = W.$isObject(a);\n\n\t\t\tif (b !== U || obj) {\n\t\t\t\tvar func = ! obj && W._canExec(b);\n\n\t\t\t\tW.$each(target, function(el, i) {\n\t\t\t\t\tobj ?\n\t\t\t\t\t\tObject.keys(a).forEach(function(key) {\n\t\t\t\t\t\t\tel.setAttribute(key, a[key]);\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\tel.setAttribute(a, func ?\n\t\t\t\t\t\t\tW.$exec(b, {\n\t\t\t\t\t\t\t\targs: [i, el[a]],\n\t\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t\t}) :\n\t\t\t\t\t\t\tb\n\t\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn W.$first(target).getAttribute(a);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Insert selection or markup before each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {($|function|HTMLElement|string)} source\n\t\t * @param {boolean} [remove=false]\n\t\t */\n\t\t$before: function(target, source, remove) {\n\t\t\tvar func = W._canExec(source);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar bef = func ?\n\t\t\t\t\tW.$exec(source, {\n\t\t\t\t\t\targs: [i, el.innerHTML],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tsource;\n\n\t\t\t\tif (typeof bef == 'string') {\n\t\t\t\t\tbef = W.$parseHTML(bef);\n\t\t\t\t}\n\n\t\t\t\tif (bef) {\n\t\t\t\t\tvar par = el.parentNode;\n\n\t\t\t\t\tW.$each(bef, function(cel) {\n\t\t\t\t\t\tif (i > 0) {\n\t\t\t\t\t\t\tcel = W.$clone(cel)[0];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tpar.insertBefore(cel, el);\n\n\t\t\t\t\t\tW.$setRef(par);\n\t\t\t\t\t}, {\n\t\t\t\t\t\treverse: true\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (remove) {\n\t\t\t\t\tW.$remove(el);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get unique direct children of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} parent\n\t\t * @param filter\n\t\t * @returns {Array}\n\t\t */\n\t\t$children: function(parent, filter) {\n\t\t\tvar arr = [];\n\n\t\t\tW.$each(parent, function(el) {\n\t\t\t\tvar children = W._slice.call(el.children);\n\n\t\t\t\tarr = arr.concat(\n\t\t\t\t\tfilter ?\n\t\t\t\t\t\tW.$filter(children, filter) :\n\t\t\t\t\t\tchildren\n\t\t\t\t);\n\t\t\t});\n\n\t\t\treturn W.$unique(arr);\n\t\t},\n\n\t\t/**\n\t\t * Clone each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @returns {Array}\n\t\t */\n\t\t$clone: function(target) {\n\t\t\treturn W.$map(target, function(el) {\n\t\t\t\treturn el.cloneNode(true);\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get unique closest ancestors of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param filter\n\t\t * @param context\n\t\t * @returns {HTMLElement}\n\t\t */\n\t\t$closest: function(target, filter, context) {\n\t\t\treturn W.$unique(W.$map(target, function(el) {\n\t\t\t\tif (W.$is(el, filter)) {\n\t\t\t\t\treturn el;\n\t\t\t\t}\n\n\t\t\t\twhile (el !== null) {\n\t\t\t\t\tel = el.parentNode;\n\n\t\t\t\t\tif (el === W._html) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (W.$is(el, filter)) {\n\t\t\t\t\t\treturn el;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, {\n\t\t\t\tcontext: context\n\t\t\t}));\n\t\t},\n\n\t\t/**\n\t\t * Determine if any matching parent selection contains descendant selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} parent\n\t\t * @param descendant\n\t\t * @returns {boolean}\n\t\t */\n\t\t$contains: function(parent, descendant) {\n\t\t\tvar b = false;\n\n\t\t\tW.$each(parent, function(el) {\n\t\t\t\tif (W.$(descendant, el).length) {\n\t\t\t\t\tb = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn b;\n\t\t},\n\n\t\t/**\n\t\t * Get unique content of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} parent\n\t\t * @returns {Array}\n\t\t */\n\t\t$contents: function(parent) {\n\t\t\tvar arr = [];\n\n\t\t\tW.$each(parent, function(el) {\n\t\t\t\tarr = arr.concat(W._slice.call(el.childNodes));\n\t\t\t});\n\n\t\t\treturn W.$unique(arr);\n\t\t},\n\n\t\t/**\n\t\t * Get CSS value of first matching selection or set value\n\t\t * of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(object|string)} a\n\t\t * @param {(function|string)} [b]\n\t\t * @returns {(string|undefined)}\n\t\t */\n\t\t$css: function(target, a, b) {\n\t\t\tvar obj = W.$isObject(a);\n\n\t\t\tif (b !== U || obj) {\n\t\t\t\tvar func = ! obj && W._canExec(b);\n\n\t\t\t\tW.$each(target, function(el, i) {\n\t\t\t\t\tobj ?\n\t\t\t\t\t\tObject.keys(a).forEach(function(key) {\n\t\t\t\t\t\t\tel.style[key] = a[key];\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\tel.style[a] = func ?\n\t\t\t\t\t\t\tW.$exec(b, {\n\t\t\t\t\t\t\t\targs: [i, el.style[a]],\n\t\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t\t}) :\n\t\t\t\t\t\t\tb;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tvar el = W.$first(target);\n\n\t\t\t\treturn W._legacy ?\n\t\t\t\t\tel.currentStyle[a] :\n\t\t\t\t\tgetComputedStyle(el, null)[a];\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Get data of first matching selection or set data\n\t\t * of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param a\n\t\t * @param [b]\n\t\t * @returns {(string|undefined)}\n\t\t */\n\t\t$data: function(target, a, b) {\n\t\t\tif (a === U) {\n\t\t\t\tvar el = W.$first(target),\n\t\t\t\t\tarr = {};\n\n\t\t\t\tW._slice.call(el.attributes).forEach(function(attr) {\n\t\t\t\t\tif (attr.name.substr(0, 5) == 'data-') {\n\t\t\t\t\t\tarr[_toCamel(attr.name.substr(5))] =\n\t\t\t\t\t\t\tW._castString(attr.value);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn arr;\n\t\t\t}\n\n\t\t\tif (W.$isObject(a)) {\n\t\t\t\tvar obj = {};\n\n\t\t\t\tObject.keys(a).forEach(function(key) {\n\t\t\t\t\tobj['data-' + _toDashed(key)] = a[key];\n\t\t\t\t});\n\n\t\t\t\ta = obj;\n\t\t\t} else {\n\t\t\t\ta = 'data-' + _toDashed(a);\n\t\t\t}\n\n\t\t\treturn W._castString(W.$attr(target, a, b));\n\t\t},\n\n\t\t/**\n\t\t * Remove child nodes from each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t */\n\t\t$empty: function(target) {\n\t\t\tW.$each(target, function(el) {\n\t\t\t\twhile (el.firstChild) {\n\t\t\t\t\tel.removeChild(el.firstChild);\n\t\t\t\t}\n\n\t\t\t\tW.$setRef(el);\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get indexed node of matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {int} index\n\t\t * @param {($|HTMLElement|string)} [context=document]\n\t\t * @returns {HTMLElement}\n\t\t */\n\t\t$eq: function(target, index, context) {\n\t\t\tvar el = W.$(target, context);\n\n\t\t\treturn el[index < 0 ? el.length + index : index];\n\t\t},\n\n\t\t/**\n\t\t * Return a filtered subset of elements from a matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param filter\n\t\t * @param [options]\n\t\t * @returns {Array} elements\n\t\t */\n\t\t$filter: function(target, filter, options) {\n\t\t\tvar func = W._canExec(filter);\n\n\t\t\treturn W.$map(target, function(el, i) {\n\t\t\t\tvar match = func ?\n\t\t\t\t\tW.$exec(filter, {\n\t\t\t\t\t\targs: [i, el],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tW.$is(el, filter, options);\n\n\t\t\t\treturn match ? el : false;\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get unique filtered descendants from each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} parent\n\t\t * @param filter\n\t\t * @returns {Array} elements\n\t\t */\n\t\t$find: function(parent, filter) {\n\t\t\tvar arr = [];\n\n\t\t\tW.$each(parent, function(el) {\n\t\t\t\tarr = arr.concat(W.$(filter, el));\n\t\t\t});\n\n\t\t\treturn W.$unique(arr);\n\t\t},\n\n\t\t/**\n\t\t * Get the first element of a matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {($|HTMLElement|string)} [context=document]\n\t\t * @returns {HTMLElement}\n\t\t */\n\t\t$first: function(target, context) {\n\t\t\treturn W.$eq(target, 0, context);\n\t\t},\n\n\t\t/**\n\t\t * Determine if the matching selection has a class\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {string} className\n\t\t * @returns {boolean}\n\t\t */\n\t\t$hasClass: function(target, className) {\n\t\t\treturn W.$(target).some(function(el) {\n\t\t\t\treturn new RegExp('(^| )' + className + '($| )', 'gim')\n\t\t\t\t\t.test(el.className);\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get or set the height of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|number|string)} value\n\t\t * @returns {number}\n\t\t */\n\t\t$height: function(target, value) {\n\t\t\tvar func = value && W._canExec(value),\n\t\t\t\theight;\n\n\t\t\tif (value === U || value === true || func) {\n\t\t\t\tvar el = W.$first(target);\n\n\t\t\t\tif (el === W._win) {\n\t\t\t\t\theight = el.innerHeight;\n\t\t\t\t} else if (el === W._doc) {\n\t\t\t\t\theight = Math.max(\n\t\t\t\t\t\tW._body.offsetHeight,\n\t\t\t\t\t\tW._body.scrollHeight,\n\t\t\t\t\t\tW._html.clientHeight,\n\t\t\t\t\t\tW._html.offsetHeight,\n\t\t\t\t\t\tW._html.scrollHeight\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\theight = el.offsetHeight;\n\n\t\t\t\t\tif (value === true) {\n\t\t\t\t\t\tvar style = el.currentStyle || getComputedStyle(el);\n\t\t\t\t\t\theight += parseInt(style.marginTop) + parseInt(style.marginBottom);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (! func) {\n\t\t\t\t\treturn height;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeof value == 'number') {\n\t\t\t\tvalue = value + 'px';\n\t\t\t}\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tW.$css(el, 'height', func ?\n\t\t\t\t\tW.$exec(value, {\n\t\t\t\t\t\targs: [i, height],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tvalue\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Hide each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t */\n\t\t$hide: function(target) {\n\t\t\tW.$addClass(target, 'js-hide');\n\t\t},\n\n\t\t/**\n\t\t * Get inner HTML of first selection or set each matching selection's HTML\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|string)} value\n\t\t * @returns {(string|undefined)}\n\t\t */\n\t\t$html: function(target, value) {\n\t\t\tif (value === U) {\n\t\t\t\treturn W.$first(target).innerHTML;\n\t\t\t}\n\n\t\t\tvar func = W._canExec(value);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar html = func ?\n\t\t\t\t\tW.$exec(value, {\n\t\t\t\t\t\targs: [i, el.innerHTML],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tvalue;\n\n\t\t\t\tif (html !== false && html !== U) {\n\t\t\t\t\tif (el.nodeName == 'SELECT' && ! W._win.atob) {\n\t\t\t\t\t\tel.outerHTML = el.outerHTML.replace(\n\t\t\t\t\t\t\tel.innerHTML + '</s', html + '</s'\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tel.innerHTML = html;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get the zero-based index of a matching selection relative\n\t\t * to it's siblings\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @returns {int}\n\t\t */\n\t\t$index: function(target) {\n\t\t\tvar el = W.$first(target),\n\t\t\t\tchildren = W.$children(W.$parent(el)),\n\t\t\t\ti = 0;\n\n\t\t\tfor (; i < children.length; i++) {\n\t\t\t\tif (children[i] === el) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn -1;\n\t\t},\n\n\t\t/**\n\t\t * Insert each matching source selection element after\n\t\t * each matching target selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} source\n\t\t * @param {($|HTMLElement|string)} target\n\t\t */\n\t\t$insertAfter: function(source, target) {\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar par = el.parentNode;\n\n\t\t\t\tW.$each(source, function(cel) {\n\t\t\t\t\tif (i > 0) {\n\t\t\t\t\t\tcel = W.$clone(cel)[0];\n\t\t\t\t\t}\n\n\t\t\t\t\tpar.insertBefore(cel, el.nextSibling);\n\n\t\t\t\t\tW.$setRef(par);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Insert each matching source selection element before\n\t\t * each matching target selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} source\n\t\t * @param {($|HTMLElement|string)} target\n\t\t */\n\t\t$insertBefore: function(source, target) {\n\t\t\tW.$each(target, function(el) {\n\t\t\t\tW.$each(source, function(cel) {\n\t\t\t\t\tel.parentNode.insertBefore(cel, el);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Determine if at least one matching selection matches\n\t\t * a specified criteria\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param filter\n\t\t * @param [options]\n\t\t * @returns {boolean}\n\t\t */\n\t\t$is: function(target, filter, options) {\n\t\t\treturn W.$map(target, function(el, i) {\n\t\t\t\tif (typeof filter == 'string' && filter.slice(0, 4) == 'ref:') {\n\t\t\t\t\treturn W.$(filter).indexOf(el) > -1;\n\t\t\t\t}\n\n\t\t\t\tif (W.$isObject(filter)) {\n\t\t\t\t\tfor (var key in filter) {\n\t\t\t\t\t\tif (filter[key] === el) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif (Array.isArray(filter)) {\n\t\t\t\t\treturn filter.indexOf(el) > -1;\n\t\t\t\t}\n\n\t\t\t\tif (W._canExec(filter)) {\n\t\t\t\t\treturn W.$exec(filter, W.$extend({\n\t\t\t\t\t\targs: [i, el],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}, options));\n\t\t\t\t}\n\n\t\t\t\tvar matches = el.matches || el.matchesSelector ||\n\t\t\t\t\tel.msMatchesSelector || el.mozMatchesSelector ||\n\t\t\t\t\tel.webkitMatchesSelector || el.oMatchesSelector;\n\n\t\t\t\treturn matches ?\n\t\t\t\t\tmatches.call(el, filter) :\n\t\t\t\t\tW._slice.call(el.parentNode.querySelectorAll(filter)).indexOf(el) > -1;\n\t\t\t}).length > 0;\n\t\t},\n\n\t\t/**\n\t\t * Get the last element of a matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {($|HTMLElement|string)} [context=document]\n\t\t * @returns {HTMLElement}\n\t\t */\n\t\t$last: function(target, context) {\n\t\t\treturn W.$eq(target, -1, context);\n\t\t},\n\n\t\t/**\n\t\t * Get the unique next sibling of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param filter\n\t\t * @param {object} [options]\n\t\t * @returns {Array} elements\n\t\t */\n\t\t$next: function(target, filter, options) {\n\t\t\treturn W.$unique(W.$map(target, function(el) {\n\t\t\t\treturn _getSibling(el, 1, filter, options);\n\t\t\t}));\n\t\t},\n\n\t\t/**\n\t\t * Returns elements not matching the filtered selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param filter\n\t\t * @param {object} [options]\n\t\t * @returns {Array} elements\n\t\t */\n\t\t$not: function(target, filter, options) {\n\t\t\tvar func = W._canExec(filter);\n\n\t\t\treturn W.$map(target, function(el, i) {\n\t\t\t\treturn (func ?\n\t\t\t\t\tW.$exec(filter, {\n\t\t\t\t\t\targs: [i, el],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tW.$is(el, filter, options)) ? false : el;\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get the offset position of a matching selection relative to the document\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|number)} value\n\t\t * @returns {{top: number, left: number}}\n\t\t */\n\t\t$offset: function(target, value) {\n\t\t\tvar top = W._legacy ? W._html : W._win,\n\t\t\t\trect = W.$first(target).getBoundingClientRect(),\n\t\t\t\toffset = {\n\t\t\t\t\ttop: rect.top + (\n\t\t\t\t\t\tW._legacy ?\n\t\t\t\t\t\t\ttop.scrollTop :\n\t\t\t\t\t\t\ttop.pageYOffset\n\t\t\t\t\t),\n\t\t\t\t\tleft: rect.left + (\n\t\t\t\t\t\tW._legacy ?\n\t\t\t\t\t\t\ttop.scrollLeft :\n\t\t\t\t\t\t\ttop.pageXOffset\n\t\t\t\t\t)\n\t\t\t\t};\n\n\t\t\tif (value) {\n\t\t\t\tvar func = W._canExec(value);\n\n\t\t\t\tW.$each(target, function(el, i) {\n\t\t\t\t\tvar set = func ?\n\t\t\t\t\t\tW.$exec(value, {\n\t\t\t\t\t\t\targs: [i, offset],\n\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\tvalue;\n\n\t\t\t\t\tif (typeof set.top == 'number') {\n\t\t\t\t\t\tset.top = set.top + 'px';\n\t\t\t\t\t}\n\n\t\t\t\t\tif (typeof set.left == 'number') {\n\t\t\t\t\t\tset.left = set.left + 'px';\n\t\t\t\t\t}\n\n\t\t\t\t\tW.$css(el, set);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn offset;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Get unique parent from each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} child\n\t\t * @param filter\n\t\t * @returns {Array} elements\n\t\t */\n\t\t$parent: function(child, filter) {\n\t\t\treturn W.$unique(W.$map(child, function(el) {\n\t\t\t\tvar parent = el.parentNode;\n\t\t\t\treturn ! filter || W.$is(parent, filter) ? parent : false;\n\t\t\t}));\n\t\t},\n\n\t\t/**\n\t\t * Get unique ancestors of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} child\n\t\t * @param filter\n\t\t * @returns {Array} elements\n\t\t */\n\t\t$parents: function(child, filter) {\n\t\t\tvar arr = [];\n\n\t\t\tW.$each(child, function(el) {\n\t\t\t\twhile (el !== null) {\n\t\t\t\t\tel = el.parentNode;\n\n\t\t\t\t\tif (! filter || (filter && W.$is(el, filter))) {\n\t\t\t\t\t\tarr.push(el);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (el === W._html) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn W.$unique(arr);\n\t\t},\n\n\t\t/**\n\t\t * Get the position of the first matching selection relative\n\t\t * to its offset parent\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @returns {{top: number, left: number}}\n\t\t */\n\t\t$position: function(target) {\n\t\t\tvar el = W.$first(target);\n\n\t\t\treturn {\n\t\t\t\ttop: el.offsetTop,\n\t\t\t\tleft: el.offsetLeft\n\t\t\t};\n\t\t},\n\n\t\t/**\n\t\t * Prepend selection or markup before each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {($|function|HTMLElement|string)} source\n\t\t */\n\t\t$prepend: function(target, source) {\n\t\t\tvar func = W._canExec(source);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar pre = func ?\n\t\t\t\t\tW.$exec(source, {\n\t\t\t\t\t\targs: [i, el.innerHTML],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tsource;\n\n\t\t\t\tif (typeof pre == 'string') {\n\t\t\t\t\tpre = W.$parseHTML(pre);\n\t\t\t\t}\n\n\t\t\t\tif (pre) {\n\t\t\t\t\tW.$each(pre, function(cel) {\n\t\t\t\t\t\tel.insertBefore(cel, el.firstChild);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get the unique previous sibling of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param filter\n\t\t * @param {object} [options]\n\t\t * @returns {Array} elements\n\t\t */\n\t\t$prev: function(target, filter, options) {\n\t\t\treturn W.$unique(W.$map(target, function(el) {\n\t\t\t\treturn _getSibling(el, -1, filter, options);\n\t\t\t}));\n\t\t},\n\n\t\t/**\n\t\t * Get property of first matching selection or set property of\n\t\t * each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param a\n\t\t * @param b\n\t\t * @returns {*}\n\t\t */\n\t\t$prop: function(target, a, b) {\n\t\t\tvar obj = W.$isObject(a);\n\n\t\t\tif (b !== U || obj) {\n\t\t\t\tvar func = ! obj && W._canExec(b);\n\n\t\t\t\tW.$each(target, function(el, i) {\n\t\t\t\t\tobj ?\n\t\t\t\t\t\tObject.keys(a).forEach(function(key) {\n\t\t\t\t\t\t\tel[key] = a[key];\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\tel[a] = func ?\n\t\t\t\t\t\t\tW.$exec(b, {\n\t\t\t\t\t\t\t\targs: [i, el[a]],\n\t\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t\t}) :\n\t\t\t\t\t\t\tb;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tvar el = W.$first(target);\n\n\t\t\t\treturn el[a];\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Remove each matching selection from the document\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {($|HTMLElement|string)} [context=document]\n\t\t */\n\t\t$remove: function(target, context) {\n\t\t\tW.$each(target, function(el) {\n\t\t\t\tvar par = el.parentNode;\n\n\t\t\t\tpar.removeChild(el);\n\n\t\t\t\tW.$setRef(par);\n\t\t\t}, {\n\t\t\t\tcontext: context\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Remove specified attribute of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {string} name\n\t\t */\n\t\t$removeAttr: function(target, name) {\n\t\t\tW.$each(target, function(el) {\n\t\t\t\tname.split(/\\s+/).forEach(function(value) {\n\t\t\t\t\tel.removeAttribute(value);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Remove classes from each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|string)} value\n\t\t */\n\t\t$removeClass: function(target, value) {\n\t\t\tvar func = W._canExec(value);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar cn = el.className,\n\t\t\t\t\tname = func ?\n\t\t\t\t\t\tW.$exec(value, {\n\t\t\t\t\t\t\targs: [i, cn],\n\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\tvalue;\n\n\t\t\t\tif (name) {\n\t\t\t\t\tvar names = name.split(' ');\n\n\t\t\t\t\tel.className = cn.split(' ').filter(function(val) {\n\t\t\t\t\t\treturn names.indexOf(val) < 0;\n\t\t\t\t\t}).join(' ');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Replace each matching selection with selection or markup\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {($|HTMLElement|string)} source\n\t\t */\n\t\t$replaceWith: function(target, source) {\n\t\t\tW.$after(target, source, true);\n\t\t},\n\n\t\t/**\n\t\t * Get or set the X scroll position of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {number} value\n\t\t * @returns {number}\n\t\t */\n\t\t$scrollLeft: function(target, value) {\n\t\t\tif (value === U) {\n\t\t\t\tvar el = target ? W.$first(target) : W._win;\n\n\t\t\t\tif (el === W._win) {\n\t\t\t\t\tif (! W._legacy) {\n\t\t\t\t\t\treturn el.pageXOffset;\n\t\t\t\t\t}\n\n\t\t\t\t\tel = W._html;\n\t\t\t\t}\n\n\t\t\t\treturn el.scrollLeft;\n\t\t\t}\n\n\t\t\tW.$each(target, function(el) {\n\t\t\t\tel.scrollLeft = value;\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get or set the Y scroll position of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {number} value\n\t\t * @returns {number}\n\t\t */\n\t\t$scrollTop: function(target, value) {\n\t\t\tif (value === U) {\n\t\t\t\tvar el = target ? W.$first(target) : W._win;\n\n\t\t\t\tif (el === W._win) {\n\t\t\t\t\tif (! W._legacy) {\n\t\t\t\t\t\treturn el.pageYOffset;\n\t\t\t\t\t}\n\n\t\t\t\t\tel = W._html;\n\t\t\t\t}\n\n\t\t\t\treturn el.scrollTop;\n\t\t\t}\n\n\t\t\tW.$each(target, function(el) {\n\t\t\t\tel.scrollTop = value;\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Serialize input values from first matching form selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {boolean} json\n\t\t * @returns {string}\n\t\t */\n\t\t$serializeForm: function(target, json) {\n\t\t\tvar el = W.$first(target),\n\t\t\t\tobj = {},\n\t\t\t\ti = 0;\n\n\t\t\tif (el.nodeName != 'FORM') {\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\tfor (; i < el.elements.length; i++) {\n\t\t\t\tvar child = el.elements[i],\n\t\t\t\t\tname = child.name,\n\t\t\t\t\ttype = child.type;\n\n\t\t\t\tif (name && type != 'file' && type != 'reset') {\n\t\t\t\t\tvar arr = name.slice(-2) == '[]';\n\n\t\t\t\t\tif (arr) {\n\t\t\t\t\t\tname = name.slice(0, -2);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (type == 'select-multiple') {\n\t\t\t\t\t\tobj[name] = _getSelected(child);\n\t\t\t\t\t} else if (\n\t\t\t\t\t\ttype != 'submit' && type != 'button' &&\n\t\t\t\t\t\t((type != 'checkbox' && type != 'radio') || child.checked)) {\n\t\t\t\t\t\tif (arr || (type == 'checkbox' && obj[name])) {\n\t\t\t\t\t\t\tobj[name] = W.$toArray(obj[name]);\n\t\t\t\t\t\t\tobj[name].push(child.value);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tobj[name] = child.value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn json ? obj : W.$serialize(obj);\n\t\t},\n\n\t\t/**\n\t\t * Show each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t */\n\t\t$show: function(target) {\n\t\t\tW.$removeClass(target, 'js-hide');\n\t\t},\n\n\t\t/**\n\t\t * Get unique siblings of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param filter\n\t\t * @returns {Array} elements\n\t\t */\n\t\t$siblings: function(target, filter) {\n\t\t\tvar arr = [];\n\n\t\t\tW.$each(target, function(el) {\n\t\t\t\tvar siblings = W._slice.call(el.parentNode.children),\n\t\t\t\t\ti = 0;\n\n\t\t\t\tfor (; i < siblings.length; i++) {\n\t\t\t\t\tif (siblings[i] === el) {\n\t\t\t\t\t\tsiblings.splice(i, 1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tarr = arr.concat(\n\t\t\t\t\tfilter ?\n\t\t\t\t\t\tW.$filter(siblings, filter) :\n\t\t\t\t\t\tsiblings\n\t\t\t\t);\n\t\t\t});\n\n\t\t\treturn W.$unique(arr);\n\t\t},\n\n\t\t/**\n\t\t * Get subset of selection matches from specified range\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {int} start\n\t\t * @param {int} end\n\t\t * @returns {Array} elements\n\t\t */\n\t\t$slice: function(target, start, end) {\n\t\t\tif (! target._$) {\n\t\t\t\ttarget = W._selArray(target);\n\t\t\t}\n\n\t\t\treturn W._slice.call(target, start, end);\n\t\t},\n\n\t\t/**\n\t\t * Get inner text of first selection or set each matching selection's text\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|string)} value\n\t\t * @returns {string}\n\t\t */\n\t\t$text: function(target, value) {\n\t\t\tif (value === U) {\n\t\t\t\treturn W.$map(target, function(el) {\n\t\t\t\t\treturn (W._legacy ? el.innerText : el.textContent).trim();\n\t\t\t\t}).join('');\n\t\t\t}\n\n\t\t\tvar func = W._canExec(value);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar text = func ?\n\t\t\t\t\tW.$exec(value, {\n\t\t\t\t\t\targs: [i, (W._legacy ? el.innerText : el.textContent).trim()],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tvalue;\n\n\t\t\t\tW._legacy ?\n\t\t\t\t\tel.innerText = text :\n\t\t\t\t\tel.textContent = text;\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Toggle the display of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t */\n\t\t$toggle: function(target) {\n\t\t\tW.$each(target, function(el) {\n\t\t\t\t! W.$hasClass(el, 'js-hide') ?\n\t\t\t\t\tW.$hide(el) :\n\t\t\t\t\tW.$show(el);\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Toggle adding and removing class(es) from the specified element\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|string)} className\n\t\t * @param {boolean} [state]\n\t\t */\n\t\t$toggleClass: function(target, className, state) {\n\t\t\tvar func = W._canExec(className);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tif (func) {\n\t\t\t\t\tclassName = W.$exec(className, {\n\t\t\t\t\t\targs: [i, el.className, state],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (className) {\n\t\t\t\t\tclassName.split(/\\s+/).forEach(function(value) {\n\t\t\t\t\t\tstate === false || (state === U && W.$hasClass(el, value)) ?\n\t\t\t\t\t\t\tW.$removeClass(el, value) :\n\t\t\t\t\t\t\tW.$addClass(el, value);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get value of first matching selection or set match values\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|string)} value\n\t\t * @returns {(Array|string)}\n\t\t */\n\t\t$val: function(target, value) {\n\t\t\tif (value === U) {\n\t\t\t\tvar el = W.$first(target);\n\n\t\t\t\tif (el.type == 'select-multiple') {\n\t\t\t\t\treturn _getSelected(el);\n\t\t\t\t}\n\n\t\t\t\treturn el.value;\n\t\t\t}\n\n\t\t\tvar func = W._canExec(value);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tif (el.nodeName == 'SELECT') {\n\t\t\t\t\tvar opt = W.$find(el, 'option');\n\t\t\t\t\tvalue = W.$toArray(value);\n\n\t\t\t\t\topt.forEach(function(a) {\n\t\t\t\t\t\tif (value.indexOf(a.value) > -1) {\n\t\t\t\t\t\t\ta.selected = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tel.value = func ?\n\t\t\t\t\t\tW.$exec(value, {\n\t\t\t\t\t\t\targs: [i, el.value],\n\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\tvalue;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get or set the width of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|number|string)} value\n\t\t * @returns {number}\n\t\t */\n\t\t$width: function(target, value) {\n\t\t\tvar func = value && W._canExec(value),\n\t\t\t\twidth;\n\n\t\t\tif (value === U || value === true || func) {\n\t\t\t\tvar el = W.$first(target);\n\n\t\t\t\tif (el === W._win) {\n\t\t\t\t\twidth = el.innerWidth;\n\t\t\t\t} else if (el === W._doc) {\n\t\t\t\t\twidth = Math.max(\n\t\t\t\t\t\tW._body.offsetWidth,\n\t\t\t\t\t\tW._body.scrollWidth,\n\t\t\t\t\t\tW._html.clientWidth,\n\t\t\t\t\t\tW._html.offsetWidth,\n\t\t\t\t\t\tW._html.scrollWidth\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\twidth = el.offsetWidth;\n\n\t\t\t\t\tif (value === true) {\n\t\t\t\t\t\tvar style = el.currentStyle || getComputedStyle(el);\n\t\t\t\t\t\twidth += parseInt(style.marginLeft) +\n\t\t\t\t\t\t\tparseInt(style.marginRight);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (! func) {\n\t\t\t\t\treturn width;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeof value == 'number') {\n\t\t\t\tvalue = value + 'px';\n\t\t\t}\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tW.$css(el, 'width', func ?\n\t\t\t\t\tW.$exec(value, {\n\t\t\t\t\t\targs: [i, width],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tvalue\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Wrap markup around each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|string)} html\n\t\t */\n\t\t$wrap: function(target, html) {\n\t\t\tvar func = W._canExec(html);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar wrap = W.$(\n\t\t\t\t\tfunc ?\n\t\t\t\t\t\tW.$exec(html, {\n\t\t\t\t\t\t\targs: i,\n\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\thtml\n\t\t\t\t);\n\n\t\t\t\tif (wrap) {\n\t\t\t\t\tvar par = el.parentNode;\n\n\t\t\t\t\tW.$each(wrap, function(cel) {\n\t\t\t\t\t\tcel = cel.cloneNode(true);\n\n\t\t\t\t\t\tcel.appendChild(el.cloneNode(true));\n\t\t\t\t\t\tpar.replaceChild(cel, el);\n\n\t\t\t\t\t\tW.$setRef(par);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Wrap markup around the content of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|string)} html\n\t\t */\n\t\t$wrapInner: function(target, html) {\n\t\t\tvar func = W._canExec(html);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar wrap = W.$parseHTML(\n\t\t\t\t\tfunc ?\n\t\t\t\t\t\tW.$exec(html, {\n\t\t\t\t\t\t\targs: i,\n\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\thtml\n\t\t\t\t);\n\n\t\t\t\tif (wrap) {\n\t\t\t\t\tvar children = W.$children(el);\n\n\t\t\t\t\tif (! children.length) {\n\t\t\t\t\t\tchildren = W.$html(el);\n\n\t\t\t\t\t\tW.$empty(el);\n\t\t\t\t\t\tW.$html(wrap, children);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tW.$each(children, function(cel) {\n\t\t\t\t\t\t\twrap[0].appendChild(cel);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tW.$append(el, wrap);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n})(Wee, undefined);","/* jshint maxparams: 5 */\n\n(function(W) {\n\t'use strict';\n\n\t/**\n\t * Setup initial variables\n\t */\n\tvar bound = [],\n\t\tcustom = {};\n\n\tW.fn.make('events', {\n\t\t/**\n\t\t * Bind specified function to specified element and event\n\t\t *\n\t\t * @param {(HTMLElement|object|string)} target\n\t\t * @param {(object|string)} a - event name or object of events\n\t\t * @param {(function|object)} [b] - event callback or options object\n\t\t * @param {(object|string)} [c] - event options\n\t\t * @param {Array} [c.args] - callback arguments\n\t\t * @param {(HTMLElement|string)} [c.context=document]\n\t\t * @param {(HTMLElement|string)} [c.delegate]\n\t\t * @param {boolean} [c.once=false] - remove event after first execution\n\t\t * @param {object} [c.scope]\n\t\t */\n\t\ton: function(target, a, b, c) {\n\t\t\tvar evts = [];\n\n\t\t\tif (W.$isObject(target) && ! target._$) {\n\t\t\t\tvar keys = Object.keys(target),\n\t\t\t\t\ti = 0;\n\n\t\t\t\tfor (; i < keys.length; i++) {\n\t\t\t\t\tvar key = keys[i];\n\t\t\t\t\tevts = target[key];\n\n\t\t\t\t\tthis.$private.bind(key, evts, a);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (typeof a == 'string') {\n\t\t\t\t\tevts[a] = b;\n\t\t\t\t} else {\n\t\t\t\t\tevts = a;\n\t\t\t\t\tc = b;\n\t\t\t\t}\n\n\t\t\t\tthis.$private.bind(target, evts, c);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Remove specified event from specified element\n\t\t *\n\t\t * @param {(HTMLElement|string)} [target]\n\t\t * @param {(object|string)} a - event name or object of events\n\t\t * @param {function} [b] - specific function to remove\n\t\t */\n\t\toff: function(target, a, b) {\n\t\t\tvar obj = a;\n\n\t\t\tif (a) {\n\t\t\t\tif (typeof a == 'string') {\n\t\t\t\t\tobj = [];\n\t\t\t\t\tobj[a] = b;\n\t\t\t\t}\n\n\t\t\t\tfor (var key in obj) {\n\t\t\t\t\tvar evts = key.split(' '),\n\t\t\t\t\t\ti = 0;\n\n\t\t\t\t\tfor (; i < evts.length; i++) {\n\t\t\t\t\t\tvar evt = evts[i],\n\t\t\t\t\t\tfn = obj[evt];\n\n\t\t\t\t\t\tthis.$private.off(target, evt, fn);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.$private.off(target);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Get currently bound events to optional specified element and event|function\n\t\t *\n\t\t * @param {(false|HTMLElement|string)} [target]\n\t\t * @param {string} [event] - event name to match\n\t\t * @param {function} [fn] - specific function to match\n\t\t * @returns {Array} matches\n\t\t */\n\t\tbound: function(target, event, fn) {\n\t\t\tvar segs = (event || '').split('.'),\n\t\t\t\tmatches = [];\n\n\t\t\tW.$each(target, function(el) {\n\t\t\t\tObject.keys(bound).forEach(function(e) {\n\t\t\t\t\tvar binding = bound[e],\n\t\t\t\t\t\tparts = binding.ev.split('.'),\n\t\t\t\t\t\tmatch = true;\n\n\t\t\t\t\tif (el !== binding.el) {\n\t\t\t\t\t\tmatch = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (event &&\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tsegs[0] !== '' &&\n\t\t\t\t\t\t\tsegs[0] != parts[0]\n\t\t\t\t\t\t) ||\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tsegs[1] &&\n\t\t\t\t\t\t\tsegs[1] != parts[1]\n\t\t\t\t\t\t)) {\n\t\t\t\t\t\tmatch = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (fn && String(fn) !== String(binding.fn)) {\n\t\t\t\t\t\tmatch = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (match) {\n\t\t\t\t\t\tmatches.push(binding);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn target ? matches : bound;\n\t\t},\n\n\t\t/**\n\t\t * Execute bound event for each matching selection\n\t\t *\n\t\t * @param {(HTMLElement|string)} target\n\t\t * @param {string} name\n\t\t */\n\t\ttrigger: function(target, name) {\n\t\t\tthis.bound(target, name).forEach(function(evt) {\n\t\t\t\tevt.cb(false);\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Add a custom event\n\t\t *\n\t\t * @param {string} name\n\t\t * @param {function} on\n\t\t * @param {function} off\n\t\t */\n\t\taddEvent: function(name, on, off) {\n\t\t\tcustom[name] = [on, off];\n\t\t}\n\t}, {\n\t\t/**\n\t\t * Attach specific event logic to element\n\t\t *\n\t\t * @param {Array} els\n\t\t * @param {object} obj\n\t\t * @param {object} options\n\t\t */\n\t\tbind: function(els, obj, options) {\n\t\t\tvar scope = this;\n\n\t\t\t// Redefine variables when delegating\n\t\t\tif (options && options.delegate) {\n\t\t\t\toptions.targ = els;\n\t\t\t\tels = options.delegate;\n\t\t\t}\n\n\t\t\t// For each element attach events\n\t\t\tW.$each(els, function(el) {\n\t\t\t\t// Loop through object events\n\t\t\t\tfor (var key in obj) {\n\t\t\t\t\tvar evts = key.split(' '),\n\t\t\t\t\t\ti = 0;\n\n\t\t\t\t\tfor (; i < evts.length; i++) {\n\t\t\t\t\t\tvar conf = W.$extend({\n\t\t\t\t\t\t\t\targs: [],\n\t\t\t\t\t\t\t\tonce: false,\n\t\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t\t}, options),\n\t\t\t\t\t\t\tfn = obj[key],\n\t\t\t\t\t\t\tevt = evts[i],\n\t\t\t\t\t\t\tev = evt,\n\t\t\t\t\t\t\tf = fn;\n\t\t\t\t\t\tevt = evt.split('.')[0];\n\n\t\t\t\t\t\t// Prepend element to callback arguments if necessary\n\t\t\t\t\t\tif (conf.args[1] !== el) {\n\t\t\t\t\t\t\tconf.args.unshift(0, el);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t(function(el, evt, fn, f, conf) {\n\t\t\t\t\t\t\tvar cb = function(e) {\n\t\t\t\t\t\t\t\tvar cont = true;\n\n\t\t\t\t\t\t\t\t// Patch core event functionality\n\t\t\t\t\t\t\t\tif (W._legacy || e === false) {\n\t\t\t\t\t\t\t\t\te = W._win.event || {};\n\t\t\t\t\t\t\t\t\te.target = e.srcElement;\n\n\t\t\t\t\t\t\t\t\te.preventDefault = function() {\n\t\t\t\t\t\t\t\t\t\te.returnValue = false;\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\te.stopPropagation = function() {\n\t\t\t\t\t\t\t\t\t\te.cancelBubble = true;\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tconf.args[0] = e;\n\n\t\t\t\t\t\t\t\t// If watch within ancestor make sure the target\n\t\t\t\t\t\t\t\t// matches the selector\n\t\t\t\t\t\t\t\tif (conf.targ) {\n\t\t\t\t\t\t\t\t\tvar targ = conf.targ,\n\t\t\t\t\t\t\t\t\t\tsel = targ._$ ? targ.sel : targ;\n\n\t\t\t\t\t\t\t\t\t// Update refs when targeting ref\n\t\t\t\t\t\t\t\t\tif (typeof sel == 'string' &&\n\t\t\t\t\t\t\t\t\t\tsel.indexOf('ref:') > -1) {\n\t\t\t\t\t\t\t\t\t\tW.$setRef(el);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tcont = W.$toArray(W.$(sel)).some(function(el) {\n\t\t\t\t\t\t\t\t\t\treturn el.contains(e.target);\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t// Ensure element argument is the target\n\t\t\t\t\t\t\t\t\tconf.args[1] = conf.scope = e.target;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (cont) {\n\t\t\t\t\t\t\t\t\tW.$exec(fn, conf);\n\n\t\t\t\t\t\t\t\t\t// Unbind after first execution\n\t\t\t\t\t\t\t\t\tif (conf.once) {\n\t\t\t\t\t\t\t\t\t\tscope.$public.off(el, evt, f);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// Ensure the specified element, event, and function\n\t\t\t\t\t\t\t// combination hasn't already been bound\n\t\t\t\t\t\t\tif (evt != 'init' && ! scope.$public.bound(el, ev, f).length) {\n\t\t\t\t\t\t\t\t// Determine if the event is native or custom\n\t\t\t\t\t\t\t\tif ('on' + evt in el) {\n\t\t\t\t\t\t\t\t\tW._legacy ?\n\t\t\t\t\t\t\t\t\t\tel.attachEvent('on' + evt, cb) :\n\t\t\t\t\t\t\t\t\t\tel.addEventListener(evt, cb, false);\n\t\t\t\t\t\t\t\t} else if (custom[evt]) {\n\t\t\t\t\t\t\t\t\tcustom[evt][0](el, fn, conf);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tbound.push({\n\t\t\t\t\t\t\t\t\tel: el,\n\t\t\t\t\t\t\t\t\tev: ev,\n\t\t\t\t\t\t\t\t\tevt: evt,\n\t\t\t\t\t\t\t\t\tcb: cb,\n\t\t\t\t\t\t\t\t\tfn: f\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (evt == 'init' || conf.init === true) {\n\t\t\t\t\t\t\t\tcb();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})(el, evt, fn, f, conf);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Detach event(s) from element\n\t\t *\n\t\t * @param {(HTMLElement|string)} [sel]\n\t\t * @param {string} [evt]\n\t\t * @param {function} [fn]\n\t\t */\n\t\toff: function(sel, evt, fn) {\n\t\t\tW.$each(this.$public.bound(sel, evt, fn), function(e) {\n\t\t\t\tif ('on' + e.evt in W._doc) {\n\t\t\t\t\tW._legacy ?\n\t\t\t\t\t\te.el.detachEvent('on' + e.evt, e.cb) :\n\t\t\t\t\t\te.el.removeEventListener(e.evt, e.cb);\n\t\t\t\t} else if (custom[e.evt]) {\n\t\t\t\t\tcustom[e.evt][1](e.el, e.cb);\n\t\t\t\t}\n\n\t\t\t\tbound.splice(bound.indexOf(e), 1);\n\t\t\t});\n\t\t}\n\t});\n})(Wee);","(function(W, H, U) {\n\t'use strict';\n\n\t/**\n\t * Setup initial variables\n\t */\n\tvar support = H && H.pushState,\n\t\tentries = [],\n\t\tsettings = {},\n\t\troot = '',\n\t\tpath = '',\n\n\t\t/**\n\t\t * Determine if path is valid for history navigation\n\t\t *\n\t\t * @param {HTMLElement} el\n\t\t */\n\t\t_isValid = function(el) {\n\t\t\tvar exts = settings.extensions,\n\t\t\t\thost = el.hostname,\n\t\t\t\tsegs = el.href.split('.'),\n\t\t\t\text;\n\n\t\t\tif (segs.length > 1) {\n\t\t\t\text = segs.pop().split(/#|\\?/)[0];\n\t\t\t}\n\n\t\t\treturn (! host || host == location.hostname) &&\n\t\t\t\t(! ext || (ext && (! exts || exts.indexOf(ext) > -1)));\n\t\t},\n\n\t\t/**\n\t\t * Reset references and variables for a given selector\n\t\t *\n\t\t * @param sel\n\t\t */\n\t\t_reset = function(sel) {\n\t\t\tW.$setRef(sel);\n\t\t\tW.$setVar(sel);\n\n\t\t\tW.history.bind();\n\t\t};\n\n\tW.fn.make('history', {\n\t\t/**\n\t\t * Set the initial state and popstate event, and bind global actions\n\t\t *\n\t\t * @param {object} [options]\n\t\t * @param {boolean] [options.push=true]\n\t\t * @param {string] [options.partials='title,main']\n\t\t * @param {string] [options.fallback='nav']\n\t\t * @param {boolean} [options.run=true]\n\t\t * @param {($|HTMLElement|string)} [options.bind]\n\t\t * @param {object} [options.request]\n\t\t * @param {array} [options.extensions]\n\t\t */\n\t\tinit: function(options) {\n\t\t\tif (! this.request) {\n\t\t\t\tvar loc = location;\n\t\t\t\tpath = loc.pathname + loc.search + loc.hash;\n\t\t\t\tsettings = W.$extend({\n\t\t\t\t\tfallback: 'nav',\n\t\t\t\t\tpartials: 'title,main',\n\t\t\t\t\tpush: true,\n\t\t\t\t\trequest: {},\n\t\t\t\t\trun: true\n\t\t\t\t}, options);\n\t\t\t\troot = settings.request.root || '';\n\n\t\t\t\tthis.request = settings.request;\n\t\t\t\tdelete settings.request;\n\n\t\t\t\tif (support) {\n\t\t\t\t\t// Set current state\n\t\t\t\t\tH.replaceState(0, 0, path);\n\n\t\t\t\t\t// Listen for browser navigation\n\t\t\t\t\tW.events.on(W._win, 'popstate', function() {\n\t\t\t\t\t\tvar path = loc.pathname + loc.search + loc.hash,\n\t\t\t\t\t\t\tconf = entries[path.replace(/^\\//g, '')];\n\n\t\t\t\t\t\tthis.go(W.$extend(\n\t\t\t\t\t\t\tconf || {\n\t\t\t\t\t\t\t\trequest: {\n\t\t\t\t\t\t\t\t\troot: ''\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tpath: path,\n\t\t\t\t\t\t\t\tpush: false,\n\t\t\t\t\t\t\t\tpop: true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t));\n\t\t\t\t\t}, {\n\t\t\t\t\t\tscope: this\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// Bind PJAX actions\n\t\t\t\tthis.bind();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Bind element events and form submit events to PJAX\n\t\t *\n\t\t * @param {object} events\n\t\t * @param {($|HTMLElement|Object|string)} [a] - settings or context\n\t\t * @param {($|HTMLElement|string)} [context=document]\n\t\t */\n\t\tbind: function(events, a, context) {\n\t\t\tevents = events || settings.bind;\n\n\t\t\tif (typeof a !== 'object') {\n\t\t\t\tcontext = a;\n\t\t\t\ta = {};\n\t\t\t}\n\n\t\t\tif (typeof events == 'object') {\n\t\t\t\tvar keys = Object.keys(events),\n\t\t\t\t\tnamespace = '.history',\n\t\t\t\t\ti = 0;\n\n\t\t\t\tfor (; i < keys.length; i++) {\n\t\t\t\t\tvar event = keys[i],\n\t\t\t\t\t\tsel = events[event];\n\n\t\t\t\t\t$(sel).each(function(el) {\n\t\t\t\t\t\tvar evt = event.split(' ').map(function(val) {\n\t\t\t\t\t\t\t\treturn val + namespace;\n\t\t\t\t\t\t\t}).join(' '),\n\t\t\t\t\t\t\tloc = el.getAttribute('data-url'),\n\t\t\t\t\t\t\tl = el;\n\n\t\t\t\t\t\tif (loc || a.action) {\n\t\t\t\t\t\t\tl = W._doc.createElement('a');\n\t\t\t\t\t\t\tl.href = loc || el.action;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Ensure the path exists and is local\n\t\t\t\t\t\tif (evt && _isValid(l)) {\n\t\t\t\t\t\t\tvar options = W.$extend(true, {}, a);\n\t\t\t\t\t\t\toptions.path = l.pathname + l.search + l.hash;\n\n\t\t\t\t\t\t\tW.events.on(el, evt, function(e) {\n\t\t\t\t\t\t\t\tif (! e.metaKey) {\n\t\t\t\t\t\t\t\t\tW.history.go(options);\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}, {\n\t\t\t\t\t\tcontext: context\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Navigate to a new path or within the browser history\n\t\t *\n\t\t * @param {object} options\n\t\t * @param {string} [options.path=current path]\n\t\t * @param {boolean} [options.push=true]\n\t\t * @param {boolean} [options.run=true]\n\t\t * @param {string} [options.title='']\n\t\t * @param {object} [options.request]\n\t\t * @param {($|HTMLElement|string)} [options.scrollTop]\n\t\t */\n\t\tgo: function(options) {\n\t\t\tvar scope = this;\n\n\t\t\tif (! scope.request) {\n\t\t\t\tscope.init();\n\t\t\t}\n\n\t\t\tvar globalRequest = scope.request,\n\t\t\t\tconf = W.$extend(\n\t\t\t\t\t{},\n\t\t\t\t\tsettings,\n\t\t\t\t\toptions\n\t\t\t\t),\n\t\t\t\trequest = conf.request || {};\n\n\t\t\trequest.root = request.root !== U ?\n\t\t\t\trequest.root :\n\t\t\t\troot;\n\n\t\t\trequest.url = request.url !== U ?\n\t\t\t\trequest.url :\n\t\t\t\tconf.path;\n\n\t\t\t// Navigate to external URL or in fallback nav mode\n\t\t\tvar a = W._doc.createElement('a');\n\t\t\ta.href = request.root + request.url;\n\n\t\t\tif (! _isValid(a) ||\n\t\t\t\t(! support && conf.fallback == 'nav')) {\n\t\t\t\tW._win.location = request.root + W.data.$private.getUrl(request);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconf.request = request;\n\n\t\t\t// Request partial Ajax\n\t\t\tif (request.url) {\n\t\t\t\tvar sendEvents = [],\n\t\t\t\t\tsuccessEvents = [],\n\t\t\t\t\terrorEvents = [],\n\t\t\t\t\tcompleteEvents = [],\n\t\t\t\t\tpartials = conf.partials,\n\t\t\t\t\ttargets = W.$(partials);\n\n\t\t\t\t// Set Pjax header\n\t\t\t\trequest.headers = request.headers || {};\n\t\t\t\trequest.headers['X-PJAX'] = 'true';\n\n\t\t\t\t// Process send events\n\t\t\t\tif (request.send) {\n\t\t\t\t\tsendEvents.push(request.send);\n\t\t\t\t}\n\n\t\t\t\tif (globalRequest.send) {\n\t\t\t\t\tsendEvents.push(globalRequest.send);\n\t\t\t\t}\n\n\t\t\t\trequest.send = sendEvents;\n\n\t\t\t\t// Compile success events\n\t\t\t\tsuccessEvents.push(function(html) {\n\t\t\t\t\t// Evaluate unload routes against updated path\n\t\t\t\t\tif (W.routes && conf.run) {\n\t\t\t\t\t\tW.routes.run({\n\t\t\t\t\t\t\tevent: 'unload',\n\t\t\t\t\t\t\tpath: path\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (partials) {\n\t\t\t\t\t\thtml = W.$parseHTML('<i>' + html + '</i>');\n\n\t\t\t\t\t\t// Make partial replacements from response\n\t\t\t\t\t\tW.$each(partials.split(','), function(sel) {\n\t\t\t\t\t\t\tW.$each(sel, function(el) {\n\t\t\t\t\t\t\t\tvar target = W.$(sel)[0],\n\t\t\t\t\t\t\t\t\tparent = target.parentNode;\n\n\t\t\t\t\t\t\t\tif (target) {\n\t\t\t\t\t\t\t\t\tconf.action == 'append' ?\n\t\t\t\t\t\t\t\t\t\tparent.appendChild(el) :\n\t\t\t\t\t\t\t\t\t\tparent.replaceChild(el, target);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t_reset(parent);\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tcontext: html\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttargets.innerHTML = html;\n\n\t\t\t\t\t\t_reset(targets);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (request.success) {\n\t\t\t\t\tsuccessEvents.push(request.success);\n\t\t\t\t}\n\n\t\t\t\tif (globalRequest.success) {\n\t\t\t\t\tsuccessEvents.push(globalRequest.success);\n\t\t\t\t}\n\n\t\t\t\tsuccessEvents.push(function() {\n\t\t\t\t\t// Scroll vertically to target\n\t\t\t\t\tif (conf.scrollTop !== false && conf.scrollTop !== U) {\n\t\t\t\t\t\tvar top = typeof conf.scrollTop == 'number' ?\n\t\t\t\t\t\t\t\tconf.scrollTop :\n\t\t\t\t\t\t\t\tW.$(conf.scrollTop)[0].getBoundingClientRect().top +\n\t\t\t\t\t\t\t\t\tW._win.pageYOffset,\n\t\t\t\t\t\t\tanim = W.animate;\n\n\t\t\t\t\t\tif (anim) {\n\t\t\t\t\t\t\tanim.tween(W._body, {\n\t\t\t\t\t\t\t\tscrollTop: top\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tW._body.scrollTop = top;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\trequest.success = successEvents;\n\n\t\t\t\t// Compile error events\n\t\t\t\tif (request.error) {\n\t\t\t\t\terrorEvents.push(request.error);\n\t\t\t\t}\n\n\t\t\t\tif (globalRequest.error) {\n\t\t\t\t\terrorEvents.push(globalRequest.error);\n\t\t\t\t}\n\n\t\t\t\trequest.error = errorEvents;\n\n\t\t\t\t// Compile complete events\n\t\t\t\tif (request.complete) {\n\t\t\t\t\tcompleteEvents.push(request.complete);\n\t\t\t\t}\n\n\t\t\t\tif (globalRequest.complete) {\n\t\t\t\t\tcompleteEvents.push(globalRequest.complete);\n\t\t\t\t}\n\n\t\t\t\tcompleteEvents.push(function(xhr) {\n\t\t\t\t\tif (xhr.status == 200) {\n\t\t\t\t\t\tscope.$private.process(conf);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\trequest.complete = completeEvents;\n\n\t\t\t\t// Make Ajax request\n\t\t\t\trequest.args = request.args || [];\n\t\t\t\trequest.args.unshift(targets);\n\n\t\t\t\tW.data.request(request);\n\t\t\t} else {\n\t\t\t\tscope.$private.process(conf);\n\t\t\t}\n\t\t}\n\t}, {\n\t\t/**\n\t\t * Process the history state of the request\n\t\t *\n\t\t * @param {object} conf\n\t\t */\n\t\tprocess: function(conf) {\n\t\t\tvar key = conf.path.replace(/^\\//g, ''),\n\t\t\t\trequest = conf.request,\n\t\t\t\tmethod = request.method;\n\n\t\t\tentries[key] = conf;\n\n\t\t\tif (! method || method == 'get') {\n\t\t\t\tconf.path = W.data.$private.getUrl(request);\n\t\t\t}\n\n\t\t\tvar obj = {\n\t\t\t\targs: [\n\t\t\t\t\t{\n\t\t\t\t\t\tdir: conf.push ? 1 : -1,\n\t\t\t\t\t\tpath: conf.path,\n\t\t\t\t\t\tprev: path\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t};\n\n\t\t\t// Add entry to HTML5 history\n\t\t\tif (conf.push && support) {\n\t\t\t\tH.pushState(0, 0, conf.path);\n\t\t\t}\n\n\t\t\t// Update document title\n\t\t\tif (conf.title) {\n\t\t\t\tW._doc.title = conf.title;\n\t\t\t}\n\n\t\t\tif (W.routes) {\n\t\t\t\t// Update current path\n\t\t\t\tW.routes.uri(conf.path);\n\t\t\t\tW.routes.uri({\n\t\t\t\t\thistory: true\n\t\t\t\t});\n\n\t\t\t\t// Evaluate routes against updated path\n\t\t\t\tif (conf.run) {\n\t\t\t\t\tW.routes.run({\n\t\t\t\t\t\tevent: 'pop',\n\t\t\t\t\t\tpath: path\n\t\t\t\t\t});\n\n\t\t\t\t\tW.routes.run({\n\t\t\t\t\t\tpath: conf.path\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tpath = conf.path;\n\t\t\t}\n\n\t\t\tif (conf.push && conf.pushstate) {\n\t\t\t\tW.$exec(conf.pushstate, obj);\n\t\t\t}\n\n\t\t\tif (conf.pop && conf.popstate) {\n\t\t\t\tW.$exec(conf.popstate, obj);\n\t\t\t}\n\n\t\t\tif (conf.callback) {\n\t\t\t\tW.$exec(conf.callback, obj);\n\t\t\t}\n\t\t}\n\t});\n})(Wee, history, undefined);","/* jshint maxdepth: 6 */\n\n(function(W, U) {\n\t'use strict';\n\n\t/**\n\t * Setup initial variables\n\t */\n\tvar filters = {\n\t\t\tany: function(seg, child) {\n\t\t\t\tif (W.$isObject(child)) {\n\t\t\t\t\treturn true;\n\t\t\t\t} else {\n\t\t\t\t\tany.push([child, seg]);\n\t\t\t\t}\n\t\t\t},\n\t\t\troot: function(seg, child, depth) {\n\t\t\t\tif (! seg) {\n\t\t\t\t\tW.$exec(child, {\n\t\t\t\t\t\targs: W.routes.segments(depth - 2)\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\tnum: function(seg) {\n\t\t\t\treturn Number(parseInt(seg)) == seg;\n\t\t\t}\n\t\t},\n\t\tany = [],\n\t\troutes,\n\t\tsegs,\n\t\turi;\n\n\tW.fn.make('routes', {\n\t\t/**\n\t\t * Get currently bound URI values or set with string or value object\n\t\t *\n\t\t * @param {(object|string)} [value]\n\t\t * @param {string} [value.full]\n\t\t * @param {string} [value.hash]\n\t\t * @param {boolean} [value.history]\n\t\t * @param {string} [value.path]\n\t\t * @param {object} [value.query]\n\t\t * @param {array} [value.segments]\n\t\t * @param {string} [value.url]\n\t\t * @returns {object} data\n\t\t */\n\t\turi: function(value) {\n\t\t\tif (value) {\n\t\t\t\tif (W.$isObject(value)) {\n\t\t\t\t\turi = W.$extend(this.uri(), value);\n\t\t\t\t\treturn uri;\n\t\t\t\t}\n\n\t\t\t\tvar a = W._doc.createElement('a');\n\t\t\t\ta.href = value;\n\n\t\t\t\tvar search = a.search,\n\t\t\t\t\tquery = search ? W.$unserialize(search) : {},\n\t\t\t\t\tpath = a.pathname.replace(/^\\/|\\/$/g, '');\n\n\t\t\t\turi = {\n\t\t\t\t\tfull: '/' + path + search + a.hash,\n\t\t\t\t\thash: a.hash.slice(1),\n\t\t\t\t\thistory: false,\n\t\t\t\t\tpath: '/' + path,\n\t\t\t\t\tquery: query,\n\t\t\t\t\tsegments: path.split('/'),\n\t\t\t\t\turl: a.href\n\t\t\t\t};\n\t\t\t} else if (! uri) {\n\t\t\t\turi = W.routes.uri(location.href);\n\t\t\t}\n\n\t\t\treturn uri;\n\t\t},\n\n\t\t/**\n\t\t * Get all segments or single segment at index integer\n\t\t *\n\t\t * @param {int} [index]\n\t\t * @returns {(Array|string)} segments\n\t\t */\n\t\tsegments: function(index) {\n\t\t\tvar segs = this.uri().segments;\n\n\t\t\treturn index !== U ? (segs[index] || '') : segs;\n\t\t},\n\n\t\t/**\n\t\t * Retrieve or add route endpoints to route storage\n\t\t *\n\t\t * @param {object} obj - routes\n\t\t * @param {bool} [init=false] - evaluate the map immediately\n\t\t * @returns {object} routes\n\t\t */\n\t\tmap: function(obj, init) {\n\t\t\tvar curr = routes || {};\n\n\t\t\tif (obj) {\n\t\t\t\troutes = W.$extend(curr, obj);\n\n\t\t\t\tif (init) {\n\t\t\t\t\tthis.run({\n\t\t\t\t\t\troutes: routes\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn curr;\n\t\t},\n\n\t\t/**\n\t\t * Add conditional route handler\n\t\t *\n\t\t * @param {string} name\n\t\t * @param {function} fn\n\t\t */\n\t\taddFilter: function(name, fn) {\n\t\t\tW._extend(filters, name, fn);\n\t\t},\n\n\t\t/**\n\t\t * Process stored routes\n\t\t *\n\t\t * @param {object} [conf]\n\t\t * @param {object} [conf.rules]\n\t\t * @param {string} [conf.path]\n\t\t * @param {string} [cong.event='load']\n\t\t */\n\t\trun: function(conf) {\n\t\t\tconf = conf || {};\n\t\t\tvar rules = conf.routes || routes;\n\n\t\t\tif (rules) {\n\t\t\t\tsegs = conf.path ?\n\t\t\t\t\tconf.path.replace(/^\\/|\\/$/g, '').split('/') :\n\t\t\t\t\tthis.segments();\n\n\t\t\t\tthis.$private.process(rules, 0, segs.length, conf.event || 'load');\n\n\t\t\t\t// Execute queued init functions on last iteration\n\t\t\t\tif (any.length) {\n\t\t\t\t\tfor (var i = 0; i < any.length; i++) {\n\t\t\t\t\t\tvar rule = any[i];\n\n\t\t\t\t\t\tW.$exec(rule[0], {\n\t\t\t\t\t\t\targs: rule[1]\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\t// Clear array for next iteration\n\t\t\t\t\tany = [];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, {\n\t\t/**\n\t\t * Recursively process routes\n\t\t *\n\t\t * @private\n\t\t * @param {string} route - route to evaluate\n\t\t * @param {int} i - current index in iteration\n\t\t * @param {int} total - total number of routes\n\t\t * @param {string} [event='load'] - lifecycle event\n\t\t */\n\t\tprocess: function(route, i, total, event) {\n\t\t\tvar seg = segs[i],\n\t\t\t\tkeys = Object.keys(route),\n\t\t\t\tx = 0;\n\t\t\ti++;\n\n\t\t\t// Match against patterns\n\t\t\tfor (; x < keys.length; x++) {\n\t\t\t\tvar key = keys[x],\n\t\t\t\t\tchild = route[key],\n\t\t\t\t\topts = key.split('||'),\n\t\t\t\t\tk = 0,\n\t\t\t\t\tfiltered = false,\n\t\t\t\t\tmatch = false;\n\n\t\t\t\tfor (; k < opts.length; k++) {\n\t\t\t\t\tvar opt = opts[k],\n\t\t\t\t\t\tparts = opt.split(':'),\n\t\t\t\t\t\thistory = event != 'load';\n\n\t\t\t\t\tif ((! history && (parts.indexOf('unload') > -1 || parts.indexOf('pop') > -1)) ||\n\t\t\t\t\t\t(history && (! W.$isObject(child) && parts.indexOf(event) < 0))) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (parts.length > 1) {\n\t\t\t\t\t\topt = parts[0];\n\t\t\t\t\t}\n\n\t\t\t\t\tif (opt == seg) {\n\t\t\t\t\t\tmatch = true;\n\t\t\t\t\t} else if (opt[0] == '$') {\n\t\t\t\t\t\topt = opt.slice(1);\n\n\t\t\t\t\t\tif (parts.indexOf('eval') > -1) {\n\t\t\t\t\t\t\ti--;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If the second character is / then test regex\n\t\t\t\t\t\tif (opt[0] == '/') {\n\t\t\t\t\t\t\tvar split = opt.split('/');\n\n\t\t\t\t\t\t\tif (new RegExp(split[1], split[2]).test(seg)) {\n\t\t\t\t\t\t\t\tmatch = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (opt == 'any' && parts.indexOf('fire') > -1) {\n\t\t\t\t\t\t\tW.$exec(child, {\n\t\t\t\t\t\t\t\targs: seg\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar filter = filters[opt];\n\n\t\t\t\t\t\t\tif (filter) {\n\t\t\t\t\t\t\t\tmatch = filter(seg, child, i);\n\n\t\t\t\t\t\t\t\tif (match) {\n\t\t\t\t\t\t\t\t\tfiltered = true;\n\t\t\t\t\t\t\t\t\tany.push([child, seg]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (seg && seg.trim() !== '') {\n\t\t\t\t\t\t\t\tmatch = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (parts.indexOf('once') > -1) {\n\t\t\t\t\t\tdelete route[key];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If matched process recursively or execute if complete\n\t\t\t\tif (match) {\n\t\t\t\t\tif (W.$isObject(child)) {\n\t\t\t\t\t\tthis.process(child, i, total, event);\n\t\t\t\t\t} else if (! filtered && i === total) {\n\t\t\t\t\t\tW.$exec(child, {\n\t\t\t\t\t\t\targs: seg\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n})(Wee, undefined);","(function(W) {\n\t'use strict';\n\n\t/**\n\t * Setup initial variables\n\t */\n\tvar bound = false,\n\t\tevents = [],\n\t\tcurrent;\n\n\tW.fn.make('screen', {\n\t\t/**\n\t\t * Get current breakpoint value\n\t\t *\n\t\t * @returns {int} breakpoint value\n\t\t */\n\t\tsize: function() {\n\t\t\tvar style = W._html.currentStyle,\n\t\t\t\tsize = W._legacy ?\n\t\t\t\t\t(style ?\n\t\t\t\t\t\tstyle.fontFamily :\n\t\t\t\t\t\tnull\n\t\t\t\t\t) :\n\t\t\t\t\tW._win.getComputedStyle(W._html, null)\n\t\t\t\t\t\t.getPropertyValue('font-family');\n\n\t\t\treturn parseFloat(\n\t\t\t\tsize.replace(/[^0-9\\.]+/g, ''),\n\t\t\t\t10\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Map conditional events to breakpoint values\n\t\t *\n\t\t * @param {(Array|object)} rules - breakpoint rules\n\t\t * @param {int} [rules.size] - specific breakpoint value\n\t\t * @param {int} [rules.min] - minimum breakpoint value\n\t\t * @param {int} [rules.max] - maximum breakpoint value\n\t\t * @param {boolean} [rules.watch=true] - check event on screen resize\n\t\t * @param {boolean} [rules.init=true] - check event on load\n\t\t * @param {object} [rules.scope] - callback scope\n\t\t * @param {Array} [rules.args] - callback arguments\n\t\t * @param {function} rules.callback\n\t\t */\n\t\tmap: function(rules) {\n\t\t\tvar priv = this.$private,\n\t\t\t\tsets = W.$toArray(rules),\n\t\t\t\ti = 0;\n\n\t\t\t// Delay check 100ms to prevent incorrect breakpoint value in IE\n\t\t\tsetTimeout(function() {\n\t\t\t\tfor (; i < sets.length; i++) {\n\t\t\t\t\tpriv.addRule(sets[i]);\n\t\t\t\t}\n\t\t\t}, W._legacy ? 100 : 0);\n\t\t},\n\n\t\t/**\n\t\t * Evaluate the current breakpoint\n\t\t */\n\t\tcheck: function() {\n\t\t\tthis.$private.check(2);\n\t\t},\n\n\t\t/**\n\t\t * Reset all bound events\n\t\t */\n\t\treset: function() {\n\t\t\tevents = [];\n\t\t}\n\t}, {\n\t\t/**\n\t\t * Add individual rule to mapped events\n\t\t *\n\t\t * @private\n\t\t * @param {object} conf - breakpoint rules\n\t\t * @param {int} [conf.size] - specific breakpoint value\n\t\t * @param {int} [conf.min] - minimum breakpoint value\n\t\t * @param {int} [conf.max] - maximum breakpoint value\n\t\t * @param {boolean} [conf.watch=true] - check event on screen resize\n\t\t * @param {boolean} [conf.init=true] - check event on load\n\t\t * @param {object} [conf.scope] - callback scope\n\t\t * @param {Array} [conf.args] - callback arguments\n\t\t * @param {function} conf.callback\n\t\t */\n\t\taddRule: function(conf) {\n\t\t\tif (conf.callback) {\n\t\t\t\tvar scope = this,\n\t\t\t\t\tcheck = scope.check.bind(scope);\n\n\t\t\t\t// Only setup watching when enabled\n\t\t\t\tif (conf.watch !== false) {\n\t\t\t\t\tevents.push(conf);\n\n\t\t\t\t\t// Only attach event once\n\t\t\t\t\tif (! bound) {\n\t\t\t\t\t\tbound = 1;\n\t\t\t\t\t\tevents = [conf];\n\n\t\t\t\t\t\t// Attach resize event\n\t\t\t\t\t\tW._legacy ?\n\t\t\t\t\t\t\tW._win.attachEvent('onresize', check) :\n\t\t\t\t\t\t\tW._win.addEventListener('resize', check);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Check current screen if not disabled\n\t\t\t\tif (conf.init !== false) {\n\t\t\t\t\tcheck(1, [conf]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Check mapped events for matching conditions\n\t\t *\n\t\t * @private\n\t\t * @param {number} [init] - initial page load\n\t\t * @param {Array} [rules] - breakpoint rules\n\t\t */\n\t\tcheck: function(init, rules) {\n\t\t\tvar scope = W.screen,\n\t\t\t\tpriv = scope.$private,\n\t\t\t\tsize = scope.size();\n\n\t\t\t// If breakpoint has been hit or resize logic initialized\n\t\t\tif (size && (size !== current || ! isNaN(init))) {\n\t\t\t\tvar evts = rules || events,\n\t\t\t\t\ti = 0;\n\n\t\t\t\tfor (; i < evts.length; i++) {\n\t\t\t\t\tvar evt = evts[i],\n\t\t\t\t\t\tsz = evt.size,\n\t\t\t\t\t\tmn = evt.min,\n\t\t\t\t\t\tmx = evt.max;\n\n\t\t\t\t\t// Check match against rules\n\t\t\t\t\tif ((! sz && ! mn && ! mx) ||\n\t\t\t\t\t\t(sz && sz === size) ||\n\t\t\t\t\t\t(mn && size >= mn && (init || current < mn) && (! mx || size <= mx)) ||\n\t\t\t\t\t\t(mx && size <= mx && (init || current > mx) && (! mn || size >= mn))) {\n\t\t\t\t\t\tpriv.execute(evt, {\n\t\t\t\t\t\t\tdir: init == 1 ? 0 : (size > current ? 1 : -1),\n\t\t\t\t\t\t\tinit: init == 1,\n\t\t\t\t\t\t\tprev: current,\n\t\t\t\t\t\t\tsize: size\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Update current breakpoint value\n\t\t\t\tcurrent = size;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Execute a matching breakpoint callback\n\t\t *\n\t\t * @private\n\t\t * @param {object} evt\n\t\t * @param {object} data\n\t\t */\n\t\texecute: function(evt, data) {\n\t\t\tvar args = evt.args ? [data].concat(evt.args) : [data];\n\n\t\t\tW.$exec(evt.callback, {\n\t\t\t\targs: args,\n\t\t\t\tscope: evt.scope\n\t\t\t});\n\n\t\t\t// Disable future execution if set for once\n\t\t\tif (evt.once) {\n\t\t\t\tevents = events.filter(function(el) {\n\t\t\t\t\treturn el !== evt;\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n})(Wee);","(function(W, E) {\n\t'use strict';\n\n\tvar events = [\n\t\t\t['swipeLeft', 'X', 1],\n\t\t\t['swipeRight', 'X', -1],\n\t\t\t['swipeUp', 'Y', 1],\n\t\t\t['swipeDown', 'Y', -1]\n\t\t],\n\t\tdown = 'mousedown',\n\t\tup = 'mouseup';\n\n\t/**\n\t * Loop through custom events and bind applicable standard events\n\t */\n\tevents.forEach(function(event) {\n\t\tE.addEvent(event[0], function(el, fn, conf) {\n\t\t\tvar scope = this,\n\t\t\t\tdistance = conf.distance || 50;\n\n\t\t\tE.on(el, down + '.' + event[0], function(e) {\n\t\t\t\tscope.start = e['client' + event[1]];\n\t\t\t}, conf);\n\n\t\t\tE.on(el, up + '.' + event[0], function(e, el) {\n\t\t\t\tvar travel = (scope.start - e['client' + event[1]]) * event[2];\n\n\t\t\t\tif (travel > distance) {\n\t\t\t\t\tfn.apply(conf.scope || el, W._slice.call(arguments));\n\t\t\t\t}\n\t\t\t}, conf);\n\t\t}, function(el, fn) {\n\t\t\tE.off(el, down + '.' + event[0] + ' ' + up + '.' + event[0], fn);\n\t\t});\n\t});\n})(Wee, Wee.events);","/* jshint maxdepth: 5, maxparams: 6 */\n\n(function(W, U) {\n\t'use strict';\n\n\tvar reg = {\n\t\t\ttags: /{{\\s*(?:([#\\/])([^#{\\|\\n\\s]+)\\s*(\\|[^{\\n]+)?|else)\\s*}}/g,\n\t\t\tpartial: /{{\\s*> (.+?)}}/g,\n\t\t\tpair: /{{#(.+?)(?:|\\|?([^}]*))}}([\\s\\S]*?){{\\/\\1}}/g,\n\t\t\tsingle: /{{(.+?)}}/g,\n\t\t\text: /(.[^\\(]+)(?:\\((.*)\\))?/,\n\t\t\tstr: /^\\\\?(\"|')/,\n\t\t\targs: /(\\\\?['\"][^'\"]+\\\\?['\"]|[^,]+)/g\n\t\t},\n\t\t_isEmpty = function(val) {\n\t\t\treturn val === '' ||\n\t\t\t\tval === false ||\n\t\t\t\tval == null ||\n\t\t\t\t(typeof val == 'object' && ! Object.keys(val).length);\n\t\t},\n\t\thelpers = {\n\t\t\tis: function(val) {\n\t\t\t\treturn this.val === val;\n\t\t\t},\n\t\t\tnot: function(val) {\n\t\t\t\treturn this.val !== val;\n\t\t\t},\n\t\t\tisEmpty: function() {\n\t\t\t\treturn this.empty;\n\t\t\t},\n\t\t\tnotEmpty: function() {\n\t\t\t\treturn ! this.empty;\n\t\t\t}\n\t\t},\n\t\tpartials = {},\n\t\tesc;\n\n\tW.app = {\n\t\t/**\n\t\t * Create an application\n\t\t *\n\t\t * @param {string} name\n\t\t * @param {object} [options] - application configuration\n\t\t */\n\t\tmake: function(name, options) {\n\t\t\tvar views = W.$(options.view).map(function(el) {\n\t\t\t\t\treturn [el, el.outerHTML];\n\t\t\t\t}),\n\t\t\t\tfn = function(data) {\n\t\t\t\t\tviews.forEach(function(view) {\n\t\t\t\t\t\tW.view.diff(view[0], W.view.render(view[1], data));\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\tW.app[name] = W._make(name, {}, false, options.model);\n\t\t\tW[name] = new W.app[name]();\n\n\t\t\tfn(options.model);\n\n\t\t\tW[name].$observe('*', fn);\n\t\t}\n\t};\n\n\tW.fn.make('view', {\n\t\t/**\n\t\t * Parse data into template string\n\t\t *\n\t\t * @param {string} template\n\t\t * @param {object} data\n\t\t * @returns {string}\n\t\t */\n\t\trender: function(template, data) {\n\t\t\treturn this.$private.render(template, W.$extend(data));\n\t\t},\n\n\t\t/**\n\t\t * Add conditional template handler or tag data modifier\n\t\t *\n\t\t * @param {string} name\n\t\t * @param {function} fn\n\t\t */\n\t\taddHelper: function(name, fn) {\n\t\t\tW._extend(helpers, name, fn);\n\t\t},\n\n\t\t/**\n\t\t * Make partial available for injection into other templates\n\t\t *\n\t\t * @param {string} name\n\t\t * @param {string} value\n\t\t */\n\t\taddPartial: function(name, value) {\n\t\t\tW._extend(partials, name, value);\n\t\t}\n\t}, {\n\t\t/**\n\t\t * Render template string\n\t\t *\n\t\t * @param {string} temp\n\t\t * @param {object} data\n\t\t * @returns {string}\n\t\t */\n\t\trender: function(temp, data) {\n\t\t\tvar tags = [],\n\t\t\t\tdepth = [];\n\n\t\t\t// Make partial replacements and match tag pairs\n\t\t\ttemp = temp.replace(reg.partial, function(match, tag) {\n\t\t\t\tvar partial = partials[tag.trim()];\n\n\t\t\t\treturn partial ? (\n\t\t\t\t\tW.$isFunction(partial) ?\n\t\t\t\t\t\tpartial() :\n\t\t\t\t\t\tpartial\n\t\t\t\t) : '';\n\t\t\t}).replace(reg.tags, function(m, pre, tag, helper) {\n\t\t\t\tvar resp = '{{';\n\n\t\t\t\tif (pre) {\n\t\t\t\t\tvar segs = tag.split('('),\n\t\t\t\t\t\troot = segs[0],\n\t\t\t\t\t\texists = tags.hasOwnProperty(tag);\n\t\t\t\t\tresp += pre + root + '%';\n\n\t\t\t\t\tif (pre == '#') {\n\t\t\t\t\t\tdepth.push(root);\n\n\t\t\t\t\t\tif (exists) {\n\t\t\t\t\t\t\ttags[root].i++;\n\t\t\t\t\t\t\ttags[root].o.push(tags[root].i);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttags[root] = {\n\t\t\t\t\t\t\t\ti: 1,\n\t\t\t\t\t\t\t\to: [1]\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (segs.length > 1) {\n\t\t\t\t\t\t\thelper = '(' + segs.slice(1).join('(');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tresp += tags[root].i + (helper || '');\n\t\t\t\t\t} else if (exists) {\n\t\t\t\t\t\tresp += tags[root].o.pop();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ttag = depth.pop();\n\t\t\t\t\tresp += ':' + tag + '%' + tags[tag].i;\n\t\t\t\t}\n\n\t\t\t\treturn resp + '}}';\n\t\t\t});\n\n\t\t\t// Parse template tags\n\t\t\ttemp = this.parse(temp, data, {}, data, 0);\n\n\t\t\t// Reconstitute replacements\n\t\t\treturn esc ?\n\t\t\t\ttemp.replace(/{~/g, '{{')\n\t\t\t\t\t.replace(/~}/g, '}}')\n\t\t\t\t\t.replace(/%\\d+/g, '') :\n\t\t\t\ttemp;\n\t\t},\n\n\t\t/**\n\t\t * Parse template string\n\t\t *\n\t\t * @param {string} temp\n\t\t * @param {object} data\n\t\t * @param {object} prev\n\t\t * @param {object} init\n\t\t * @param {int} index\n\t\t * @returns {string}\n\t\t */\n\t\tparse: function(temp, data, prev, init, index) {\n\t\t\tvar scope = this;\n\n\t\t\treturn temp.replace(reg.pair, function(m, t, helper, inner) {\n\t\t\t\tvar tag = t.replace(/%\\d+/, '');\n\n\t\t\t\t// Escape child template tags\n\t\t\t\tif (tag == '!') {\n\t\t\t\t\tesc = true;\n\n\t\t\t\t\treturn inner.replace(/{{:[^{\\s]+}}/g, '{{ else }}')\n\t\t\t\t\t\t.replace(/{{/g, '{~ ')\n\t\t\t\t\t\t.replace(/}}/g, ' ~}');\n\t\t\t\t}\n\n\t\t\t\tvar cond = inner.split('{{:' + t + '}}');\n\t\t\t\tinner = cond[0];\n\t\t\t\tesc = false;\n\n\t\t\t\tvar val = scope.get(data, prev, tag, U, init, index),\n\t\t\t\t\tempty = _isEmpty(val),\n\t\t\t\t\thelp = [],\n\t\t\t\t\teach;\n\n\t\t\t\t// Parse helpers\n\t\t\t\tif (helper || empty) {\n\t\t\t\t\tvar meth = helper ? helper.split('|') : [],\n\t\t\t\t\t\tsec = cond.length > 1 ? cond[1] : '',\n\t\t\t\t\t\tagg = [];\n\n\t\t\t\t\t// Check for root helpers\n\t\t\t\t\tif (empty) {\n\t\t\t\t\t\tvar arg = meth[0] && meth[0][0] == '(';\n\t\t\t\t\t\tmeth.unshift(tag + (arg ? meth[0] : '()'));\n\n\t\t\t\t\t\tif (arg) {\n\t\t\t\t\t\t\tmeth.splice(1, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Capture available aggregates and helpers\n\t\t\t\t\tmeth.forEach(function(el) {\n\t\t\t\t\t\tvar arr = el.match(reg.ext),\n\t\t\t\t\t\t\tname = arr[1].trim();\n\n\t\t\t\t\t\t// Check for each helper\n\t\t\t\t\t\tif (name == 'each') {\n\t\t\t\t\t\t\teach = true;\n\t\t\t\t\t\t} else if (helpers[name]) {\n\t\t\t\t\t\t\tel = [helpers[name], arr[2]];\n\t\t\t\t\t\t\teach ? help.push(el) : agg.push(el);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t// Process aggregates\n\t\t\t\t\tif (agg.length) {\n\t\t\t\t\t\tif (! agg.every(function(f) {\n\t\t\t\t\t\t\t\tvar rv = f[0].apply({\n\t\t\t\t\t\t\t\t\tval: val,\n\t\t\t\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\t\t\t\troot: init,\n\t\t\t\t\t\t\t\t\ttag: tag,\n\t\t\t\t\t\t\t\t\tempty: empty,\n\t\t\t\t\t\t\t\t\tindex: index\n\t\t\t\t\t\t\t\t}, scope.parseArgs(f[1], val));\n\n\t\t\t\t\t\t\t\tif (rv === false) {\n\t\t\t\t\t\t\t\t\treturn rv;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (rv !== true) {\n\t\t\t\t\t\t\t\t\tval = rv;\n\t\t\t\t\t\t\t\t\tempty = _isEmpty(val);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t})) {\n\t\t\t\t\t\t\treturn sec;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (empty) {\n\t\t\t\t\t\treturn sec;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar isObject = typeof val == 'object';\n\n\t\t\t\tif (! each) {\n\t\t\t\t\tif (! isObject) {\n\t\t\t\t\t\tval = W.$extend({}, data, {\n\t\t\t\t\t\t\t'.': val,\n\t\t\t\t\t\t\t'#': 0,\n\t\t\t\t\t\t\t'##': 1\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\treturn scope.parse(inner, val, data, init, index);\n\t\t\t\t}\n\n\t\t\t\tif (! empty) {\n\t\t\t\t\t// Loop through objects and arrays\n\t\t\t\t\tif (isObject) {\n\t\t\t\t\t\tvar isPlainObject = W.$isObject(val),\n\t\t\t\t\t\t\tresp = '',\n\t\t\t\t\t\t\ti = 0;\n\n\t\t\t\t\t\tfor (var key in val) {\n\t\t\t\t\t\t\tif (val.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\t// Merge default properties\n\t\t\t\t\t\t\t\tvar el = val[key];\n\t\t\t\t\t\t\t\tempty = _isEmpty(el);\n\n\t\t\t\t\t\t\t\t// Process helpers\n\t\t\t\t\t\t\t\tif (! help.length ||\n\t\t\t\t\t\t\t\t\thelp.every(function(f) {\n\t\t\t\t\t\t\t\t\t\tvar rv = f[0].apply({\n\t\t\t\t\t\t\t\t\t\t\tval: el,\n\t\t\t\t\t\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\t\t\t\t\t\troot: init,\n\t\t\t\t\t\t\t\t\t\t\ttag: tag,\n\t\t\t\t\t\t\t\t\t\t\tempty: empty,\n\t\t\t\t\t\t\t\t\t\t\tindex: i\n\t\t\t\t\t\t\t\t\t\t}, scope.parseArgs(f[1], val));\n\n\t\t\t\t\t\t\t\t\t\tif (rv === false) {\n\t\t\t\t\t\t\t\t\t\t\treturn rv;\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif (rv !== true) {\n\t\t\t\t\t\t\t\t\t\t\tel = rv;\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t\t})) {\n\t\t\t\t\t\t\t\t\tvar item = W.$extend({}, W.$isObject(el) ?\n\t\t\t\t\t\t\t\t\t\tel :\n\t\t\t\t\t\t\t\t\t\t(isPlainObject ? val : {}),\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t$key: key,\n\t\t\t\t\t\t\t\t\t\t'.': el,\n\t\t\t\t\t\t\t\t\t\t'#': i,\n\t\t\t\t\t\t\t\t\t\t'##': i + 1\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\ti++;\n\n\t\t\t\t\t\t\t\t\tresp += scope.parse(inner, item, data, init, i);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn resp;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn inner;\n\t\t\t\t}\n\t\t\t}).replace(reg.single, function(m, set) {\n\t\t\t\tvar split = set.split('||'),\n\t\t\t\t\tfb = split[1],\n\t\t\t\t\tsegs = split[0].split('|'),\n\t\t\t\t\ttag = segs[0].trim(),\n\t\t\t\t\tval = scope.get(data, prev, tag, fb, init, index),\n\t\t\t\t\thelps = segs.length > 1 ? segs.slice(1) : segs;\n\n\t\t\t\t// Return empty string if output isn't available\n\t\t\t\tif (val === U || typeof val == 'object') {\n\t\t\t\t\tval = '';\n\t\t\t\t}\n\n\t\t\t\t// Process helpers\n\t\t\t\thelps.forEach(function(el, i) {\n\t\t\t\t\tvar arr = el.match(reg.ext);\n\t\t\t\t\thelps[i] = el.trim();\n\n\t\t\t\t\tif (arr) {\n\t\t\t\t\t\tvar helper = helpers[arr[1].trim()];\n\n\t\t\t\t\t\tif (helper && (segs.length > 1 ||\n\t\t\t\t\t\t\t! data.hasOwnProperty(tag))) {\n\t\t\t\t\t\t\tval = helper.apply({\n\t\t\t\t\t\t\t\tval: val,\n\t\t\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\t\t\troot: init,\n\t\t\t\t\t\t\t\ttag: tag,\n\t\t\t\t\t\t\t\tindex: index,\n\t\t\t\t\t\t\t\tfallback: fb\n\t\t\t\t\t\t\t}, scope.parseArgs(arr[2], data));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Encode output by default\n\t\t\t\tif (val === U) {\n\t\t\t\t\tval = '';\n\t\t\t\t} else if (typeof val == 'string') {\n\t\t\t\t\tif (helps.indexOf('raw') < 0) {\n\t\t\t\t\t\tval = val.replace(/&amp;/g, '&')\n\t\t\t\t\t\t\t.replace(/&/g, '&amp;')\n\t\t\t\t\t\t\t.replace(/</g, '&lt;')\n\t\t\t\t\t\t\t.replace(/>/g, '&gt;')\n\t\t\t\t\t\t\t.replace(/\"/g, '&quot;');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn val;\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get specific object value\n\t\t *\n\t\t * @param {object} data\n\t\t * @param {object} prev\n\t\t * @param {string} key\n\t\t * @param {string} fb\n\t\t * @param {object} init\n\t\t * @param {int} x\n\t\t * @returns {*}\n\t\t */\n\t\tget: function(data, prev, key, fb, init, x) {\n\t\t\tkey = key.trim();\n\n\t\t\t// Alter context\n\t\t\tif (key.substr(0, 6) == '$root.') {\n\t\t\t\tkey = key.substr(6);\n\t\t\t\tdata = init;\n\t\t\t} else if (key.substr(0, 3) == '../') {\n\t\t\t\tkey = key.substr(3);\n\t\t\t\tdata = prev;\n\t\t\t}\n\n\t\t\tvar segs = key == '.' ? ['.'] : key.split('.'),\n\t\t\t\torig = data,\n\t\t\t\tlen = segs.length - 1,\n\t\t\t\ti = 0;\n\n\t\t\t// Loop through object segments\n\t\t\tfor (; i <= len; i++) {\n\t\t\t\tkey = segs[i];\n\n\t\t\t\tif (data && data.hasOwnProperty(key)) {\n\t\t\t\t\tdata = data[key];\n\n\t\t\t\t\t// Return value on last segment\n\t\t\t\t\tif (i === len) {\n\t\t\t\t\t\treturn data;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (key == '.') {\n\t\t\t\treturn data;\n\t\t\t}\n\n\t\t\t// Process fallback value\n\t\t\tif (fb && fb !== '') {\n\t\t\t\tfb = fb.trim();\n\t\t\t\tvar match = fb.match(reg.str);\n\n\t\t\t\tif (match) {\n\t\t\t\t\treturn fb.replace(reg.str, '')\n\t\t\t\t\t\t.replace(new RegExp(match[0] + '$'), '');\n\t\t\t\t}\n\n\t\t\t\treturn this.get(orig, prev, fb, '', init, x);\n\t\t\t}\n\n\t\t\treturn fb;\n\t\t},\n\n\t\t/**\n\t\t * Parse helper arguments\n\t\t *\n\t\t * @param {string} str\n\t\t * @returns {*}\n\t\t */\n\t\tparseArgs: function(str, data) {\n\t\t\tvar args = str !== U ? str.match(reg.args) || [] : [];\n\n\t\t\treturn args.map(function(arg) {\n\t\t\t\targ = arg.trim();\n\n\t\t\t\tif (data && data.hasOwnProperty(arg) && isNaN(arg)) {\n\t\t\t\t\treturn data[arg];\n\t\t\t\t} else {\n\t\t\t\t\tvar match = arg.match(reg.str);\n\n\t\t\t\t\tif (match) {\n\t\t\t\t\t\treturn arg.replace(reg.str, '')\n\t\t\t\t\t\t\t.replace(new RegExp(match[0] + '$'), '');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn arg == 'true' ? true :\n\t\t\t\t\targ == 'false' ? false :\n\t\t\t\t\targ == 'null' ? null :\n\t\t\t\t\tparseInt(arg).toString() == arg ? parseInt(arg) :\n\t\t\t\t\t'';\n\t\t\t});\n\t\t}\n\t});\n})(Wee, undefined);","/**\n * Copyright (c) 2015, Patrick Steele-Idem\n * https://github.com/patrick-steele-idem/morphdom\n *\n * Permission to use, copy, modify, and/or distribute this software for any\n * purpose with or without fee is hereby granted, provided that the above\n * copyright notice and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n * AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n * LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n * OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n * PERFORMANCE OF THIS SOFTWARE.\n */\n\n/* jshint ignore: start */\n/* jscs: disable */\n\n(function(W, D) {\n\t// Create a range object for efficently rendering strings to elements.\n\tvar range;\n\n\tfunction toElement(str) {\n\t\tif (! range && ! W._legacy) {\n\t\t\trange = D.createRange();\n\t\t\trange.selectNode(D.body);\n\t\t}\n\n\t\tvar fragment;\n\n\t\tif (range && range.createContextualFragment) {\n\t\t\tfragment = range.createContextualFragment(str);\n\t\t} else {\n\t\t\tfragment = D.createElement('body');\n\t\t\tfragment.innerHTML = str;\n\t\t}\n\n\t\treturn fragment.childNodes[0];\n\t}\n\n\tvar specialElHandlers = {\n\t\t/**\n\t\t * Needed for IE. Apparently IE doesn't think\n\t\t * that \"selected\" is an attribute when reading\n\t\t * over the attributes using selectEl.attributes\n\t\t */\n\t\tOPTION: function(fromEl, toEl) {\n\t\t\tif ((fromEl.selected = toEl.selected)) {\n\t\t\t\tfromEl.setAttribute('selected', '');\n\t\t\t} else {\n\t\t\t\tfromEl.removeAttribute('selected', '');\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * The \"value\" attribute is special for the <input> element\n\t\t * since it sets the initial value. Changing the \"value\"\n\t\t * attribute without changing the \"value\" property will have\n\t\t * no effect since it is only used to the set the initial value.\n\t\t * Similar for the \"checked\" attribute.\n\t\t */\n\t\tINPUT: function(fromEl, toEl) {\n\t\t\tfromEl.checked = toEl.checked;\n\n\t\t\tif (fromEl.value != toEl.value) {\n\t\t\t\tfromEl.value = toEl.value;\n\t\t\t}\n\n\t\t\tif (!toEl.hasAttribute('checked')) {\n\t\t\t\tfromEl.removeAttribute('checked');\n\t\t\t}\n\n\t\t\tif (!toEl.hasAttribute('value')) {\n\t\t\t\tfromEl.removeAttribute('value');\n\t\t\t}\n\t\t},\n\n\t\tTEXTAREA: function(fromEl, toEl) {\n\t\t\tvar newValue = toEl.value;\n\t\t\tif (fromEl.value != newValue) {\n\t\t\t\tfromEl.value = newValue;\n\t\t\t}\n\n\t\t\tif (fromEl.firstChild) {\n\t\t\t\tfromEl.firstChild.nodeValue = newValue;\n\t\t\t}\n\t\t}\n\t};\n\n\tfunction noop() {}\n\n\t/**\n\t * Loop over all of the attributes on the target node and make sure the\n\t * original DOM node has the same attributes. If an attribute\n\t * found on the original node is not on the new node then remove it from\n\t * the original node\n\t * @param  {HTMLElement} fromNode\n\t * @param  {HTMLElement} toNode\n\t */\n\tfunction morphAttrs(fromNode, toNode) {\n\t\tvar attrs = toNode.attributes;\n\t\tvar i;\n\t\tvar attr;\n\t\tvar attrName;\n\t\tvar attrValue;\n\t\tvar foundAttrs = {};\n\n\t\tfor (i=attrs.length-1; i>=0; i--) {\n\t\t\tattr = attrs[i];\n\t\t\tif (attr.specified !== false) {\n\t\t\t\tattrName = attr.name;\n\t\t\t\tattrValue = attr.value;\n\t\t\t\tfoundAttrs[attrName] = true;\n\n\t\t\t\tif (fromNode.getAttribute(attrName) !== attrValue) {\n\t\t\t\t\tfromNode.setAttribute(attrName, attrValue);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Delete any extra attributes found on the original DOM element that weren't\n\t\t// found on the target element.\n\t\tattrs = fromNode.attributes;\n\n\t\tfor (i=attrs.length-1; i>=0; i--) {\n\t\t\tattr = attrs[i];\n\t\t\tif (attr.specified !== false) {\n\t\t\t\tattrName = attr.name;\n\t\t\t\tif (!foundAttrs.hasOwnProperty(attrName)) {\n\t\t\t\t\tfromNode.removeAttribute(attrName);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Copies the children of one DOM element to another DOM element\n\t */\n\tfunction moveChildren(fromEl, toEl) {\n\t\tvar curChild = fromEl.firstChild;\n\t\twhile(curChild) {\n\t\t\tvar nextChild = curChild.nextSibling;\n\t\t\ttoEl.appendChild(curChild);\n\t\t\tcurChild = nextChild;\n\t\t}\n\t\treturn toEl;\n\t}\n\n\tW.view.diff = function(fromNode, toNode, options) {\n\t\tif (!options) {\n\t\t\toptions = {};\n\t\t}\n\n\t\tif (typeof toNode === 'string') {\n\t\t\ttoNode = toElement(toNode);\n\t\t}\n\n\t\tvar savedEls = {}; // Used to save off DOM elements with IDs\n\t\tvar unmatchedEls = {};\n\t\tvar onNodeDiscarded = options.onNodeDiscarded || noop;\n\t\tvar onBeforeMorphEl = options.onBeforeMorphEl || noop;\n\t\tvar onBeforeMorphElChildren = options.onBeforeMorphElChildren || noop;\n\t\tvar onBeforeNodeDiscarded = options.onBeforeNodeDiscarded || noop;\n\t\tvar childrenOnly = options.childrenOnly === true;\n\n\t\tfunction removeNodeHelper(node, nestedInSavedEl) {\n\t\t\tvar id = node.id;\n\t\t\t// If the node has an ID then save it off since we will want\n\t\t\t// to reuse it in case the target DOM tree has a DOM element\n\t\t\t// with the same ID\n\t\t\tif (id) {\n\t\t\t\tsavedEls[id] = node;\n\t\t\t} else if (!nestedInSavedEl) {\n\t\t\t\t// If we are not nested in a saved element then we know that this node has been\n\t\t\t\t// completely discarded and will not exist in the final DOM.\n\t\t\t\tonNodeDiscarded(node);\n\t\t\t}\n\n\t\t\tif (node.nodeType === 1) {\n\t\t\t\tvar curChild = node.firstChild;\n\t\t\t\twhile(curChild) {\n\t\t\t\t\tremoveNodeHelper(curChild, nestedInSavedEl || id);\n\t\t\t\t\tcurChild = curChild.nextSibling;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction walkDiscardedChildNodes(node) {\n\t\t\tif (node.nodeType === 1) {\n\t\t\t\tvar curChild = node.firstChild;\n\t\t\t\twhile(curChild) {\n\n\n\t\t\t\t\tif (!curChild.id) {\n\t\t\t\t\t\t// We only want to handle nodes that don't have an ID to avoid double\n\t\t\t\t\t\t// walking the same saved element.\n\n\t\t\t\t\t\tonNodeDiscarded(curChild);\n\n\t\t\t\t\t\t// Walk recursively\n\t\t\t\t\t\twalkDiscardedChildNodes(curChild);\n\t\t\t\t\t}\n\n\t\t\t\t\tcurChild = curChild.nextSibling;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction removeNode(node, parentNode, alreadyVisited) {\n\t\t\tif (onBeforeNodeDiscarded(node) === false) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tparentNode.removeChild(node);\n\t\t\tif (alreadyVisited) {\n\t\t\t\tif (!node.id) {\n\t\t\t\t\tonNodeDiscarded(node);\n\t\t\t\t\twalkDiscardedChildNodes(node);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tremoveNodeHelper(node);\n\t\t\t}\n\t\t}\n\n\t\tfunction morphEl(fromEl, toEl, alreadyVisited, childrenOnly) {\n\t\t\tif (toEl.id) {\n\t\t\t\t// If an element with an ID is being morphed then it is will be in the final\n\t\t\t\t// DOM so clear it out of the saved elements collection\n\t\t\t\tdelete savedEls[toEl.id];\n\t\t\t}\n\n\t\t\tif (!childrenOnly) {\n\t\t\t\tif (onBeforeMorphEl(fromEl, toEl) === false) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tmorphAttrs(fromEl, toEl);\n\n\t\t\t\tif (onBeforeMorphElChildren(fromEl, toEl) === false) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (fromEl.tagName != 'TEXTAREA') {\n\t\t\t\tvar curToNodeChild = toEl.firstChild;\n\t\t\t\tvar curFromNodeChild = fromEl.firstChild;\n\t\t\t\tvar curToNodeId;\n\n\t\t\t\tvar fromNextSibling;\n\t\t\t\tvar toNextSibling;\n\t\t\t\tvar savedEl;\n\t\t\t\tvar unmatchedEl;\n\n\t\t\t\touter: while(curToNodeChild) {\n\t\t\t\t\ttoNextSibling = curToNodeChild.nextSibling;\n\t\t\t\t\tcurToNodeId = curToNodeChild.id;\n\n\t\t\t\t\twhile(curFromNodeChild) {\n\t\t\t\t\t\tvar curFromNodeId = curFromNodeChild.id;\n\t\t\t\t\t\tfromNextSibling = curFromNodeChild.nextSibling;\n\n\t\t\t\t\t\tif (!alreadyVisited) {\n\t\t\t\t\t\t\tif (curFromNodeId && (unmatchedEl = unmatchedEls[curFromNodeId])) {\n\t\t\t\t\t\t\t\tunmatchedEl.parentNode.replaceChild(curFromNodeChild, unmatchedEl);\n\t\t\t\t\t\t\t\tmorphEl(curFromNodeChild, unmatchedEl, alreadyVisited);\n\t\t\t\t\t\t\t\tcurFromNodeChild = fromNextSibling;\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar curFromNodeType = curFromNodeChild.nodeType;\n\n\t\t\t\t\t\tif (curFromNodeType === curToNodeChild.nodeType) {\n\t\t\t\t\t\t\tvar isCompatible = false;\n\n\t\t\t\t\t\t\tif (curFromNodeType === 1) { // Both nodes being compared are Element nodes\n\t\t\t\t\t\t\t\tif (curFromNodeChild.tagName === curToNodeChild.tagName) {\n\t\t\t\t\t\t\t\t\t// We have compatible DOM elements\n\t\t\t\t\t\t\t\t\tif (curFromNodeId || curToNodeId) {\n\t\t\t\t\t\t\t\t\t\t// If either DOM element has an ID then we handle\n\t\t\t\t\t\t\t\t\t\t// those differently since we want to match up\n\t\t\t\t\t\t\t\t\t\t// by ID\n\t\t\t\t\t\t\t\t\t\tif (curToNodeId === curFromNodeId) {\n\t\t\t\t\t\t\t\t\t\t\tisCompatible = true;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tisCompatible = true;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (isCompatible) {\n\t\t\t\t\t\t\t\t\t// We found compatible DOM elements so transform the current \"from\" node\n\t\t\t\t\t\t\t\t\t// to match the current target DOM node.\n\t\t\t\t\t\t\t\t\tmorphEl(curFromNodeChild, curToNodeChild, alreadyVisited);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (curFromNodeType === 3) { // Both nodes being compared are Text nodes\n\t\t\t\t\t\t\t\tisCompatible = true;\n\t\t\t\t\t\t\t\t// Simply update nodeValue on the original node to change the text value\n\t\t\t\t\t\t\t\tcurFromNodeChild.nodeValue = curToNodeChild.nodeValue;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (isCompatible) {\n\t\t\t\t\t\t\t\tcurToNodeChild = toNextSibling;\n\t\t\t\t\t\t\t\tcurFromNodeChild = fromNextSibling;\n\t\t\t\t\t\t\t\tcontinue outer;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// No compatible match so remove the old node from the DOM and continue trying\n\t\t\t\t\t\t// to find a match in the original DOM\n\t\t\t\t\t\tremoveNode(curFromNodeChild, fromEl, alreadyVisited);\n\t\t\t\t\t\tcurFromNodeChild = fromNextSibling;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (curToNodeId) {\n\t\t\t\t\t\tif ((savedEl = savedEls[curToNodeId])) {\n\t\t\t\t\t\t\tmorphEl(savedEl, curToNodeChild, true);\n\t\t\t\t\t\t\tcurToNodeChild = savedEl; // We want to append the saved element instead\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// The current DOM element in the target tree has an ID\n\t\t\t\t\t\t\t// but we did not find a match in any of the corresponding\n\t\t\t\t\t\t\t// siblings. We just put the target element in the old DOM tree\n\t\t\t\t\t\t\t// but if we later find an element in the old DOM tree that has\n\t\t\t\t\t\t\t// a matching ID then we will replace the target element\n\t\t\t\t\t\t\t// with the corresponding old element and morph the old element\n\t\t\t\t\t\t\tunmatchedEls[curToNodeId] = curToNodeChild;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// If we got this far then we did not find a candidate match for our \"to node\"\n\t\t\t\t\t// and we exhausted all of the children \"from\" nodes. Therefore, we will just\n\t\t\t\t\t// append the current \"to node\" to the end\n\t\t\t\t\tfromEl.appendChild(curToNodeChild);\n\n\t\t\t\t\tcurToNodeChild = toNextSibling;\n\t\t\t\t\tcurFromNodeChild = fromNextSibling;\n\t\t\t\t}\n\n\t\t\t\t// We have processed all of the \"to nodes\". If curFromNodeChild is non-null then\n\t\t\t\t// we still have some from nodes left over that need to be removed\n\t\t\t\twhile(curFromNodeChild) {\n\t\t\t\t\tfromNextSibling = curFromNodeChild.nextSibling;\n\t\t\t\t\tremoveNode(curFromNodeChild, fromEl, alreadyVisited);\n\t\t\t\t\tcurFromNodeChild = fromNextSibling;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar specialElHandler = specialElHandlers[fromEl.tagName];\n\t\t\tif (specialElHandler) {\n\t\t\t\tspecialElHandler(fromEl, toEl);\n\t\t\t}\n\t\t} // END: morphEl(...)\n\n\t\tvar morphedNode = fromNode;\n\t\tvar morphedNodeType = morphedNode.nodeType;\n\t\tvar toNodeType = toNode.nodeType;\n\n\t\tif (!childrenOnly) {\n\t\t\t// Handle the case where we are given two DOM nodes that are not\n\t\t\t// compatible (e.g. <div> --> <span> or <div> --> TEXT)\n\t\t\tif (morphedNodeType === 1) {\n\t\t\t\tif (toNodeType === 1) {\n\t\t\t\t\tif (fromNode.tagName !== toNode.tagName) {\n\t\t\t\t\t\tonNodeDiscarded(fromNode);\n\t\t\t\t\t\tmorphedNode = moveChildren(fromNode, D.createElement(toNode.tagName));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Going from an element node to a text node\n\t\t\t\t\tmorphedNode = toNode;\n\t\t\t\t}\n\t\t\t} else if (morphedNodeType === 3) { // Text node\n\t\t\t\tif (toNodeType === 3) {\n\t\t\t\t\tmorphedNode.nodeValue = toNode.nodeValue;\n\t\t\t\t\treturn morphedNode;\n\t\t\t\t} else {\n\t\t\t\t\t// Text node to something else\n\t\t\t\t\tmorphedNode = toNode;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (morphedNode === toNode) {\n\t\t\t// The \"to node\" was not compatible with the \"from node\"\n\t\t\t// so we had to toss out the \"from node\" and use the \"to node\"\n\t\t\tonNodeDiscarded(fromNode);\n\t\t} else {\n\t\t\tmorphEl(morphedNode, toNode, false, childrenOnly);\n\n\t\t\t// Fire the \"onNodeDiscarded\" event for any saved elements\n\t\t\t// that never found a new home in the morphed DOM\n\t\t\tfor (var savedElId in savedEls) {\n\t\t\t\tif (savedEls.hasOwnProperty(savedElId)) {\n\t\t\t\t\tvar savedEl = savedEls[savedElId];\n\t\t\t\t\tonNodeDiscarded(savedEl);\n\t\t\t\t\twalkDiscardedChildNodes(savedEl);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (!childrenOnly && morphedNode !== fromNode && fromNode.parentNode) {\n\t\t\t// If we had to swap out the from node with a new node because the old\n\t\t\t// node was not compatible with the target node then we need to\n\t\t\t// replace the old DOM node in the original DOM tree. This is only\n\t\t\t// possible if the original DOM node was part of a DOM tree which\n\t\t\t// we know is the case if it has a parent node.\n\t\t\tfromNode.parentNode.replaceChild(morphedNode, fromNode);\n\t\t}\n\n\t\treturn morphedNode;\n\t}\n})(Wee, document);","(function(W, A) {\n\t'use strict';\n\n\t/**\n\t * Cast selection as Wee object\n\t *\n\t * @param {($|HTMLElement|string)} sel\n\t * @param {($|HTMLElement|string)} [context=document]\n\t */\n\tvar Get = function(sel, context) {\n\t\t\tif (sel) {\n\t\t\t\tvar els = Array.isArray(sel) ?\n\t\t\t\t\t\tsel :\n\t\t\t\t\t\tW.$toArray(W.$(sel, context)),\n\t\t\t\t\ti = 0;\n\n\t\t\t\tfor (; i < els.length; i++) {\n\t\t\t\t\tvar el = els[i];\n\n\t\t\t\t\tif (el) {\n\t\t\t\t\t\tA.call(this, el);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.sel = sel;\n\t\t\t}\n\t\t},\n\t\t$;\n\n\t/**\n\t * Create chainable Wee object from selection\n\t *\n\t * @param {(HTMLElement|string)} sel\n\t * @param {object} [context=document]\n\t */\n\t$ = W._win[W._$] = function(sel, context) {\n\t\treturn new Get(sel, context);\n\t};\n\n\t// Extend core with chain registration method\n\tW.fn.extend({\n\t\t/**\n\t\t * Register a new chainable method\n\t\t *\n\t\t * @param {(object|string)} a - method name or object\n\t\t * @param {function} b\n\t\t */\n\t\t$chain: function(a, b) {\n\t\t\tif (typeof a == 'string') {\n\t\t\t\t$.fn[a] = b;\n\t\t\t} else {\n\t\t\t\tfor (var key in a) {\n\t\t\t\t\t$.fn[key] = a[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\t// Shortcut core methods from alias\n\tfor (var key in W) {\n\t\tvar val = W[key];\n\n\t\t$[key.replace(/^\\$/, '')] = W.$isFunction(val) ?\n\t\t\tval.bind(W) :\n\t\t\tval;\n\t}\n\n\t// Bind core chainable methods\n\t$.fn = Get.prototype = {\n\t\t_$: true,\n\t\tlength: 0,\n\n\t\t/**\n\t\t * Execute function for each object element\n\t\t *\n\t\t * @param fn\n\t\t * @param {object} [options]\n\t\t * @param {Array} [options.args]\n\t\t * @param {bool} [options.reverse=false]\n\t\t * @param {context} [options.context=document]\n\t\t * @param {Array} [options.scope]\n\t\t */\n\t\teach: function(fn, options) {\n\t\t\tW.$each(this, fn, options);\n\t\t},\n\n\t\t/**\n\t\t * Translate object elements to a new array\n\t\t *\n\t\t * @param fn\n\t\t * @param {function} fn\n\t\t * @param {object} [options]\n\t\t * @param {Array} [options.args]\n\t\t * @param {object} [options.scope]\n\t\t * @returns {Array}\n\t\t */\n\t\tmap: function(fn, options) {\n\t\t\treturn W.$map(this, fn, options);\n\t\t},\n\n\t\t/**\n\t\t * Reverse the order of object elements\n\t\t *\n\t\t * @returns {$}\n\t\t */\n\t\treverse: function() {\n\t\t\tvar copy = W.$extend(this),\n\t\t\t\tx = this.length,\n\t\t\t\ttotal = x,\n\t\t\t\ti = 0;\n\n\t\t\tfor (; i < total; i++) {\n\t\t\t\tx--;\n\t\t\t\tthis[i] = copy[x];\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Add ref elements to datastore\n\t\t */\n\t\tsetRef: function() {\n\t\t\tW.$setRef(this);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Add metadata variables to datastore\n\t\t */\n\t\tsetVar: function() {\n\t\t\tW.$setVar(this);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Convert selection to standard array\n\t\t */\n\t\ttoArray: function() {\n\t\t\treturn W._slice.call(this);\n\t\t}\n\t};\n\n\t// Map shorthand registration method\n\t$.fn.extend = W.$chain;\n})(Wee, [].push);","(function(W) {\n\t'use strict';\n\n\tW.$chain({\n\t\t/**\n\t\t * Transition to a specified attribute or property value\n\t\t *\n\t\t * @param {object} props\n\t\t * @param {object} [options]\n\t\t * @param {number} [options.duration]\n\t\t * @param {string} [options.ease]\n\t\t * @returns {$} selection\n\t\t */\n\t\ttween: function(props, options) {\n\t\t\tW.animate.tween(this, props, options);\n\n\t\t\treturn this;\n\t\t}\n\t});\n})(Wee);","(function(W, U) {\n\t'use strict';\n\n\tvar $ = W._win[W._$];\n\n\tW.$chain({\n\t\t/**\n\t\t * Append additional selection to Wee object\n\t\t *\n\t\t * @param {($|HTMLElement|string)} source\n\t\t * @returns {$}\n\t\t */\n\t\tadd: function(source) {\n\t\t\tvar orig = [],\n\t\t\t\ti = 0;\n\n\t\t\tfor (; i < this.length; i++) {\n\t\t\t\torig.push(this[i]);\n\t\t\t}\n\n\t\t\treturn $(W.$unique(orig.concat(W.$(source))));\n\t\t},\n\n\t\t/**\n\t\t * Add classes to each matching selection\n\t\t *\n\t\t * @param {(function|string)} value\n\t\t * @returns {$}\n\t\t */\n\t\taddClass: function(value) {\n\t\t\tW.$addClass(this, value);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Insert selection or markup after each matching selection\n\t\t *\n\t\t * @param {($|function|HTMLElement|string)} source\n\t\t * @param {boolean} [remove=false]\n\t\t * @returns {$}\n\t\t */\n\t\tafter: function(source, remove) {\n\t\t\tW.$after(this, source, remove);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Append selection or markup after each matching selection\n\t\t *\n\t\t * @param {($|function|HTMLElement|string)} source\n\t\t * @returns {$}\n\t\t */\n\t\tappend: function(source) {\n\t\t\tW.$append(this, source);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Append selection or markup to each matching selection\n\t\t *\n\t\t * @param {($|function|HTMLElement|string)} target\n\t\t * @returns {$}\n\t\t */\n\t\tappendTo: function(target) {\n\t\t\tW.$append(target, this);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Get attribute of first matching selection or set attribute\n\t\t * of each matching selection\n\t\t *\n\t\t * @param a\n\t\t * @param b\n\t\t * @returns {($|string)}\n\t\t */\n\t\tattr: function(a, b) {\n\t\t\tvar resp = W.$attr(this, a, b);\n\n\t\t\treturn b !== U || W.$isObject(a) ? this : resp;\n\t\t},\n\n\t\t/**\n\t\t * Insert selection or markup before each matching selection\n\t\t *\n\t\t * @param {($|function|HTMLElement|string)} source\n\t\t * @param {boolean} [remove=false]\n\t\t * @returns {$}\n\t\t */\n\t\tbefore: function(source, remove) {\n\t\t\tW.$before(this, source, remove);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Get unique direct children of each matching selection\n\t\t *\n\t\t * @param filter\n\t\t * @returns {$}\n\t\t */\n\t\tchildren: function(filter) {\n\t\t\treturn $(W.$children(this, filter));\n\t\t},\n\n\t\t/**\n\t\t * Clone each matching selection\n\t\t *\n\t\t * @returns {$}\n\t\t */\n\t\tclone: function() {\n\t\t\treturn $(W.$clone(this));\n\t\t},\n\n\t\t/**\n\t\t * Get unique closest ancestors of each matching selection\n\t\t *\n\t\t * @param filter\n\t\t * @returns {$}\n\t\t */\n\t\tclosest: function(filter) {\n\t\t\treturn $(W.$closest(this, filter));\n\t\t},\n\n\t\t/**\n\t\t * Determine if any matching parent selection contains descendant selection\n\t\t *\n\t\t * @param descendant\n\t\t * @returns {boolean}\n\t\t */\n\t\tcontains: function(descendant) {\n\t\t\treturn W.$contains(this, descendant);\n\t\t},\n\n\t\t/**\n\t\t * Get unique content of each matching selection\n\t\t *\n\t\t * @returns {$}\n\t\t */\n\t\tcontents: function() {\n\t\t\treturn $(W.$contents(this));\n\t\t},\n\n\t\t/**\n\t\t * Get CSS value of first matching selection or set value\n\t\t * of each matching selection\n\t\t *\n\t\t * @param {(object|string)} a\n\t\t * @param {(function|string)} [b]\n\t\t * @returns {($|string)}\n\t\t */\n\t\tcss: function(a, b) {\n\t\t\tvar r = W.$css(this, a, b);\n\n\t\t\treturn b !== U || W.$isObject(a) ? this : r;\n\t\t},\n\n\t\t/**\n\t\t * Get data of first matching selection or set data\n\t\t * of each matching selection\n\t\t *\n\t\t * @param a\n\t\t * @param [b]\n\t\t * @returns {($|string)}\n\t\t */\n\t\tdata: function(a, b) {\n\t\t\tvar resp = W.$data(this, a, b);\n\n\t\t\treturn b !== U || W.$isObject(a) ? this : resp;\n\t\t},\n\n\t\t/**\n\t\t * Remove child nodes from each matching selection\n\t\t *\n\t\t * @returns {$}\n\t\t */\n\t\tempty: function() {\n\t\t\tW.$empty(this);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Get indexed node of matching selection\n\t\t *\n\t\t * @param index\n\t\t * @returns {$}\n\t\t */\n\t\teq: function(index) {\n\t\t\treturn $(W.$eq(this, index));\n\t\t},\n\n\t\t/**\n\t\t * Return a filtered subset of elements from a matching selection\n\t\t *\n\t\t * @param filter\n\t\t * @returns {$}\n\t\t */\n\t\tfilter: function(filter) {\n\t\t\treturn $(W.$filter(this, filter));\n\t\t},\n\n\t\t/**\n\t\t * Get unique filtered descendants from each matching selection\n\t\t *\n\t\t * @param filter\n\t\t * @returns {$}\n\t\t */\n\t\tfind: function(filter) {\n\t\t\treturn $(W.$find(this, filter));\n\t\t},\n\n\t\t/**\n\t\t * Get the first element of a matching selection\n\t\t *\n\t\t * @returns {$}\n\t\t */\n\t\tfirst: function() {\n\t\t\treturn this.eq(0);\n\t\t},\n\n\t\t/**\n\t\t * Return node from Wee object at specific index\n\t\t *\n\t\t * @returns {HTMLElement}\n\t\t */\n\t\tget: function(index) {\n\t\t\treturn W.$eq(this, index);\n\t\t},\n\n\t\t/**\n\t\t * Determine if the matching selection has a class\n\t\t *\n\t\t * @param value\n\t\t * @returns {boolean}\n\t\t */\n\t\thasClass: function(value) {\n\t\t\treturn W.$hasClass(this, value);\n\t\t},\n\n\t\t/**\n\t\t * Get or set the height of each matching selection\n\t\t *\n\t\t * @param {(function|number|string)} value\n\t\t * @returns {($|number)}\n\t\t */\n\t\theight: function(value) {\n\t\t\tvar r = W.$height(this, value);\n\n\t\t\treturn value === U || value === true ? r : this;\n\t\t},\n\n\t\t/**\n\t\t * Hide each matching selection\n\t\t *\n\t\t * @returns {$}\n\t\t */\n\t\thide: function() {\n\t\t\tW.$hide(this);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Get inner HTML of first selection or set each matching selection's HTML\n\t\t *\n\t\t * @param {(function|string)} value\n\t\t * @returns {($|string)}\n\t\t */\n\t\thtml: function(value) {\n\t\t\tvar r = W.$html(this, value);\n\n\t\t\treturn value !== U ? this : r;\n\t\t},\n\n\t\t/**\n\t\t * Get the zero-based index of a matching selection relative\n\t\t * to it's siblings\n\t\t *\n\t\t * @returns {int}\n\t\t */\n\t\tindex: function() {\n\t\t\treturn W.$index(this);\n\t\t},\n\n\t\t/**\n\t\t * Insert each matching source selection element after\n\t\t * each matching target selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} source\n\t\t * @returns {$}\n\t\t */\n\t\tinsertAfter: function(source) {\n\t\t\tW.$insertAfter(this, source);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Insert each matching source selection element before\n\t\t * each matching target selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} source\n\t\t * @returns {$}\n\t\t */\n\t\tinsertBefore: function(source) {\n\t\t\tW.$insertBefore(this, source);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Determine if at least one matching selection matches\n\t\t * a specified criteria\n\t\t *\n\t\t * @param filter\n\t\t * @param [options]\n\t\t * @returns {boolean}\n\t\t */\n\t\tis: function(filter, options) {\n\t\t\treturn W.$is(this, filter, options);\n\t\t},\n\n\t\t/**\n\t\t * Get the last element of a matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} [context=document]\n\t\t * @returns {$}\n\t\t */\n\t\tlast: function(context) {\n\t\t\treturn $(W.$last(this, context));\n\t\t},\n\n\t\t/**\n\t\t * Get the unique next sibling of each matching selection\n\t\t *\n\t\t * @param filter\n\t\t * @param {object} [options]\n\t\t * @returns {$}\n\t\t */\n\t\tnext: function(filter, options) {\n\t\t\treturn $(W.$next(this, filter, options));\n\t\t},\n\n\t\t/**\n\t\t * Returns elements not matching the filtered selection\n\t\t *\n\t\t * @param filter\n\t\t * @param {object} [options]\n\t\t * @returns {$}\n\t\t */\n\t\tnot: function(filter, options) {\n\t\t\treturn $(W.$not(this, filter, options));\n\t\t},\n\n\t\t/**\n\t\t * Get the offset position of a matching selection relative to the document\n\t\t *\n\t\t * @param {(function|number)} value\n\t\t * @returns {number}\n\t\t */\n\t\toffset: function(value) {\n\t\t\treturn W.$offset(this, value);\n\t\t},\n\n\t\t/**\n\t\t * Get unique parent from each matching selection\n\t\t *\n\t\t * @returns {$}\n\t\t */\n\t\tparent: function(filter) {\n\t\t\treturn $(W.$parent(this, filter));\n\t\t},\n\n\t\t/**\n\t\t * Get unique ancestors of each matching selection\n\t\t *\n\t\t * @param filter\n\t\t * @returns {$}\n\t\t */\n\t\tparents: function(filter) {\n\t\t\treturn $(W.$parents(this, filter));\n\t\t},\n\n\t\t/**\n\t\t * Get the position of the first matching selection relative\n\t\t * to its offset parent\n\t\t *\n\t\t * @returns {{top, left}}\n\t\t */\n\t\tposition: function() {\n\t\t\treturn W.$position(this);\n\t\t},\n\n\t\t/**\n\t\t * Prepend selection or markup before each matching selection\n\t\t *\n\t\t * @param {($|function|HTMLElement|string)} source\n\t\t * @returns {$}\n\t\t */\n\t\tprepend: function(source) {\n\t\t\tW.$prepend(this, source);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Prepend selection or markup to each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @returns {$}\n\t\t */\n\t\tprependTo: function(target) {\n\t\t\tW.$prepend(target, this.reverse());\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Get the unique previous sibling of each matching selection\n\t\t *\n\t\t * @param filter\n\t\t * @param {object} [options]\n\t\t * @returns {$}\n\t\t */\n\t\tprev: function(filter, options) {\n\t\t\treturn $(W.$prev(this, filter, options));\n\t\t},\n\n\t\t/**\n\t\t * Get property of first matching selection or set property of\n\t\t * each matching selection\n\t\t *\n\t\t * @param a\n\t\t * @param b\n\t\t * @returns {($|string)}\n\t\t */\n\t\tprop: function(a, b) {\n\t\t\tvar r = W.$prop(this, a, b);\n\n\t\t\treturn b !== U || W.$isObject(a) ? this : r;\n\t\t},\n\n\t\t/**\n\t\t * Remove each matching selection from the document\n\t\t *\n\t\t * @returns {$}\n\t\t * @param {($|HTMLElement|string)} [context=document]\n\t\t */\n\t\tremove: function(context) {\n\t\t\tW.$remove(this, context);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Remove specified attribute of each matching selection\n\t\t *\n\t\t * @param {string} name\n\t\t * @returns {$}\n\t\t */\n\t\tremoveAttr: function(name) {\n\t\t\tW.$removeAttr(this, name);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Remove classes from each matching selection\n\t\t *\n\t\t * @param {(function|string)} value\n\t\t * @returns {$}\n\t\t */\n\t\tremoveClass: function(value) {\n\t\t\tW.$removeClass(this, value);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Replace each matching selection with selection or markup\n\t\t *\n\t\t * @param {($|HTMLElement|string)} source\n\t\t * @returns {$}\n\t\t */\n\t\treplaceWith: function(source) {\n\t\t\tW.$replaceWith(this, source);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Get or set the X scroll position of each matching selection\n\t\t *\n\t\t * @param value\n\t\t * @returns {($|number)}\n\t\t */\n\t\tscrollLeft: function(value) {\n\t\t\tvar r = W.$scrollLeft(this, value);\n\n\t\t\treturn value === U || value === true ? r : this;\n\t\t},\n\n\t\t/**\n\t\t * Get or set the Y scroll position of each matching selection\n\t\t *\n\t\t * @param value\n\t\t * @returns {($|number)}\n\t\t */\n\t\tscrollTop: function(value) {\n\t\t\tvar r = W.$scrollTop(this, value);\n\n\t\t\treturn value === U || value === true ? r : this;\n\t\t},\n\n\t\t/**\n\t\t * Serialize input values from first matching form selection\n\t\t *\n\t\t * @param {boolean} json\n\t\t * @returns {string}\n\t\t */\n\t\tserialize: function(json) {\n\t\t\treturn W.$serializeForm(this, json);\n\t\t},\n\n\t\t/**\n\t\t * Show each matching selection\n\t\t *\n\t\t * @returns {$}\n\t\t */\n\t\tshow: function() {\n\t\t\tW.$show(this);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Get unique siblings of each matching selection\n\t\t *\n\t\t * @param filter\n\t\t * @returns {$}\n\t\t */\n\t\tsiblings: function(filter) {\n\t\t\treturn $(W.$siblings(this, filter));\n\t\t},\n\n\t\t/**\n\t\t * Get subset of selection matches from specified range\n\t\t *\n\t\t * @param start\n\t\t * @param end\n\t\t * @returns {$}\n\t\t */\n\t\tslice: function(start, end) {\n\t\t\treturn $(W.$slice(this, start, end));\n\t\t},\n\n\t\t/**\n\t\t * Get inner text of first selection or set each matching selection's text\n\t\t *\n\t\t * @param {(function|string)} value\n\t\t * @returns {($|string)}\n\t\t */\n\t\ttext: function(value) {\n\t\t\tvar r = W.$text(this, value);\n\t\t\treturn value !== U ? this : r;\n\t\t},\n\n\t\t/**\n\t\t * Toggle the display of each matching selection\n\t\t *\n\t\t * @returns {$}\n\t\t */\n\t\ttoggle: function() {\n\t\t\tW.$toggle(this);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Toggle adding and removing class(es) from the specified element\n\t\t *\n\t\t * @param {(function|string)} className\n\t\t * @param {boolean} [state]\n\t\t * @returns {$}\n\t\t */\n\t\ttoggleClass: function(className, state) {\n\t\t\tW.$toggleClass(this, className, state);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Get value of first matching selection or set values of\n\t\t * each matching selection\n\t\t *\n\t\t * @param {(function|string)} value\n\t\t * @returns {($|string)}\n\t\t */\n\t\tval: function(value) {\n\t\t\tvar r = W.$val(this, value);\n\n\t\t\treturn value !== U ? this : r;\n\t\t},\n\n\t\t/**\n\t\t * Get or set the width of each matching selection\n\t\t *\n\t\t * @param {(function|number|string)} value\n\t\t * @returns {($|number)}\n\t\t */\n\t\twidth: function(value) {\n\t\t\tvar r = W.$width(this, value);\n\n\t\t\treturn value === U || value === true ? r : this;\n\t\t},\n\n\t\t/**\n\t\t * Wrap markup around each matching selection\n\t\t *\n\t\t * @param {(function|string)} html\n\t\t * @returns {$}\n\t\t */\n\t\twrap: function(html) {\n\t\t\tW.$wrap(this, html);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Wrap markup around the content of each matching selection\n\t\t *\n\t\t * @param {(function|string)} html\n\t\t * @returns {$}\n\t\t */\n\t\twrapInner: function(html) {\n\t\t\tW.$wrapInner(this, html);\n\n\t\t\treturn this;\n\t\t}\n\t});\n})(Wee, undefined);","(function(W, E) {\n\t'use strict';\n\n\tW.$chain({\n\t\t/**\n\t\t * Bind event(s) to selection\n\t\t *\n\t\t * @param {(object|string)} a - event name or object of events\n\t\t * @param {(function|object)} [b] - event callback or options object\n\t\t * @param {(object|string)} [c] - event options\n\t\t * @param {Array} [c.args] - callback arguments\n\t\t * @param {(HTMLElement|string)} [c.context=document]\n\t\t * @param {(HTMLElement|string)} [c.delegate]\n\t\t * @param {boolean} [c.once=false] - remove event after first execution\n\t\t * @param {object} [c.scope]\n\t\t * @returns {$} selection\n\t\t */\n\t\ton: function(a, b, c) {\n\t\t\tE.on(this, a, b, c);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Remove event(s) from selection\n\t\t *\n\t\t * @param {(object|string)} a - event name or object of events\n\t\t * @param {function} [b] - specific function to remove\n\t\t * @returns {$} selection\n\t\t */\n\t\toff: function(a, b) {\n\t\t\tE.off(this, a, b);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Get currently bound events to optional specified element and event|function\n\t\t *\n\t\t * @param {string} [event] - event name to match\n\t\t * @param {function} [fn] - specific function to match\n\t\t * @returns {Array} matches\n\t\t */\n\t\tbound: function(event, fn) {\n\t\t\treturn E.bound(this, event, fn);\n\t\t},\n\n\t\t/**\n\t\t * Execute bound event for each matching selection\n\t\t *\n\t\t * @param {string} name\n\t\t * @returns {$} selection\n\t\t */\n\t\ttrigger: function(name) {\n\t\t\tE.trigger(this, name);\n\n\t\t\treturn this;\n\t\t}\n\t});\n})(Wee, Wee.events);","(function(W) {\n\t'use strict';\n\n\tW.$chain({\n\t\t/**\n\t\t * Parse data into DOM selection\n\t\t *\n\t\t * @param {object} data\n\t\t * @returns {$} selection\n\t\t */\n\t\trender: function(data) {\n\t\t\tW.$each(this, function(el) {\n\t\t\t\tW.$html(el, W.view.render(W.$text(el), data));\n\t\t\t});\n\n\t\t\treturn this;\n\t\t}\n\t});\n})(Wee);","Wee.fn.make('todo', {\n\tinit: function() {\n\t\t$($('ref:template').text()).insertAfter('ref:nav');\n\n\t\tWee.app.make('items', {\n\t\t\tview: 'ref:todo',\n\t\t\tmodel: {\n\t\t\t\ttodo: [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: 'Download and run Wee',\n\t\t\t\t\t\tdone: true\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: 'Explore the welcome module'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: 'Configure wee.json'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: 'Run node wee reset'\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t});\n\n\t\t$('ref:toggle').on('click', function() {\n\t\t\tvar id = $(this).data('id'),\n\t\t\t\tdone = Wee.items.$get('todo.' + id + '.done');\n\n\t\t\tWee.items.$set('todo.' + id + '.done', done ? false : true);\n\t\t}, {\n\t\t\tdelegate: 'ref:todo'\n\t\t});\n\t}\n});\n\nWee.routes.map({\n\t'$root': 'todo'\n}, true);"]}