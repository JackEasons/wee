{"version":3,"sources":["../../../../node_modules/wee-core/js/wee.js","../../../../node_modules/wee-core/js/wee.animate.js","../../../../node_modules/wee-core/js/wee.assets.js","../../../../node_modules/wee-core/js/wee.data.js","../../../../node_modules/wee-core/js/wee.dom.js","../../../../node_modules/wee-core/js/wee.events.js","../../../../node_modules/wee-core/js/wee.history.js","../../../../node_modules/wee-core/js/wee.routes.js","../../../../node_modules/wee-core/js/wee.screen.js","../../../../node_modules/wee-core/js/wee.touch.js","../../../../node_modules/wee-core/js/wee.view.js","../../../../node_modules/wee-core/js/wee.view.diff.js","../../../../node_modules/wee-core/js/wee.chain.js","../../../../node_modules/wee-core/js/chain/wee.chain.animate.js","../../../../node_modules/wee-core/js/chain/wee.chain.dom.js","../../../../node_modules/wee-core/js/chain/wee.chain.events.js","../../../../node_modules/wee-core/js/chain/wee.chain.view.js","../../../../node_modules/wee-core/temp/views.js","../../../../source/modules/welcome/core/js/script.js"],"names":["N","U","web","window","W","env","range","D","document","store","observe","refs","_storage","obj","key","create","data","segs","split","pop","forEach","hasOwnProperty","_copy","_set","obs","val","options","stored","_val","_trigger","_get","fallback","set","_has","resp","$isObject","Array","isArray","indexOf","_add","type","prepend","root","seg","concat","unshift","push","_merge","$extend","_drop","i","splice","isNaN","_observe","fn","orig","upd","Object","keys","length","_equals","arr","opts","map","join","el","recursive","value","args","diff","_diff","$exec","once","$type","_extend","slice","_contains","source","target","_html","contains","object","deep","src","a","b","aType","_arrEquals","_objEquals","every","aKeys","sort","after","before","_canExec","_$","WeeAlias","_body","body","_doc","documentElement","_legacy","addEventListener","_slice","_win","make","name","pub","priv","_make","$private","_construct","extend","c","this","$","selector","context","ref","filter","sel","trim","WeeSelector","test","pre","getElementById","substr","querySelectorAll","getElementsByClassName","getElementsByTagName","e","$parseHTML","childNodes","nodeType","call","html","createRange","selectNode","createContextualFragment","child","div","createElement","createDocumentFragment","innerHTML","firstChild","appendChild","$set","$get","$push","$concat","$merge","$has","$drop","$observe","$unobserve","$trigger","$each","conf","els","_selArray","reverse","scope","$env","rules","fb","host","location","hostname","rule","$envSecure","protocol","fns","$toArray","len","$isFunction","response","apply","bool","arguments","$diff","$equals","$isArray","$isString","$map","res","$serialize","encodeURIComponent","replace","$unserialize","str","decodeURIComponent","$setRef","getAttribute","$setVar","_castString","prototype","toString","toLowerCase","$unique","array","$chain","controller","method","parseInt","JSON","parse","model","Public","Private","core","$destroy","_destruct","$public","ready","readyState","attachEvent","Wee","define","amd","undefined","easings","ease","t","linear","timers","animate","tween","values","duration","prop","cssValue","scrollTop","Math","max","currentStyle","getComputedStyle","css","unit","setValue","update","style","start","Date","now","dist","dir","clearInterval","complete","bind","abs","setInterval","addEasing","groups","loaded","index","_load","path","head","group","js","_done","onreadystatechange","rs","async","onload","onerror","_fail","link","rel","href","id","text","sheets","styleSheets","sheet","cssText","img","Image","assets","load","files","ext","file","noCache","cache","remove","parentNode","removeChild","poll","hasErrors","error","success","setTimeout","version","_change","x","status","exec","_success","responseText","json","_jsonp","jsonpCallback","jsonp","_getUrl","request","headers","dt","url","XMLHttpRequest","send","contentTypeHeader","toUpperCase","stringify","open","Accept","setRequestHeader","_getSelected","select","option","selected","_getSibling","match","$index","$children","$parent","$is","_toCamel","_toDashed","$addClass","func","cn","className","names","$after","aft","par","cel","$clone","insertBefore","nextSibling","$remove","$append","app","$attr","$first","setAttribute","$before","bef","parent","children","$filter","cloneNode","$closest","$contains","descendant","$contents","$css","$data","attributes","attr","$empty","$eq","$find","$hasClass","some","RegExp","$height","height","innerHeight","offsetHeight","scrollHeight","clientHeight","marginTop","marginBottom","$hide","$html","nodeName","atob","outerHTML","$insertAfter","$insertBefore","matches","matchesSelector","msMatchesSelector","mozMatchesSelector","webkitMatchesSelector","oMatchesSelector","$last","$next","$not","$offset","top","rect","getBoundingClientRect","offset","pageYOffset","left","scrollLeft","pageXOffset","$parents","$position","offsetTop","offsetLeft","$prepend","$prev","$prop","$removeAttr","removeAttribute","$removeClass","$replaceWith","$scrollLeft","$scrollTop","$serializeForm","elements","checked","$show","$siblings","siblings","$slice","end","$text","innerText","textContent","$toggle","$toggleClass","state","$val","opt","$width","width","innerWidth","offsetWidth","scrollWidth","clientWidth","marginLeft","marginRight","$wrap","wrap","replaceChild","$wrapInner","bound","custom","_bind","delegate","targ","evts","evt","ev","f","cb","cont","trig","event","srcElement","preventDefault","returnValue","stopPropagation","cancelBubble","_off","events","init","detachEvent","removeEventListener","on","off","binding","parts","String","trigger","addEvent","E","H","support","pushState","entries","settings","_path","loc","pathname","search","hash","_isValid","exts","extensions","_reset","history","_process","prev","title","routes","uri","run","pushstate","popstate","partials","replaceState","go","each","l","action","metaKey","globalRequest","begin","sendEvents","successEvents","errorEvents","completeEvents","targets","anim","xhr","filters","num","Number","any","route","total","k","y","ran","negate","eq","full","query","segments","curr","addFilter","current","_addRule","callback","watch","_run","size","screen","_eq","_exec","sz","mn","min","mx","ex","fontFamily","getPropertyValue","parseFloat","sets","reset","down","up","distance","travel","esc","reg","pair","partial","single","tags","helpers","is","not","isEmpty","empty","notEmpty","views","_isEmpty","_render","temp","depth","tag","m","helper","exists","o","_parse","inner","cond","help","meth","sec","agg","arg","rv","_parseArgs","isObject",".","#","##","isPlainObject","item","$key","helps","view","render","$pause","$resume","template","addHelper","addPartial","addView","specialElHandlers","OPTION","fromEl","toEl","INPUT","hasAttribute","TEXTAREA","newValue","nodeValue","_morphAttrs","fromNode","toNode","attrName","attrValue","attrs","foundAttrs","specified","_moveChildren","curChild","nextChild","savedEls","unmatchedEls","removeNodeHelper","node","nestedInSavedEl","walkDiscardedChildNodes","removeNode","alreadyVisited","morphEl","tagName","curToNodeId","fromNextSibling","toNextSibling","savedEl","unmatchedEl","curToNodeChild","curFromNodeChild","outer","curFromNodeId","curFromNodeType","isCompatible","specialElHandler","morphedNode","savedElId","A","Get","copy","setRef","setVar","toArray","add","addClass","append","appendTo","clone","closest","contents","r","find","first","get","hasClass","hide","insertAfter","last","next","parents","position","prependTo","removeAttr","removeClass","replaceWith","serialize","show","toggle","toggleClass","wrapInner","welcome.todo","todo","label","done","$root"],"mappings":"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","file":"script.min.js","sourcesContent":["// Wee (weepower.com)\n// Licensed under Apache 2 (http://www.apache.org/licenses/LICENSE-2.0)\n// DO NOT MODIFY\n\n/* jshint maxdepth: 4, maxparams: 6 */\n\n(function(N, U) {\n\t'use strict';\n\n\tvar web = typeof window != 'undefined',\n\t\tW = (function() {\n\t\t\tvar D = web ? document : {},\n\t\t\t\tstore = {},\n\t\t\t\tobserve = {},\n\t\t\t\trefs = {},\n\t\t\t\tenv,\n\t\t\t\trange,\n\n\t\t\t\t/**\n\t\t\t\t * Determine data storage root and key\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t * @param {object} obj\n\t\t\t\t * @param {string} key\n\t\t\t\t * @param {boolean} [create=false]\n\t\t\t\t * @returns {Array} value\n\t\t\t\t */\n\t\t\t\t_storage = function(obj, key, create) {\n\t\t\t\t\tvar data = obj;\n\n\t\t\t\t\tif (key) {\n\t\t\t\t\t\tvar segs = key.split('.');\n\t\t\t\t\t\tkey = segs.pop();\n\n\t\t\t\t\t\tsegs.forEach(function(key) {\n\t\t\t\t\t\t\tdata = data.hasOwnProperty(key) ?\n\t\t\t\t\t\t\t\tdata[key] :\n\t\t\t\t\t\t\t\t(create ? data[key] = {} : []);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\treturn [data, key, _copy(data[key])];\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Set global variable\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t */\n\t\t\t\t_set = function(obj, obs, key, val, options) {\n\t\t\t\t\tvar stored = _storage(obj, key, true),\n\t\t\t\t\t\tdata = _val(val, options);\n\n\t\t\t\t\tstored[0][stored[1]] = data;\n\n\t\t\t\t\t_trigger(obj, obs, key, stored[2], data, 'set');\n\n\t\t\t\t\treturn data;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Get global variable\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t */\n\t\t\t\t_get = function(obj, obs, key, fallback, set, options) {\n\t\t\t\t\tvar stored = _storage(obj, key),\n\t\t\t\t\t\tdata = stored[0];\n\n\t\t\t\t\tif (key) {\n\t\t\t\t\t\tif (data.hasOwnProperty(stored[1])) {\n\t\t\t\t\t\t\treturn data[stored[1]];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (fallback !== U) {\n\t\t\t\t\t\t\treturn set ?\n\t\t\t\t\t\t\t\t_set(obj, obs, key, fallback, options) :\n\t\t\t\t\t\t\t\t_val(fallback, options);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn data;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Check if storage criteria is set\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t */\n\t\t\t\t_has = function(obj, key, val) {\n\t\t\t\t\tvar data = _storage(obj, key),\n\t\t\t\t\t\tresp = data[0][data[1]];\n\n\t\t\t\t\tif (val !== U) {\n\t\t\t\t\t\tif (W.$isObject(resp)) {\n\t\t\t\t\t\t\treturn resp.hasOwnProperty(val);\n\t\t\t\t\t\t} else if (Array.isArray(resp)) {\n\t\t\t\t\t\t\treturn resp.indexOf(val) > -1;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn resp === val;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn resp !== U;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Push or concatenate values into global array\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t */\n\t\t\t\t_add = function(type, obj, obs, key, val, prepend) {\n\t\t\t\t\tvar stored = _storage(obj, key, true),\n\t\t\t\t\t\troot = stored[0],\n\t\t\t\t\t\tseg = stored[1];\n\n\t\t\t\t\troot[seg] = root[seg] || [];\n\n\t\t\t\t\tif (type == 1) {\n\t\t\t\t\t\troot[seg] = prepend ?\n\t\t\t\t\t\t\tval.concat(root[seg]) :\n\t\t\t\t\t\t\troot[seg].concat(val);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprepend ?\n\t\t\t\t\t\t\troot[seg].unshift(val) :\n\t\t\t\t\t\t\troot[seg].push(val);\n\t\t\t\t\t}\n\n\t\t\t\t\t_trigger(obj, obs, key, stored[2], root[seg],\n\t\t\t\t\t\ttype == 1 ? 'concat' : 'push');\n\n\t\t\t\t\treturn root[seg];\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Extend object into into global storage\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t */\n\t\t\t\t_merge = function(obj, obs, key, val) {\n\t\t\t\t\treturn _set(obj, obs, key,\n\t\t\t\t\t\tW.$extend(true, {}, _get(obj, obs, key, {}), val));\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Remove key or value from global array\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t */\n\t\t\t\t_drop = function(obj, obs, key, val) {\n\t\t\t\t\tvar stored = _storage(obj, key),\n\t\t\t\t\t\troot = stored[0],\n\t\t\t\t\t\tseg = stored[1],\n\t\t\t\t\t\tresp = root[seg];\n\n\t\t\t\t\tif (val !== U) {\n\t\t\t\t\t\tif (resp !== U) {\n\t\t\t\t\t\t\tif (W.$isObject(resp)) {\n\t\t\t\t\t\t\t\tdelete root[key];\n\t\t\t\t\t\t\t} else if (typeof resp == 'string' && resp === val) {\n\t\t\t\t\t\t\t\tdelete root[seg];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvar i = resp.indexOf(val) > -1;\n\n\t\t\t\t\t\t\t\tif (i > -1) {\n\t\t\t\t\t\t\t\t\tresp.splice(i, 1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tisNaN(seg) ?\n\t\t\t\t\t\t\tdelete root[seg] :\n\t\t\t\t\t\t\troot.splice(seg, 1);\n\t\t\t\t\t}\n\n\t\t\t\t\t_trigger(obj, obs, key, stored[2], root[seg], 'drop');\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Attach callback to data storage change\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t */\n\t\t\t\t_observe = function(obs, key, fn, options) {\n\t\t\t\t\toptions = options || {};\n\t\t\t\t\toptions.fn = fn;\n\n\t\t\t\t\tobs[key] = obs[key] || [];\n\t\t\t\t\tobs[key].push(options);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Fire callback from data storage change\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t */\n\t\t\t\t_trigger = function(obj, obs, key, orig, upd, type) {\n\t\t\t\t\tif (Object.keys(obs).length && ! _equals(upd, orig)) {\n\t\t\t\t\t\tvar arr = [],\n\t\t\t\t\t\t\topts = key.split('.').map(function(seg) {\n\t\t\t\t\t\t\t\tarr.push(seg);\n\t\t\t\t\t\t\t\treturn arr.join('.');\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\tfor (var val in obs) {\n\t\t\t\t\t\t\tif (opts.indexOf(val) > -1 || val == '*') {\n\t\t\t\t\t\t\t\tvar data = val == '*' ? obj : upd;\n\n\t\t\t\t\t\t\t\tobs[val].forEach(function(el, i) {\n\t\t\t\t\t\t\t\t\tif (val === key || val == '*' || el.recursive) {\n\t\t\t\t\t\t\t\t\t\tif (! el.value || _equals(el.value, data)) {\n\t\t\t\t\t\t\t\t\t\t\tvar args = [data, type];\n\n\t\t\t\t\t\t\t\t\t\t\tif (el.diff) {\n\t\t\t\t\t\t\t\t\t\t\t\targs.push(_diff(orig, data));\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tW.$exec(el.fn, {\n\t\t\t\t\t\t\t\t\t\t\t\targs: args\n\t\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\t\tif (el.once) {\n\t\t\t\t\t\t\t\t\t\t\t\tobs[val].splice(i, 1);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Copy value to a new instance\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t * @param {*} val\n\t\t\t\t * @returns {*}\n\t\t\t\t */\n\t\t\t\t_copy = function(val) {\n\t\t\t\t\tvar type = W.$type(val);\n\n\t\t\t\t\tif (type == 'object') {\n\t\t\t\t\t\tval = _extend({}, val, true);\n\t\t\t\t\t} else if (type == 'array') {\n\t\t\t\t\t\tval = val.slice(0);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn val;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Check if a node contains another node\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t * @param {HTMLElement} source\n\t\t\t\t * @param {HTMLElement} target\n\t\t\t\t * @returns {boolean} match\n\t\t\t\t */\n\t\t\t\t_contains = function(source, target) {\n\t\t\t\t\treturn (source === D ? W._html : source)\n\t\t\t\t\t\t.contains(target);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Extend target object with source object(s)\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t * @param {object} target\n\t\t\t\t * @param {object} source\n\t\t\t\t * @param {boolean} [deep=false]\n\t\t\t\t * @returns object\n\t\t\t\t */\n\t\t\t\t_extend = function(target, object, deep) {\n\t\t\t\t\tif (object) {\n\t\t\t\t\t\tfor (var key in object) {\n\t\t\t\t\t\t\tvar src = object[key],\n\t\t\t\t\t\t\t\ttype = W.$type(src);\n\n\t\t\t\t\t\t\tif (deep && type == 'object') {\n\t\t\t\t\t\t\t\ttarget[key] = _extend(target[key] || {}, src, deep);\n\t\t\t\t\t\t\t} else if (src !== U) {\n\t\t\t\t\t\t\t\ttarget[key] = type == 'array' ? src.slice(0) : src;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn target;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Compare two values for equality\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t * @param {*} a\n\t\t\t\t * @param {*} b\n\t\t\t\t * @returns {boolean}\n\t\t\t\t */\n\t\t\t\t_equals = function(a, b) {\n\t\t\t\t\tif (a === b) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar aType = W.$type(a);\n\n\t\t\t\t\tif (aType != W.$type(b)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (aType == 'array') {\n\t\t\t\t\t\treturn _arrEquals(a, b);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (aType == 'object') {\n\t\t\t\t\t\treturn _objEquals(a, b);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (aType == 'date') {\n\t\t\t\t\t\treturn +a == +b; // jscs:ignore\n\t\t\t\t\t}\n\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Compare two arrays for equality\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t * @param {array} a\n\t\t\t\t * @param {array} b\n\t\t\t\t * @returns {boolean}\n\t\t\t\t */\n\t\t\t\t_arrEquals = function(a, b) {\n\t\t\t\t\treturn a.length == b.length &&\n\t\t\t\t\t\ta.every(function(el, i) {\n\t\t\t\t\t\t\treturn _equals(el, b[i]);\n\t\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Compare two objects for equality\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t * @param {object} a\n\t\t\t\t * @param {object} b\n\t\t\t\t * @returns {boolean}\n\t\t\t\t */\n\t\t\t\t_objEquals = function(a, b) {\n\t\t\t\t\tvar aKeys = Object.keys(a);\n\n\t\t\t\t\treturn _arrEquals(aKeys.sort(), Object.keys(b).sort()) &&\n\t\t\t\t\t\taKeys.every(function(i) {\n\t\t\t\t\t\t\treturn _equals(a[i], b[i]);\n\t\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Generate a delta from two objects\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t * @param {object} a - original object\n\t\t\t\t * @param {object} b - updated object\n\t\t\t\t * @returns {object}\n\t\t\t\t */\n\t\t\t\t_diff = function(a, b) {\n\t\t\t\t\tif (! (W.$isObject(a) || W.$isObject(b))) {\n\t\t\t\t\t\tvar type = 'u';\n\n\t\t\t\t\t\tif (_equals(a, b)) {\n\t\t\t\t\t\t\ttype = '-';\n\t\t\t\t\t\t} else if (a === U) {\n\t\t\t\t\t\t\ttype = 'c';\n\t\t\t\t\t\t} else if (b === U) {\n\t\t\t\t\t\t\ttype = 'd';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tafter: b,\n\t\t\t\t\t\t\tbefore: a,\n\t\t\t\t\t\t\ttype: type\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tvar diff = {};\n\n\t\t\t\t\tObject.keys(a).forEach(function(key) {\n\t\t\t\t\t\tdiff[key] = _diff(a[key], b[key]);\n\t\t\t\t\t});\n\n\t\t\t\t\tObject.keys(b).forEach(function(key) {\n\t\t\t\t\t\tif (! diff[key]) {\n\t\t\t\t\t\t\tdiff[key] = _diff(U, b[key]);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\treturn diff;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Get value from function or directly\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t * @param {*} val\n\t\t\t\t * @param {object} [options]\n\t\t\t\t * @returns {*}\n\t\t\t\t */\n\t\t\t\t_val = function(val, options) {\n\t\t\t\t\treturn W._canExec(val) ?\n\t\t\t\t\t\tW.$exec(val, options) :\n\t\t\t\t\t\tval;\n\t\t\t\t};\n\n\t\t\treturn {\n\t\t\t\t_$: N.WeeAlias || '$',\n\t\t\t\t_body: D.body,\n\t\t\t\t_doc: D,\n\t\t\t\t_html: D.documentElement,\n\t\t\t\t_legacy: D.addEventListener === U,\n\t\t\t\t_slice: [].slice,\n\t\t\t\t_win: N,\n\t\t\t\tfn: {\n\t\t\t\t\t/**\n\t\t\t\t\t * Create a namespaced controller\n\t\t\t\t\t *\n\t\t\t\t\t * @param {string} name\n\t\t\t\t\t * @param {object} pub - public methods and properties\n\t\t\t\t\t * @param {object} [priv] - private methods and properties\n\t\t\t\t\t */\n\t\t\t\t\tmake: function(name, pub, priv) {\n\t\t\t\t\t\tW.fn[name] = W._make(name, pub, priv);\n\t\t\t\t\t\tW[name] = new W.fn[name]();\n\n\t\t\t\t\t\t// Execute constructors\n\t\t\t\t\t\tif (W[name].$private._construct !== U) {\n\t\t\t\t\t\t\tW[name].$private._construct();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (W[name]._construct !== U) {\n\t\t\t\t\t\t\tW[name]._construct();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Extend controller with additional methods and properties\n\t\t\t\t\t *\n\t\t\t\t\t * @param {(object|string)} a - method name or core methods\n\t\t\t\t\t * @param {object} [b] - public methods and properties\n\t\t\t\t\t * @param {object} [c] - private methods and properties\n\t\t\t\t\t */\n\t\t\t\t\textend: function(a, b, c) {\n\t\t\t\t\t\tif (W.$isObject(a)) {\n\t\t\t\t\t\t\t// Merge into the global object\n\t\t\t\t\t\t\t_extend(W, a);\n\t\t\t\t\t\t} else if (W.hasOwnProperty(a)) {\n\t\t\t\t\t\t\t// Merge the objects else create the controller\n\t\t\t\t\t\t\tif (c) {\n\t\t\t\t\t\t\t\tb.$private = c;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t_extend(W[a], b, true);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.make(a, b, c);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Get matches to specified selector\n\t\t\t\t *\n\t\t\t\t * @param {($|HTMLElement|string)} selector\n\t\t\t\t * @param {($|HTMLElement|string)} [context=document]\n\t\t\t\t * @returns {Array} elements\n\t\t\t\t */\n\t\t\t\t$: function(selector, context) {\n\t\t\t\t\tvar el = null,\n\t\t\t\t\t\tref = [];\n\n\t\t\t\t\tif (typeof selector != 'string') {\n\t\t\t\t\t\tel = selector;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (selector == 'window') {\n\t\t\t\t\t\t\treturn [N];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (selector == 'document') {\n\t\t\t\t\t\t\treturn [D];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Return nothing if context doesn't exist\n\t\t\t\t\t\tcontext = context !== U ? W.$(context)[0] : D;\n\n\t\t\t\t\t\tif (! context) {\n\t\t\t\t\t\t\treturn ref;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Check for pre-cached elements\n\t\t\t\t\t\tif (selector.indexOf('ref:') > -1) {\n\t\t\t\t\t\t\tvar split = selector.split(',').filter(function(sel) {\n\t\t\t\t\t\t\t\tsel = sel.trim();\n\n\t\t\t\t\t\t\t\tif (sel.slice(0, 4) == 'ref:') {\n\t\t\t\t\t\t\t\t\tsel = sel.slice(4);\n\t\t\t\t\t\t\t\t\tsel = refs[sel];\n\n\t\t\t\t\t\t\t\t\t// Apply context filter if not document\n\t\t\t\t\t\t\t\t\tif (sel) {\n\t\t\t\t\t\t\t\t\t\tref = ref.concat(\n\t\t\t\t\t\t\t\t\t\t\tcontext === D ?\n\t\t\t\t\t\t\t\t\t\t\t\tsel :\n\t\t\t\t\t\t\t\t\t\t\t\tsel.filter(function(el) {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn _contains(context, el);\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (split.length) {\n\t\t\t\t\t\t\t\tselector = split.join(',');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn ref;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Use third-party selector engine if defined\n\t\t\t\t\t\tif (N.WeeSelector !== U) {\n\t\t\t\t\t\t\tel = N.WeeSelector(selector, context);\n\t\t\t\t\t\t} else if (/^[#.]?[\\w-]+$/.test(selector)) {\n\t\t\t\t\t\t\tvar pre = selector[0];\n\n\t\t\t\t\t\t\tif (pre == '#') {\n\t\t\t\t\t\t\t\tel = D.getElementById(selector.substr(1));\n\t\t\t\t\t\t\t} else if (pre == '.') {\n\t\t\t\t\t\t\t\tel = W._legacy ?\n\t\t\t\t\t\t\t\t\tcontext.querySelectorAll(selector) :\n\t\t\t\t\t\t\t\t\tcontext.getElementsByClassName(selector.substr(1));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tel = context.getElementsByTagName(selector);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tel = context.querySelectorAll(selector);\n\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\tel = W.$parseHTML(selector).childNodes;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (! el) {\n\t\t\t\t\t\tel = ref;\n\t\t\t\t\t} else if (el.nodeType !== U || el === N) {\n\t\t\t\t\t\tel = [el];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tel = W._slice.call(el);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Join references if available\n\t\t\t\t\treturn ref.length ? el.concat(ref) : el;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Create document fragment from an HTML string\n\t\t\t\t *\n\t\t\t\t * @param {string} html\n\t\t\t\t * @returns {HTMLElement} element\n\t\t\t\t */\n\t\t\t\t$parseHTML: function(html) {\n\t\t\t\t\tvar el;\n\n\t\t\t\t\tif (! range && ! W._legacy) {\n\t\t\t\t\t\trange = D.createRange();\n\t\t\t\t\t\trange.selectNode(W._body);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (range && range.createContextualFragment) {\n\t\t\t\t\t\tel = range.createContextualFragment(html);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar div = D.createElement('div'),\n\t\t\t\t\t\t\tchild;\n\t\t\t\t\t\tel = D.createDocumentFragment();\n\n\t\t\t\t\t\tdiv.innerHTML = html;\n\n\t\t\t\t\t\twhile (child = div.firstChild) {\n\t\t\t\t\t\t\tel.appendChild(child);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn el;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Set global variable\n\t\t\t\t *\n\t\t\t\t * @param {string} key\n\t\t\t\t * @param {*} val\n\t\t\t\t * @param {object} [options] - applicable if value is a callback\n\t\t\t\t * @param {Array} [options.args]\n\t\t\t\t * @param {object} [options.scope]\n\t\t\t\t * @returns {*} value\n\t\t\t\t */\n\t\t\t\t$set: function(key, val, options) {\n\t\t\t\t\treturn _set(store, observe, key, val, options);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Get global variable\n\t\t\t\t *\n\t\t\t\t * @param {string} key\n\t\t\t\t * @param {*} [fallback]\n\t\t\t\t * @param {boolean} [set=false]\n\t\t\t\t * @param {object} [options] - available for fallback functions\n\t\t\t\t * @param {Array} [options.args]\n\t\t\t\t * @param {object} [options.scope]\n\t\t\t\t * @returns {*} value\n\t\t\t\t */\n\t\t\t\t$get: function(key, fallback, set, options) {\n\t\t\t\t\treturn _get(store, observe, key, fallback, set, options);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Push value into global array\n\t\t\t\t *\n\t\t\t\t * @param {string} key\n\t\t\t\t * @param {*} value\n\t\t\t\t * @param {boolean} [prepend=false]\n\t\t\t\t * @returns {Array|object} value\n\t\t\t\t */\n\t\t\t\t$push: function(key, val, prepend) {\n\t\t\t\t\treturn _add(2, store, observe, key, val, prepend);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Concatenate values into global array\n\t\t\t\t *\n\t\t\t\t * @param {string} key\n\t\t\t\t * @param {*} value\n\t\t\t\t * @param {boolean} [prepend=false]\n\t\t\t\t * @returns {Array|object} value\n\t\t\t\t */\n\t\t\t\t$concat: function(key, val, prepend) {\n\t\t\t\t\treturn _add(1, store, observe, key, val, prepend);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Extend object into controller storage\n\t\t\t\t *\n\t\t\t\t * @returns {Array}\n\t\t\t\t */\n\t\t\t\t$merge: function(key, obj) {\n\t\t\t\t\treturn _merge(store, observe, key, obj);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Check if storage criteria is set\n\t\t\t\t *\n\t\t\t\t * @param {string} key\n\t\t\t\t * @param {*} [value]\n\t\t\t\t * @returns {boolean}\n\t\t\t\t */\n\t\t\t\t$has: function(key, val) {\n\t\t\t\t\treturn _has(store, key, val);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Remove key or value from global array\n\t\t\t\t *\n\t\t\t\t * @param {string} key\n\t\t\t\t * @param {*} [value]\n\t\t\t\t * @returns {Array|object} value\n\t\t\t\t */\n\t\t\t\t$drop: function(key, val) {\n\t\t\t\t\treturn _drop(store, observe, key, val);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Attach callback to data storage change\n\t\t\t\t *\n\t\t\t\t * @param {string} key\n\t\t\t\t * @param {function} fn\n\t\t\t\t * @param {object} [options]\n\t\t\t\t * @param {boolean} [options.diff=false]\n\t\t\t\t * @param {boolean} [options.once=false]\n\t\t\t\t * @param {boolean} [options.recursive=false]\n\t\t\t\t * @param {*} [options.value]\n\t\t\t\t */\n\t\t\t\t$observe: function(key, fn, options) {\n\t\t\t\t\t_observe(observe, key, fn, options);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Remove callback from data storage change\n\t\t\t\t *\n\t\t\t\t * @param {string} key\n\t\t\t\t */\n\t\t\t\t$unobserve: function(key) {\n\t\t\t\t\tdelete observe[key];\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Execute any matching observed callbacks\n\t\t\t\t *\n\t\t\t\t * @param {string} key\n\t\t\t\t */\n\t\t\t\t$trigger: function(key) {\n\t\t\t\t\t_trigger(store, observe, key);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Execute function for each matching selection\n\t\t\t\t *\n\t\t\t\t * @param {($|Array|HTMLElement|string)} target\n\t\t\t\t * @param {function} fn\n\t\t\t\t * @param {object} [options]\n\t\t\t\t * @param {Array} [options.args]\n\t\t\t\t * @param {($|HTMLElement|string)} [options.context=document]\n\t\t\t\t * @param {boolean} [options.reverse=false]\n\t\t\t\t * @param {object} [options.scope]\n\t\t\t\t */\n\t\t\t\t$each: function(target, fn, options) {\n\t\t\t\t\tif (target) {\n\t\t\t\t\t\tvar conf = _extend({\n\t\t\t\t\t\t\t\targs: []\n\t\t\t\t\t\t\t}, options),\n\t\t\t\t\t\t\tels = W._selArray(target, conf),\n\t\t\t\t\t\t\ti = 0;\n\n\t\t\t\t\t\tif (conf.reverse && ! els._$) {\n\t\t\t\t\t\t\tels = els.reverse();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor (; i < els.length; i++) {\n\t\t\t\t\t\t\tvar el = els[i],\n\t\t\t\t\t\t\t\tval = W.$exec(fn, {\n\t\t\t\t\t\t\t\t\targs: [el, i].concat(conf.args),\n\t\t\t\t\t\t\t\t\tscope: conf.scope || el\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (val === false) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Get current environment or set current environment against\n\t\t\t\t * specified object\n\t\t\t\t *\n\t\t\t\t * @param {object} [rules]\n\t\t\t\t * @param {string} [fallback=local]\n\t\t\t\t * @returns {string} environment\n\t\t\t\t */\n\t\t\t\t$env: function(rules, fallback) {\n\t\t\t\t\tvar fb = fallback || 'local';\n\n\t\t\t\t\tif (rules) {\n\t\t\t\t\t\tvar host = location.hostname;\n\n\t\t\t\t\t\tfor (var rule in rules) {\n\t\t\t\t\t\t\tvar val = rules[rule];\n\n\t\t\t\t\t\t\tif (val == host || _val(val, {\n\t\t\t\t\t\t\t\t\targs: host\n\t\t\t\t\t\t\t\t}) === true) {\n\t\t\t\t\t\t\t\tenv = rule;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (! env) {\n\t\t\t\t\t\t\tenv = fb;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn env || fb;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Determine if the environment is secured\n\t\t\t\t *\n\t\t\t\t * @returns {boolean} secure\n\t\t\t\t */\n\t\t\t\t$envSecure: function() {\n\t\t\t\t\treturn location.protocol == 'https:';\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Execute specified function or controller method\n\t\t\t\t *\n\t\t\t\t * @param {function} fn\n\t\t\t\t * @param {object} [options]\n\t\t\t\t * @param {Array} [options.args]\n\t\t\t\t * @param {object} [options.scope]\n\t\t\t\t * @returns {*} [response]\n\t\t\t\t */\n\t\t\t\t$exec: function(fn, options) {\n\t\t\t\t\toptions = options || {};\n\n\t\t\t\t\tvar fns = W.$toArray(fn),\n\t\t\t\t\t\tlen = fns.length,\n\t\t\t\t\t\ti = 0;\n\n\t\t\t\t\tfor (; i < len; i++) {\n\t\t\t\t\t\tvar conf = _extend({\n\t\t\t\t\t\t\targs: []\n\t\t\t\t\t\t}, options || {});\n\t\t\t\t\t\tfn = fns[i];\n\n\t\t\t\t\t\tif (typeof fn == 'string') {\n\t\t\t\t\t\t\tvar segs = fn.split(':');\n\n\t\t\t\t\t\t\tif (W[segs[0]]) {\n\t\t\t\t\t\t\t\tfn = W[segs[0]][\n\t\t\t\t\t\t\t\t\tsegs.length > 1 ?\n\t\t\t\t\t\t\t\t\t\tsegs[1] :\n\t\t\t\t\t\t\t\t\t\t'init'\n\t\t\t\t\t\t\t\t\t];\n\n\t\t\t\t\t\t\t\tif (! conf.scope) {\n\t\t\t\t\t\t\t\t\tconf.scope = W[segs[0]];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (W.$isFunction(fn)) {\n\t\t\t\t\t\t\tvar response = fn.apply(\n\t\t\t\t\t\t\t\tconf.scope,\n\t\t\t\t\t\t\t\tW.$toArray(conf.args)\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tif (len === 1) {\n\t\t\t\t\t\t\t\treturn response;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Extend target object with source object(s)\n\t\t\t\t *\n\t\t\t\t * @param {(boolean|object)} - extend nested properties else target object\n\t\t\t\t * @param {object} - target object\n\t\t\t\t * @param {...object} - merged objects\n\t\t\t\t * @returns {object}\n\t\t\t\t */\n\t\t\t\t$extend: function(deep) {\n\t\t\t\t\tvar bool = typeof deep == 'boolean',\n\t\t\t\t\t\targs = W._slice.call(arguments).slice(bool ? 1 : 0),\n\t\t\t\t\t\ttarget = args[0] || {};\n\t\t\t\t\tdeep = bool ? deep : false;\n\n\t\t\t\t\targs.slice(1).forEach(function(source) {\n\t\t\t\t\t\ttarget = _extend(target, source, deep);\n\t\t\t\t\t});\n\n\t\t\t\t\treturn target;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Generate a delta from two objects\n\t\t\t\t *\n\t\t\t\t * @param {object} a\n\t\t\t\t * @param {object} b\n\t\t\t\t * @returns {object}\n\t\t\t\t */\n\t\t\t\t$diff: function(a, b) {\n\t\t\t\t\treturn _diff(a, b);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Compare two values for equality\n\t\t\t\t *\n\t\t\t\t * @param {*} a\n\t\t\t\t * @param {*} b\n\t\t\t\t * @returns {boolean}\n\t\t\t\t */\n\t\t\t\t$equals: function(a, b) {\n\t\t\t\t\treturn _equals(a, b);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Determine if value is an array\n\t\t\t\t *\n\t\t\t\t * @param {*} obj\n\t\t\t\t * @returns {boolean}\n\t\t\t\t */\n\t\t\t\t$isArray: function(obj) {\n\t\t\t\t\treturn Array.isArray(obj);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Determine if value is a function\n\t\t\t\t *\n\t\t\t\t * @param {*} obj\n\t\t\t\t * @returns {boolean}\n\t\t\t\t */\n\t\t\t\t$isFunction: function(obj) {\n\t\t\t\t\treturn W.$type(obj) == 'function';\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Determine if value is an object\n\t\t\t\t *\n\t\t\t\t * @param {*} obj\n\t\t\t\t * @returns {boolean}\n\t\t\t\t */\n\t\t\t\t$isObject: function(obj) {\n\t\t\t\t\treturn W.$type(obj) == 'object';\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Determine if value is a string\n\t\t\t\t *\n\t\t\t\t * @param {*} obj\n\t\t\t\t * @returns {boolean}\n\t\t\t\t */\n\t\t\t\t$isString: function(obj) {\n\t\t\t\t\treturn typeof obj == 'string';\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Translate items in an array|selection to new array\n\t\t\t\t *\n\t\t\t\t * @param {($|Array|HTMLElement|string)} target - array or selector\n\t\t\t\t * @param {function} fn\n\t\t\t\t * @param {object} [options]\n\t\t\t\t * @param {Array} [options.args]\n\t\t\t\t * @param {object} [options.scope]\n\t\t\t\t * @returns {Array}\n\t\t\t\t */\n\t\t\t\t$map: function(target, fn, options) {\n\t\t\t\t\tif (! Array.isArray(target)) {\n\t\t\t\t\t\ttarget = W._selArray(target, options);\n\t\t\t\t\t}\n\n\t\t\t\t\tvar conf = _extend({\n\t\t\t\t\t\t\targs: []\n\t\t\t\t\t\t}, options),\n\t\t\t\t\t\tres = [],\n\t\t\t\t\t\ti = 0;\n\n\t\t\t\t\tfor (; i < target.length; i++) {\n\t\t\t\t\t\tvar el = target[i],\n\t\t\t\t\t\t\tval = W.$exec(fn, {\n\t\t\t\t\t\t\t\targs: [el, i].concat(conf.args),\n\t\t\t\t\t\t\t\tscope: conf.scope || el\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (val !== false) {\n\t\t\t\t\t\t\tres.push(val);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn res;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Serialize object\n\t\t\t\t *\n\t\t\t\t * @param {object} obj\n\t\t\t\t * @returns {string} value\n\t\t\t\t */\n\t\t\t\t$serialize: function(obj) {\n\t\t\t\t\tvar arr = [];\n\n\t\t\t\t\tObject.keys(obj || {}).forEach(function(key) {\n\t\t\t\t\t\tvar val = obj[key];\n\t\t\t\t\t\tkey = encodeURIComponent(key);\n\n\t\t\t\t\t\tif (typeof val != 'object') {\n\t\t\t\t\t\t\tarr.push(key + '=' + encodeURIComponent(val));\n\t\t\t\t\t\t} else if (Array.isArray(val)) {\n\t\t\t\t\t\t\tval.forEach(function(el) {\n\t\t\t\t\t\t\t\tarr.push(key + '[]=' + encodeURIComponent(el));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\treturn arr.length ? arr.join('&').replace(/%20/g, '+') : '';\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Unserialize string into object\n\t\t\t\t *\n\t\t\t\t * @param {string} str\n\t\t\t\t * @returns {object} value\n\t\t\t\t */\n\t\t\t\t$unserialize: function(str) {\n\t\t\t\t\tvar obj = {};\n\n\t\t\t\t\tdecodeURIComponent(str)\n\t\t\t\t\t\t.replace(/^\\?/, '')\n\t\t\t\t\t\t.split('&').forEach(function(el) {\n\t\t\t\t\t\t\tvar split = el.split('='),\n\t\t\t\t\t\t\t\tkey = split[0],\n\t\t\t\t\t\t\t\tval = split[1] || '';\n\n\t\t\t\t\t\t\tif (obj[key]) {\n\t\t\t\t\t\t\t\tobj[key] = W.$toArray(obj[key]);\n\t\t\t\t\t\t\t\tobj[key].push(val);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tobj[key] = val;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\treturn obj;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Add ref elements to datastore\n\t\t\t\t *\n\t\t\t\t * @param {(HTMLElement|string)} [context=document]\n\t\t\t\t */\n\t\t\t\t$setRef: function(context) {\n\t\t\t\t\tcontext = context ? W.$(context)[0] : D;\n\n\t\t\t\t\t// Clear existing refs if reset\n\t\t\t\t\tObject.keys(refs).forEach(function(val) {\n\t\t\t\t\t\trefs[val] = refs[val].filter(function(el) {\n\t\t\t\t\t\t\treturn ! (\n\t\t\t\t\t\t\t\t! _contains(D, el) ||\n\t\t\t\t\t\t\t\t(_contains(context, el) && context !== el)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\t// Set refs from DOM\n\t\t\t\t\tW.$each('[data-ref]', function(el) {\n\t\t\t\t\t\tel.getAttribute('data-ref').split(/\\s+/)\n\t\t\t\t\t\t\t.forEach(function(val) {\n\t\t\t\t\t\t\t\trefs[val] = refs[val] || [];\n\t\t\t\t\t\t\t\trefs[val].push(el);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}, {\n\t\t\t\t\t\tcontext: context\n\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Add metadata variables to datastore\n\t\t\t\t *\n\t\t\t\t * @param {(HTMLElement|string)} [context=document]\n\t\t\t\t */\n\t\t\t\t$setVar: function(context) {\n\t\t\t\t\tW.$each('[data-set]', function(el) {\n\t\t\t\t\t\tvar key = el.getAttribute('data-set'),\n\t\t\t\t\t\t\tval = W._castString(el.getAttribute('data-value'));\n\n\t\t\t\t\t\tkey.slice(-2) == '[]' ?\n\t\t\t\t\t\t\t_add(2, store, observe, key.slice(0, -2), val) :\n\t\t\t\t\t\t\t_set(store, observe, key, val);\n\t\t\t\t\t}, {\n\t\t\t\t\t\tcontext: context\n\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Cast value to array if it isn't one\n\t\t\t\t *\n\t\t\t\t * @param {*} val\n\t\t\t\t * @returns {Array} value\n\t\t\t\t */\n\t\t\t\t$toArray: function(val) {\n\t\t\t\t\treturn val !== U ? (Array.isArray(val) ? val : [val]) : [];\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Determine the JavaScript type of an object\n\t\t\t\t *\n\t\t\t\t * @param {*} obj\n\t\t\t\t * @returns string\n\t\t\t\t */\n\t\t\t\t$type: function(obj) {\n\t\t\t\t\treturn obj === U ? 'undefined' :\n\t\t\t\t\t\tObject.prototype.toString.call(obj)\n\t\t\t\t\t\t\t.replace(/^\\[object (.+)]$/, '$1')\n\t\t\t\t\t\t\t.toLowerCase();\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Create new array with only unique values from source array\n\t\t\t\t *\n\t\t\t\t * @param {Array} array\n\t\t\t\t * @returns {Array} unique values\n\t\t\t\t */\n\t\t\t\t$unique: function(array) {\n\t\t\t\t\treturn array.reverse().filter(function(el, i, arr) {\n\t\t\t\t\t\treturn arr.indexOf(el, i + 1) < 0;\n\t\t\t\t\t}).reverse();\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Fallback for non-existent chaining\n\t\t\t\t */\n\t\t\t\t$chain: function() {},\n\n\t\t\t\t/**\n\t\t\t\t * Determine if value can be executed as a function\n\t\t\t\t *\n\t\t\t\t * @protected\n\t\t\t\t * @param {*} value\n\t\t\t\t * @returns {boolean} is executable\n\t\t\t\t */\n\t\t\t\t_canExec: function(fn) {\n\t\t\t\t\tif (typeof fn == 'string' && fn.indexOf(':') > -1) {\n\t\t\t\t\t\tvar split = fn.split(':'),\n\t\t\t\t\t\t\tcontroller = W[split[0]],\n\t\t\t\t\t\t\tmethod = split[1];\n\n\t\t\t\t\t\tif (controller && controller[method]) {\n\t\t\t\t\t\t\tfn = controller[method];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn W.$isFunction(fn);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Cast string to most applicable data type\n\t\t\t\t *\n\t\t\t\t * @protected\n\t\t\t\t * @param {*} val\n\t\t\t\t */\n\t\t\t\t_castString: function(val) {\n\t\t\t\t\tif (typeof val == 'string') {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tval = val == 'true' ? true :\n\t\t\t\t\t\t\t\tval == 'false' ? false :\n\t\t\t\t\t\t\t\tval == 'null' ? null :\n\t\t\t\t\t\t\t\tparseInt(val).toString() == val ? parseInt(val) :\n\t\t\t\t\t\t\t\t\t/^(?:\\{[\\w\\W]*}|\\[[\\w\\W]*])$/.test(val) ? JSON.parse(val) :\n\t\t\t\t\t\t\t\t\tval;\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn val;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Extend object storage with object or key -> val\n\t\t\t\t *\n\t\t\t\t * @protected\n\t\t\t\t * @param {object} obj\n\t\t\t\t * @param {(object|string)} a\n\t\t\t\t * @param {*} b\n\t\t\t\t */\n\t\t\t\t_extend: function(obj, a, b) {\n\t\t\t\t\tvar val = a;\n\n\t\t\t\t\tif (typeof a == 'string') {\n\t\t\t\t\t\tval = [];\n\t\t\t\t\t\tval[a] = b;\n\t\t\t\t\t}\n\n\t\t\t\t\t_extend(obj, val);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Convert selection to array\n\t\t\t\t *\n\t\t\t\t * @protected\n\t\t\t\t * @param {($|HTMLElement|string)} selector\n\t\t\t\t * @param {object} [options]\n\t\t\t\t * @param {(HTMLElement|string)} [options.context=document]\n\t\t\t\t * @returns {($|Array)} nodes\n\t\t\t\t */\n\t\t\t\t_selArray: function(selector, options) {\n\t\t\t\t\tif (selector._$) {\n\t\t\t\t\t\treturn selector;\n\t\t\t\t\t}\n\n\t\t\t\t\toptions = options || {};\n\n\t\t\t\t\tvar el = typeof selector == 'string' ?\n\t\t\t\t\t\tW.$(selector, options.context) :\n\t\t\t\t\t\tselector;\n\n\t\t\t\t\treturn W.$toArray(el);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Return a new controller method\n\t\t\t\t *\n\t\t\t\t * @protected\n\t\t\t\t * @returns {Function}\n\t\t\t\t */\n\t\t\t\t_make: function(name, pub, priv, model) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tvar Public = pub || {},\n\t\t\t\t\t\t\tPrivate = priv || {};\n\n\t\t\t\t\t\t// Ensure the current controller is not being extended\n\t\t\t\t\t\tif (name != '_tmp') {\n\t\t\t\t\t\t\tvar store = model || {},\n\t\t\t\t\t\t\t\tobserve = {},\n\t\t\t\t\t\t\t\tcore = {\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Get value from controller storage\n\t\t\t\t\t\t\t\t\t *\n\t\t\t\t\t\t\t\t\t * @returns {*}\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$get: function(key, fallback, set, options) {\n\t\t\t\t\t\t\t\t\t\treturn _get(store, observe, key, fallback, set, options);\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Set value in controller storage\n\t\t\t\t\t\t\t\t\t *\n\t\t\t\t\t\t\t\t\t * @returns {*}\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$set: function(key, val, options) {\n\t\t\t\t\t\t\t\t\t\treturn _set(store, observe, key, val, options);\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Check if storage criteria is set\n\t\t\t\t\t\t\t\t\t *\n\t\t\t\t\t\t\t\t\t * @returns {boolean}\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$has: function(key, val) {\n\t\t\t\t\t\t\t\t\t\treturn _has(store, key, val);\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Push value into controller storage\n\t\t\t\t\t\t\t\t\t *\n\t\t\t\t\t\t\t\t\t * @returns {Array}\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$push: function(key, val, prepend) {\n\t\t\t\t\t\t\t\t\t\treturn _add(2, store, observe, key, val, prepend);\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Concatenate values into controller storage\n\t\t\t\t\t\t\t\t\t *\n\t\t\t\t\t\t\t\t\t * @returns {Array}\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$concat: function(key, val, prepend) {\n\t\t\t\t\t\t\t\t\t\treturn _add(1, store, observe, key, val, prepend);\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Extend object into controller storage\n\t\t\t\t\t\t\t\t\t *\n\t\t\t\t\t\t\t\t\t * @returns {Array}\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$merge: function(key, obj) {\n\t\t\t\t\t\t\t\t\t\treturn _merge(store, observe, key, obj);\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Remove value from controller storage\n\t\t\t\t\t\t\t\t\t *\n\t\t\t\t\t\t\t\t\t * @returns {Array}\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$drop: function(key, val) {\n\t\t\t\t\t\t\t\t\t\treturn _drop(store, observe, key, val);\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Attach callback to data storage change\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$observe: function(key, fn, options) {\n\t\t\t\t\t\t\t\t\t\t_observe(observe, key, fn, options);\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Remove callback from data storage change\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$unobserve: function(key) {\n\t\t\t\t\t\t\t\t\t\tdelete observe[key];\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Attach callback to data storage change\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$trigger: function(key) {\n\t\t\t\t\t\t\t\t\t\t_trigger(store, observe, key);\n\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t * Destroy current controller\n\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t$destroy: function() {\n\t\t\t\t\t\t\t\t\t\tif (Private._destruct) {\n\t\t\t\t\t\t\t\t\t\t\tPrivate._destruct();\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif (Public._destruct) {\n\t\t\t\t\t\t\t\t\t\t\tPublic._destruct();\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tdelete W[name];\n\n\t\t\t\t\t\t\t\t\t\tW.$drop(name);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// Extend public and private objects with data\n\t\t\t\t\t\t\tPublic = _extend(Public, core);\n\t\t\t\t\t\t\tPrivate = _extend(Private, core);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (priv !== false) {\n\t\t\t\t\t\t\t// Clone public and private objects\n\t\t\t\t\t\t\tPublic = _extend({}, Public);\n\t\t\t\t\t\t\tPrivate = _extend({}, Private);\n\n\t\t\t\t\t\t\t// Interface $public and $private\n\t\t\t\t\t\t\tPublic.$private = Private;\n\t\t\t\t\t\t\tPrivate.$public = Public;\n\n\t\t\t\t\t\t\tfor (var fn in Private) {\n\t\t\t\t\t\t\t\tPublic.$private[fn] = Private[fn];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn Public;\n\t\t\t\t\t};\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Execute specified function when document is ready\n\t\t\t\t *\n\t\t\t\t * @param {(Array|function|string)} fn\n\t\t\t\t */\n\t\t\t\tready: function(fn) {\n\t\t\t\t\tD.readyState == 'complete' ?\n\t\t\t\t\t\tW.$exec(fn) :\n\t\t\t\t\t\tW._legacy ?\n\t\t\t\t\t\t\tD.attachEvent('onreadystatechange', function() {\n\t\t\t\t\t\t\t\tif (D.readyState == 'complete') {\n\t\t\t\t\t\t\t\t\tW.$exec(fn);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}) :\n\t\t\t\t\t\t\tD.addEventListener('DOMContentLoaded', function() {\n\t\t\t\t\t\t\t\tW.$exec(fn);\n\t\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t})();\n\n\tN.Wee = W;\n\n\t// Set data variables and bind elements\n\tif (web) {\n\t\tW.$setRef();\n\t\tW.$setVar();\n\t}\n\n\t// AMD setup\n\tif (typeof define == 'function' && define.amd) {\n\t\tdefine('wee', [], function() {\n\t\t\treturn W;\n\t\t});\n\t}\n})(this, undefined);","(function(W) {\n\t'use strict';\n\n\t/**\n\t * Default easing functions\n\t */\n\tvar easings = {\n\t\t\tease: function(t) {\n\t\t\t\treturn t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n\t\t\t},\n\t\t\tlinear: function(t) {\n\t\t\t\treturn t;\n\t\t\t}\n\t\t},\n\t\ttimers = [];\n\n\tW.animate = {\n\t\t/**\n\t\t * Transition an attribute or property value\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {object} values\n\t\t * @param {object} [options]\n\t\t * @param {(Array|function|string)} [options.complete]\n\t\t * @param {number} [options.duration=400]\n\t\t * @param {string} [options.ease='ease']\n\t\t */\n\t\ttween: function(target, values, options) {\n\t\t\tvar conf = W.$extend({\n\t\t\t\t\tduration: 400,\n\t\t\t\t\tease: 'ease'\n\t\t\t\t}, options),\n\t\t\t\tease = easings[conf.ease] || easings.ease;\n\n\t\t\tW.$each(target, function(el) {\n\t\t\t\tfor (var prop in values) {\n\t\t\t\t\tvar target = parseInt(values[prop]),\n\t\t\t\t\t\tscrollTop = prop == 'scrollTop',\n\t\t\t\t\t\tcssValue;\n\n\t\t\t\t\tif (scrollTop) {\n\t\t\t\t\t\tcssValue = Math.max(\n\t\t\t\t\t\t\tW._body.scrollTop,\n\t\t\t\t\t\t\tW._doc.documentElement.scrollTop\n\t\t\t\t\t\t).toString();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcssValue = W._legacy ?\n\t\t\t\t\t\t\tel.currentStyle[prop] :\n\t\t\t\t\t\t\tgetComputedStyle(el, null)[prop];\n\t\t\t\t\t}\n\n\t\t\t\t\tvar\tcss = cssValue !== undefined,\n\t\t\t\t\t\tunit = css && cssValue.slice(-2) == 'px' ? 'px' : '',\n\t\t\t\t\t\tval = parseInt(css ? cssValue : el[prop]),\n\t\t\t\t\t\tsetValue = function(prop, update) {\n\t\t\t\t\t\t\tif (scrollTop) {\n\t\t\t\t\t\t\t\tW._body.scrollTop = update;\n\t\t\t\t\t\t\t\tW._doc.documentElement.scrollTop = update;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcss ?\n\t\t\t\t\t\t\t\t\tel.style[prop] = update + unit :\n\t\t\t\t\t\t\t\t\tel[prop] = update;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tstart = Date.now(),\n\t\t\t\t\t\tfn = (function() {\n\t\t\t\t\t\t\tvar scope = this,\n\t\t\t\t\t\t\t\tdiff = Date.now() - scope.start;\n\n\t\t\t\t\t\t\tif (scope.dist && diff < conf.duration) {\n\t\t\t\t\t\t\t\tsetValue(\n\t\t\t\t\t\t\t\t\tscope.prop,\n\t\t\t\t\t\t\t\t\tscope.val + scope.dist *\n\t\t\t\t\t\t\t\t\t\tease(diff / conf.duration) * scope.dir\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tclearInterval(timers[scope.prop + scope.start]);\n\t\t\t\t\t\t\t\tsetValue(scope.prop, scope.target);\n\n\t\t\t\t\t\t\t\tif (conf.complete) {\n\t\t\t\t\t\t\t\t\tW.$exec(conf.complete);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}).bind({\n\t\t\t\t\t\t\tdir: target > val ? 1 : -1,\n\t\t\t\t\t\t\tdist: Math.abs(target - val),\n\t\t\t\t\t\t\tprop: prop,\n\t\t\t\t\t\t\tstart: start,\n\t\t\t\t\t\t\ttarget: target,\n\t\t\t\t\t\t\tval: val\n\t\t\t\t\t\t});\n\n\t\t\t\t\ttimers[prop + start] = setInterval(fn, 5);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Add additional easing function\n\t\t *\n\t\t * @param {(object|string}} name or easing object\n\t\t * @param {function} [fn]\n\t\t */\n\t\taddEasing: function(name, fn) {\n\t\t\tW._extend(easings, name, fn);\n\t\t}\n\t};\n})(Wee);","(function(W, U) {\n\t'use strict';\n\n\tvar groups = {},\n\t\tloaded = {},\n\t\tindex = 0,\n\t\troot = '',\n\n\t\t/**\n\t\t * Request specific file\n\t\t *\n\t\t * @private\n\t\t * @param {string} path\n\t\t * @param {string} type\n\t\t * @param {object} [conf]\n\t\t * @param {string} [conf.group]\n\t\t * @param {boolean} [conf.async=false]\n\t\t */\n\t\t_load = function(path, type, conf) {\n\t\t\tvar head = W._doc.getElementsByTagName('head')[0],\n\t\t\t\tgroup = conf.group;\n\n\t\t\t// Load file based on extension\n\t\t\tif (type == 'js') {\n\t\t\t\tvar js = W._doc.createElement('script'),\n\t\t\t\t\tfn = function() {\n\t\t\t\t\t\tloaded[js.src] = js;\n\t\t\t\t\t\t_done(group);\n\t\t\t\t\t};\n\n\t\t\t\tif (W._legacy) {\n\t\t\t\t\tjs.onreadystatechange = function() {\n\t\t\t\t\t\tvar rs = js.readyState;\n\n\t\t\t\t\t\tif (rs != 'complete' && rs != 'loaded') {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfn();\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tjs.async = conf.async === true;\n\t\t\t\t\tjs.onload = fn;\n\n\t\t\t\t\tjs.onerror = function() {\n\t\t\t\t\t\t_fail(group);\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tjs.src = path;\n\t\t\t\thead.appendChild(js);\n\t\t\t} else if (type == 'css') {\n\t\t\t\tvar link = W._doc.createElement('link');\n\n\t\t\t\tlink.rel = 'stylesheet';\n\t\t\t\tlink.href = path;\n\n\t\t\t\tif (W._legacy) {\n\t\t\t\t\tindex++;\n\t\t\t\t\tvar id = 'a' + index;\n\t\t\t\t\tlink.id = id;\n\n\t\t\t\t\tlink.attachEvent('onload', function() {\n\t\t\t\t\t\tvar sheets = W._doc.styleSheets,\n\t\t\t\t\t\t\ti = sheets.length,\n\t\t\t\t\t\t\ttext;\n\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\t\t\tvar sheet = sheets[i];\n\n\t\t\t\t\t\t\t\tif (sheet.id == id) {\n\t\t\t\t\t\t\t\t\ttext = sheet.cssText;\n\t\t\t\t\t\t\t\t\t_done(group);\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (e) {}\n\n\t\t\t\t\t\tif (! text) {\n\t\t\t\t\t\t\t_fail(group);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tlink.addEventListener('load', function() {\n\t\t\t\t\t\t_done(group);\n\t\t\t\t\t}, false);\n\n\t\t\t\t\tlink.addEventListener('error', function() {\n\t\t\t\t\t\t_fail(group);\n\t\t\t\t\t}, false);\n\t\t\t\t}\n\n\t\t\t\thead.appendChild(link);\n\t\t\t} else if (type == 'img') {\n\t\t\t\tvar img = new Image();\n\n\t\t\t\timg.onload = function() {\n\t\t\t\t\t_done(group);\n\t\t\t\t};\n\n\t\t\t\timg.onerror = function() {\n\t\t\t\t\t_fail(group);\n\t\t\t\t};\n\n\t\t\t\timg.src = path;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Decrement remaining asset count\n\t\t *\n\t\t * @private\n\t\t * @param {string} group\n\t\t */\n\t\t_done = function(group) {\n\t\t\tgroups[group][0]--;\n\t\t\tW.assets.ready(group, {}, false);\n\t\t},\n\n\t\t/**\n\t\t * Increment failed asset count\n\t\t *\n\t\t * @private\n\t\t * @param {string} group\n\t\t */\n\t\t_fail = function(group) {\n\t\t\tgroups[group][2]++;\n\t\t\t_done(group);\n\t\t};\n\n\tW.assets = {\n\t\t/**\n\t\t * Cache existing CSS and JavaScript assets\n\t\t *\n\t\t * @constructor\n\t\t */\n\t\t_construct: function() {\n\t\t\tW.$each('link[rel=\"stylesheet\"], script[src]', function(el) {\n\t\t\t\tloaded[el.src || el.href] = el;\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get current asset root or set with specified value\n\t\t *\n\t\t * @param {string} [value]\n\t\t * @returns {string} root\n\t\t */\n\t\troot: function(value) {\n\t\t\tif (value) {\n\t\t\t\troot = value;\n\t\t\t}\n\n\t\t\treturn root;\n\t\t},\n\n\t\t/**\n\t\t * Load specified assets with set options\n\t\t *\n\t\t * @param {object} options\n\t\t * @param {boolean} [options.cache=false]\n\t\t * @param {(Array|string)} [options.css]\n\t\t * @param {(Array|function|string)} [options.error]\n\t\t * @param {(Array|string)} [options.files]\n\t\t * @param {string} [options.group]\n\t\t * @param {(Array|string)} [options.img]\n\t\t * @param {(Array|string)} [options.js]\n\t\t * @param {string} [options.root]\n\t\t * @param {(Array|function|string)} [options.success]\n\t\t */\n\t\tload: function(options) {\n\t\t\tvar files = W.$toArray(options.files),\n\t\t\t\tjs = W.$toArray(options.js),\n\t\t\t\tcss = W.$toArray(options.css),\n\t\t\t\timg = W.$toArray(options.img),\n\t\t\t\troot = options.root !== U ? options.root : this.root(),\n\t\t\t\tnow = Date.now(),\n\t\t\t\tassets = [],\n\t\t\t\ti = 0,\n\t\t\t\ttype;\n\n\t\t\t// Create group name if not specified\n\t\t\tif (! options.group) {\n\t\t\t\toptions.group = 'a' + now;\n\t\t\t}\n\n\t\t\t// Determine file type\n\t\t\tfor (; i < files.length; i++) {\n\t\t\t\tvar ext = files[i].split('.').pop().split(/#|\\?/)[0];\n\t\t\t\ttype = ext == 'js' || ext == 'css' ?\n\t\t\t\t\text : /(gif|jpe?g|png|svg|webp)$/i.test(ext) ?\n\t\t\t\t\t\t'img' : '';\n\n\t\t\t\tif (type) {\n\t\t\t\t\tassets[files[i]] = type;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (i = 0; i < js.length; i++) {\n\t\t\t\tassets[js[i]] = 'js';\n\t\t\t}\n\n\t\t\tfor (i = 0; i < css.length; i++) {\n\t\t\t\tassets[css[i]] = 'css';\n\t\t\t}\n\n\t\t\tfor (i = 0; i < img.length; i++) {\n\t\t\t\tassets[img[i]] = 'img';\n\t\t\t}\n\n\t\t\t// Set file array length to check against\n\t\t\tgroups[options.group] = [\n\t\t\t\tObject.keys(assets).length,\n\t\t\t\toptions,\n\t\t\t\t0\n\t\t\t];\n\n\t\t\t// Request each specified file\n\t\t\tfor (var file in assets) {\n\t\t\t\tvar noCache = options.cache === false;\n\n\t\t\t\t// Reset root if the URL is absolute\n\t\t\t\tif (root && /^(https?:)?\\/\\//i.test(file)) {\n\t\t\t\t\troot = '';\n\t\t\t\t}\n\n\t\t\t\ttype = assets[file];\n\t\t\t\tfile = root + file;\n\n\t\t\t\tif (! loaded[file] || noCache) {\n\t\t\t\t\tif (noCache) {\n\t\t\t\t\t\tfile += (file.indexOf('?') < 0 ? '?' : '&') + now;\n\t\t\t\t\t}\n\n\t\t\t\t\t_load(file, type, options);\n\t\t\t\t} else {\n\t\t\t\t\t_done(options.group);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Remove one or more files from the DOM\n\t\t *\n\t\t * @param {(Array|string)} files\n\t\t * @param {string} [root='']\n\t\t */\n\t\tremove: function(files, root) {\n\t\t\tfiles = W.$toArray(files);\n\t\t\troot = root || '';\n\n\t\t\tvar a = W._doc.createElement('a');\n\n\t\t\tfiles.forEach(function(key) {\n\t\t\t\tvar src = root + files[key];\n\t\t\t\ta.href = src;\n\t\t\t\tsrc = a.href;\n\n\t\t\t\tvar el = loaded[src];\n\n\t\t\t\tif (el !== U) {\n\t\t\t\t\tel.parentNode.removeChild(el);\n\t\t\t\t\tel = null;\n\t\t\t\t\tdelete loaded[src];\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Execute callback when specified references are ready\n\t\t *\n\t\t * @param {string} group\n\t\t * @param {object} [options]\n\t\t * @param {Array} [options.args]\n\t\t * @param {(Array|function|string)} [options.error]\n\t\t * @param {object} [options.scope]\n\t\t * @param {(Array|function|string)} [options.success]\n\t\t * @param {boolean} [poll=false]\n\t\t * @returns {boolean} ready\n\t\t */\n\t\tready: function(group, options, poll) {\n\t\t\tvar complete = ! groups[group][0];\n\n\t\t\tif (options === U) {\n\t\t\t\treturn complete;\n\t\t\t}\n\n\t\t\tif (complete) {\n\t\t\t\tvar conf = W.$extend(groups[group][1], options),\n\t\t\t\t\thasErrors = groups[group][2];\n\t\t\t\toptions = {\n\t\t\t\t\targs: conf.args,\n\t\t\t\t\tscope: conf.scope\n\t\t\t\t};\n\n\t\t\t\tif (conf.error && hasErrors) {\n\t\t\t\t\tW.$exec(conf.error, options);\n\t\t\t\t} else if (conf.success && ! hasErrors) {\n\t\t\t\t\tW.$exec(conf.success, options);\n\t\t\t\t}\n\t\t\t} else if (poll) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tW.assets.ready(group, {}, true);\n\t\t\t\t}, 20);\n\t\t\t}\n\t\t}\n\t};\n})(Wee, undefined);","(function(W) {\n\t'use strict';\n\n\tvar version = 1,\n\n\t\t/**\n\t\t * Process the readyState change event\n\t\t *\n\t\t * @private\n\t\t * @param {XMLHttpRequest} x\n\t\t * @param {object} conf\n\t\t * @returns {*}\n\t\t */\n\t\t_change = function(x, conf) {\n\t\t\tif (x.readyState === 4) {\n\t\t\t\tvar status = x.status,\n\t\t\t\t\texec = {\n\t\t\t\t\t\targs: conf.args,\n\t\t\t\t\t\tscope: conf.scope\n\t\t\t\t\t};\n\n\t\t\t\texec.args.unshift(x);\n\n\t\t\t\tif (status >= 200 && status < 400) {\n\t\t\t\t\tif (conf.success) {\n\t\t\t\t\t\t_success(x, conf);\n\t\t\t\t\t}\n\t\t\t\t} else if (conf.error) {\n\t\t\t\t\tW.$exec(conf.error, exec);\n\t\t\t\t}\n\n\t\t\t\tif (conf.complete) {\n\t\t\t\t\tW.$exec(conf.complete, exec);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Execute the request success callback\n\t\t *\n\t\t * @private\n\t\t * @param {XMLHttpRequest} x\n\t\t * @param {object} conf\n\t\t * @returns {boolean}\n\t\t */\n\t\t_success = function(x, conf) {\n\t\t\tvar resp = x.responseText,\n\t\t\t\texec = {\n\t\t\t\t\targs: conf.args.slice(0),\n\t\t\t\t\tscope: conf.scope\n\t\t\t\t};\n\n\t\t\t// Parse JSON response if specified\n\t\t\tif (conf.json) {\n\t\t\t\ttry {\n\t\t\t\t\tresp = JSON.parse(resp);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tresp = {};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\texec.args.unshift(resp);\n\n\t\t\t// Execute success callback if specified\n\t\t\tW.$exec(conf.success, exec);\n\t\t},\n\n\t\t/**\n\t\t * Process JSONP request\n\t\t *\n\t\t * @private\n\t\t * @param {object} conf\n\t\t */\n\t\t_jsonp = function(conf) {\n\t\t\tvar head = W.$('head')[0],\n\t\t\t\tel = W._doc.createElement('script');\n\n\t\t\tif (conf.success) {\n\t\t\t\tvar fn = conf.jsonpCallback;\n\n\t\t\t\tif (! fn) {\n\t\t\t\t\tfn = 'jsonp' + version;\n\t\t\t\t\tversion++;\n\t\t\t\t}\n\n\t\t\t\tW._win[fn] = function(data) {\n\t\t\t\t\tconf.args.unshift(data);\n\n\t\t\t\t\tW.$exec(conf.success, {\n\t\t\t\t\t\targs: conf.args,\n\t\t\t\t\t\tscope: conf.scope\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tconf.data[\n\t\t\t\t\tconf.jsonp === true ?\n\t\t\t\t\t\t'callback' :\n\t\t\t\t\t\tconf.jsonp\n\t\t\t\t\t] = fn;\n\t\t\t}\n\n\t\t\tel.src = W.data._getUrl(conf);\n\n\t\t\tif (conf.error) {\n\t\t\t\tel.onerror = function() {\n\t\t\t\t\tW.$exec(conf.error, {\n\t\t\t\t\t\targs: conf.args,\n\t\t\t\t\t\tscope: conf.scope\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t}\n\n\t\t\thead.appendChild(el);\n\t\t};\n\n\tW.data = {\n\t\t/**\n\t\t * Make request based on specified options\n\t\t *\n\t\t * @param {object} options\n\t\t * @param {Array} [options.args] - callback arguments appended after default values\n\t\t * @param {(Array|function|string)} [options.complete] - callback on request completion\n\t\t * @param {object} [options.data] - object to serialize and pass along with request\n\t\t * @param {(Array|function|string)} [options.error] - callback if request fails\n\t\t * @param {object} [options.headers] - request headers\n\t\t * @param {boolean} [options.json=false] - evaluate the response as JSON and return object\n\t\t * @param {(boolean|string)} [options.jsonp=false] - boolean or callback query parameter override\n\t\t * @param {string} [options.jsonpCallback] - override the name of the JSONP callback function\n\t\t * @param {string} [options.method=get] - request verb\n\t\t * @param {string} [options.root=''] - prepended request path\n\t\t * @param {object} [options.scope] - callback scope\n\t\t * @param {(Array|function|string)} [options.send] - executed before Ajax call\n\t\t * @param {(Array|function|string)} [options.success] - callback if request succeeds\n\t\t * @param {string} options.url - endpoint to request\n\t\t */\n\t\trequest: function(options) {\n\t\t\tvar conf = W.$extend({\n\t\t\t\t\targs: [],\n\t\t\t\t\tdata: {},\n\t\t\t\t\theaders: {},\n\t\t\t\t\tmethod: 'get',\n\t\t\t\t\troot: ''\n\t\t\t\t}, options);\n\n\t\t\tif (conf.cache === false) {\n\t\t\t\tconf.data.dt = Date.now();\n\t\t\t}\n\n\t\t\t// Prefix root path to url\n\t\t\tif (conf.root) {\n\t\t\t\tconf.url = (conf.root + '/' + conf.url).replace(/\\/{2,}/g, '/');\n\t\t\t}\n\n\t\t\t// Process JSONP\n\t\t\tif (conf.jsonp) {\n\t\t\t\treturn _jsonp(conf);\n\t\t\t}\n\n\t\t\tvar x = new XMLHttpRequest();\n\n\t\t\tif (conf.send) {\n\t\t\t\tW.$exec(conf.send, {\n\t\t\t\t\targs: conf.args,\n\t\t\t\t\tscope: conf.scope\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tx.onreadystatechange = function() {\n\t\t\t\t_change(x, conf);\n\t\t\t};\n\n\t\t\tvar contentTypeHeader = 'Content-Type',\n\t\t\t\tmethod = conf.method.toUpperCase(),\n\t\t\t\tsend = null,\n\t\t\t\theaders = [];\n\n\t\t\t// Format data based on specified verb\n\t\t\tif (method == 'GET') {\n\t\t\t\tconf.url = this._getUrl(conf);\n\t\t\t} else {\n\t\t\t\tif (method == 'POST') {\n\t\t\t\t\theaders[contentTypeHeader] =\n\t\t\t\t\t\t'application/x-www-form-urlencoded; charset=UTF-8';\n\t\t\t\t}\n\n\t\t\t\tsend = typeof conf.data == 'string' ?\n\t\t\t\t\tconf.data :\n\t\t\t\t\tJSON.stringify(conf.data);\n\t\t\t}\n\n\t\t\tx.open(method, conf.url, true);\n\n\t\t\t// Add JSON headers\n\t\t\tif (conf.json) {\n\t\t\t\theaders[contentTypeHeader] = 'application/json';\n\t\t\t\theaders.Accept = 'application/json, text/javascript, */*; q=0.01';\n\t\t\t}\n\n\t\t\t// Add X-Requested-With header for same domain requests\n\t\t\tvar a = W._doc.createElement('a');\n\t\t\ta.href = conf.url;\n\n\t\t\tif (! a.hostname || a.hostname == location.hostname) {\n\t\t\t\theaders['X-Requested-With'] = 'XMLHttpRequest';\n\t\t\t}\n\n\t\t\theaders = W.$extend(headers, conf.headers);\n\n\t\t\t// Set request headers\n\t\t\tfor (var key in headers) {\n\t\t\t\tvar val = headers[key];\n\n\t\t\t\tif (val !== false) {\n\t\t\t\t\tx.setRequestHeader(key, val);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tx.send(send);\n\t\t},\n\n\t\t/**\n\t\t * Generate final URL\n\t\t *\n\t\t * @private\n\t\t * @param {object} conf\n\t\t */\n\t\t_getUrl: function(conf) {\n\t\t\tvar url = conf.url.replace(/[\\?&]$/, '');\n\n\t\t\tif (conf.data && Object.keys(conf.data).length) {\n\t\t\t\turl += (url.indexOf('?') < 0 ? '?' : '&') +\n\t\t\t\t\tW.$serialize(conf.data);\n\t\t\t}\n\n\t\t\tif (url[0] != '/' && ! /^(?:[a-z]+:)?\\/\\//i.test(url)) {\n\t\t\t\turl = '/' + url;\n\t\t\t}\n\n\t\t\treturn url;\n\t\t}\n\t};\n})(Wee);","/* jshint maxdepth: 4 */\n\n(function(W, U) {\n\t'use strict';\n\n\t/**\n\t * Get the selected options from a select\n\t *\n\t * @private\n\t * @param {HTMLElement} select\n\t * @returns {Array} selected\n\t */\n\tvar _getSelected = function(select) {\n\t\tvar options = select.options,\n\t\t\tarr = [],\n\t\t\ti = 0;\n\n\t\tfor (; i < options.length; i++) {\n\t\t\tvar option = options[i];\n\n\t\t\tif (option.selected) {\n\t\t\t\tarr.push(option.value);\n\t\t\t}\n\t\t}\n\n\t\treturn arr;\n\t},\n\n\t/**\n\t * Return either direct previous or next sibling\n\t *\n\t * @private\n\t * @param {($|HTMLElement|string)} target\n\t * @param {int} dir\n\t * @param filter\n\t * @param {object} [options]\n\t * @returns {HTMLElement}\n\t */\n\t_getSibling = function(target, dir, filter, options) {\n\t\tvar match;\n\n\t\tW.$each(target, function(el) {\n\t\t\tvar index = W.$index(el) + dir;\n\n\t\t\tW.$children(W.$parent(el)).forEach(function(el, i) {\n\t\t\t\tif (i === index && (! filter || filter && W.$is(el, filter, options))) {\n\t\t\t\t\tmatch = el;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\treturn match;\n\t},\n\n\t/**\n\t * Convert dash-separated string to camel-case\n\t *\n\t * @private\n\t * @param {string} name\n\t * @returns {string}\n\t */\n\t_toCamel = function(name) {\n\t\treturn name.toLowerCase()\n\t\t\t.replace(/-(.)/g, function(match, val) {\n\t\t\t\treturn val.toUpperCase();\n\t\t\t});\n\t},\n\n\t/**\n\t * Convert camel-cased string to dash-separated\n\t *\n\t * @private\n\t * @param {string} name\n\t * @returns {string}\n\t */\n\t_toDashed = function(name) {\n\t\treturn name.replace(/[A-Z]/g, function(match) {\n\t\t\treturn '-' + match[0].toLowerCase();\n\t\t});\n\t};\n\n\tW.fn.extend({\n\t\t/**\n\t\t * Add classes to each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|string)} value\n\t\t */\n\t\t$addClass: function(target, value) {\n\t\t\tvar func = W._canExec(value);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar cn = el.className,\n\t\t\t\t\tname = func ?\n\t\t\t\t\t\tW.$exec(value, {\n\t\t\t\t\t\t\targs: [i, cn],\n\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\tvalue;\n\n\t\t\t\tif (name) {\n\t\t\t\t\tvar names = cn.split(' '),\n\t\t\t\t\t\tupd = name.split(' ').filter(function(val) {\n\t\t\t\t\t\t\treturn names.indexOf(val) < 0;\n\t\t\t\t\t\t});\n\n\t\t\t\t\tupd.unshift(cn);\n\n\t\t\t\t\tel.className = upd.join(' ');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Insert selection or markup after each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {($|function|HTMLElement|string)} source\n\t\t * @param {boolean} [remove=false]\n\t\t */\n\t\t$after: function(target, source, remove) {\n\t\t\tvar func = W._canExec(source);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar aft = func ?\n\t\t\t\t\tW.$exec(source, {\n\t\t\t\t\t\targs: [i, el.innerHTML],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tsource;\n\n\t\t\t\tif (typeof aft == 'string') {\n\t\t\t\t\taft = W.$parseHTML(aft);\n\t\t\t\t}\n\n\t\t\t\tif (aft) {\n\t\t\t\t\tvar par = el.parentNode;\n\n\t\t\t\t\tW.$each(aft, function(cel) {\n\t\t\t\t\t\tif (i > 0) {\n\t\t\t\t\t\t\tcel = W.$clone(cel)[0];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tpar.insertBefore(cel, el.nextSibling);\n\n\t\t\t\t\t\tW.$setRef(par);\n\t\t\t\t\t}, {\n\t\t\t\t\t\treverse: true\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (remove) {\n\t\t\t\t\tW.$remove(el);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Append selection or markup after each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {($|function|HTMLElement|string)} source\n\t\t */\n\t\t$append: function(target, source) {\n\t\t\tvar func = W._canExec(source);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar app = func ?\n\t\t\t\t\tW.$exec(source, {\n\t\t\t\t\t\targs: [i, el.innerHTML],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tsource;\n\n\t\t\t\tif (typeof app == 'string') {\n\t\t\t\t\tapp = W.$parseHTML(app);\n\t\t\t\t}\n\n\t\t\t\tif (app) {\n\t\t\t\t\tW.$each(app, function(cel) {\n\t\t\t\t\t\tel.appendChild(cel);\n\t\t\t\t\t});\n\n\t\t\t\t\tW.$setRef(el);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get attribute of first matching selection or set attribute\n\t\t * of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param a\n\t\t * @param b\n\t\t * @returns {(string|undefined)}\n\t\t */\n\t\t$attr: function(target, a, b) {\n\t\t\tvar obj = W.$isObject(a);\n\n\t\t\tif (b !== U || obj) {\n\t\t\t\tvar func = ! obj && W._canExec(b);\n\n\t\t\t\tW.$each(target, function(el, i) {\n\t\t\t\t\tobj ?\n\t\t\t\t\t\tObject.keys(a).forEach(function(key) {\n\t\t\t\t\t\t\tel.setAttribute(key, a[key]);\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\tel.setAttribute(a, func ?\n\t\t\t\t\t\t\tW.$exec(b, {\n\t\t\t\t\t\t\t\targs: [i, el[a]],\n\t\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t\t}) :\n\t\t\t\t\t\t\tb\n\t\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn W.$first(target).getAttribute(a);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Insert selection or markup before each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {($|function|HTMLElement|string)} source\n\t\t * @param {boolean} [remove=false]\n\t\t */\n\t\t$before: function(target, source, remove) {\n\t\t\tvar func = W._canExec(source);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar bef = func ?\n\t\t\t\t\tW.$exec(source, {\n\t\t\t\t\t\targs: [i, el.innerHTML],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tsource;\n\n\t\t\t\tif (typeof bef == 'string') {\n\t\t\t\t\tbef = W.$parseHTML(bef);\n\t\t\t\t}\n\n\t\t\t\tif (bef) {\n\t\t\t\t\tvar par = el.parentNode;\n\n\t\t\t\t\tW.$each(bef, function(cel) {\n\t\t\t\t\t\tif (i > 0) {\n\t\t\t\t\t\t\tcel = W.$clone(cel)[0];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tpar.insertBefore(cel, el);\n\n\t\t\t\t\t\tW.$setRef(par);\n\t\t\t\t\t}, {\n\t\t\t\t\t\treverse: true\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (remove) {\n\t\t\t\t\tW.$remove(el);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get unique direct children of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} parent\n\t\t * @param filter\n\t\t * @returns {Array}\n\t\t */\n\t\t$children: function(parent, filter) {\n\t\t\tvar arr = [];\n\n\t\t\tW.$each(parent, function(el) {\n\t\t\t\tvar children = W._slice.call(el.children);\n\n\t\t\t\tarr = arr.concat(\n\t\t\t\t\tfilter ?\n\t\t\t\t\t\tW.$filter(children, filter) :\n\t\t\t\t\t\tchildren\n\t\t\t\t);\n\t\t\t});\n\n\t\t\treturn W.$unique(arr);\n\t\t},\n\n\t\t/**\n\t\t * Clone each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @returns {Array}\n\t\t */\n\t\t$clone: function(target) {\n\t\t\treturn W.$map(target, function(el) {\n\t\t\t\treturn el.cloneNode(true);\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get unique closest ancestors of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param filter\n\t\t * @param context\n\t\t * @returns {HTMLElement}\n\t\t */\n\t\t$closest: function(target, filter, context) {\n\t\t\treturn W.$unique(W.$map(target, function(el) {\n\t\t\t\tif (W.$is(el, filter)) {\n\t\t\t\t\treturn el;\n\t\t\t\t}\n\n\t\t\t\twhile (el !== null) {\n\t\t\t\t\tel = el.parentNode;\n\n\t\t\t\t\tif (el === W._html) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (W.$is(el, filter)) {\n\t\t\t\t\t\treturn el;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, {\n\t\t\t\tcontext: context\n\t\t\t}));\n\t\t},\n\n\t\t/**\n\t\t * Determine if any matching parent selection contains descendant selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} parent\n\t\t * @param descendant\n\t\t * @returns {boolean}\n\t\t */\n\t\t$contains: function(parent, descendant) {\n\t\t\tvar b = false;\n\n\t\t\tW.$each(parent, function(el) {\n\t\t\t\tif (W.$(descendant, el).length) {\n\t\t\t\t\tb = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn b;\n\t\t},\n\n\t\t/**\n\t\t * Get unique content of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} parent\n\t\t * @returns {Array}\n\t\t */\n\t\t$contents: function(parent) {\n\t\t\tvar arr = [];\n\n\t\t\tW.$each(parent, function(el) {\n\t\t\t\tarr = arr.concat(W._slice.call(el.childNodes));\n\t\t\t});\n\n\t\t\treturn W.$unique(arr);\n\t\t},\n\n\t\t/**\n\t\t * Get CSS value of first matching selection or set value\n\t\t * of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(object|string)} a\n\t\t * @param {(function|string)} [b]\n\t\t * @returns {(string|undefined)}\n\t\t */\n\t\t$css: function(target, a, b) {\n\t\t\tvar obj = W.$isObject(a);\n\n\t\t\tif (b !== U || obj) {\n\t\t\t\tvar func = ! obj && W._canExec(b);\n\n\t\t\t\tW.$each(target, function(el, i) {\n\t\t\t\t\tobj ?\n\t\t\t\t\t\tObject.keys(a).forEach(function(key) {\n\t\t\t\t\t\t\tel.style[key] = a[key];\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\tel.style[a] = func ?\n\t\t\t\t\t\t\tW.$exec(b, {\n\t\t\t\t\t\t\t\targs: [i, el.style[a]],\n\t\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t\t}) :\n\t\t\t\t\t\t\tb;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tvar el = W.$first(target);\n\n\t\t\t\treturn W._legacy ?\n\t\t\t\t\tel.currentStyle[a] :\n\t\t\t\t\tgetComputedStyle(el, null)[a];\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Get data of first matching selection or set data\n\t\t * of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param a\n\t\t * @param [b]\n\t\t * @returns {(string|undefined)}\n\t\t */\n\t\t$data: function(target, a, b) {\n\t\t\tif (a === U) {\n\t\t\t\tvar el = W.$first(target),\n\t\t\t\t\tarr = {};\n\n\t\t\t\tW._slice.call(el.attributes).forEach(function(attr) {\n\t\t\t\t\tif (attr.name.substr(0, 5) == 'data-') {\n\t\t\t\t\t\tarr[_toCamel(attr.name.substr(5))] =\n\t\t\t\t\t\t\tW._castString(attr.value);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn arr;\n\t\t\t}\n\n\t\t\tif (W.$isObject(a)) {\n\t\t\t\tvar obj = {};\n\n\t\t\t\tObject.keys(a).forEach(function(key) {\n\t\t\t\t\tobj['data-' + _toDashed(key)] = a[key];\n\t\t\t\t});\n\n\t\t\t\ta = obj;\n\t\t\t} else {\n\t\t\t\ta = 'data-' + _toDashed(a);\n\t\t\t}\n\n\t\t\treturn W._castString(W.$attr(target, a, b));\n\t\t},\n\n\t\t/**\n\t\t * Remove child nodes from each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t */\n\t\t$empty: function(target) {\n\t\t\tW.$each(target, function(el) {\n\t\t\t\twhile (el.firstChild) {\n\t\t\t\t\tel.removeChild(el.firstChild);\n\t\t\t\t}\n\n\t\t\t\tW.$setRef(el);\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get indexed node of matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {int} index\n\t\t * @param {($|HTMLElement|string)} [context=document]\n\t\t * @returns {HTMLElement}\n\t\t */\n\t\t$eq: function(target, index, context) {\n\t\t\tvar el = W.$(target, context);\n\n\t\t\treturn el[index < 0 ? el.length + index : index];\n\t\t},\n\n\t\t/**\n\t\t * Return a filtered subset of elements from a matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param filter\n\t\t * @param [options]\n\t\t * @returns {Array} elements\n\t\t */\n\t\t$filter: function(target, filter, options) {\n\t\t\tvar func = W._canExec(filter);\n\n\t\t\treturn W.$map(target, function(el, i) {\n\t\t\t\tvar match = func ?\n\t\t\t\t\tW.$exec(filter, {\n\t\t\t\t\t\targs: [i, el],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tW.$is(el, filter, options);\n\n\t\t\t\treturn match ? el : false;\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get unique filtered descendants from each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} parent\n\t\t * @param filter\n\t\t * @returns {Array} elements\n\t\t */\n\t\t$find: function(parent, filter) {\n\t\t\tvar arr = [];\n\n\t\t\tW.$each(parent, function(el) {\n\t\t\t\tarr = arr.concat(W.$(filter, el));\n\t\t\t});\n\n\t\t\treturn W.$unique(arr);\n\t\t},\n\n\t\t/**\n\t\t * Get the first element of a matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {($|HTMLElement|string)} [context=document]\n\t\t * @returns {HTMLElement}\n\t\t */\n\t\t$first: function(target, context) {\n\t\t\treturn W.$eq(target, 0, context);\n\t\t},\n\n\t\t/**\n\t\t * Determine if the matching selection has a class\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {string} className\n\t\t * @returns {boolean}\n\t\t */\n\t\t$hasClass: function(target, className) {\n\t\t\treturn W.$(target).some(function(el) {\n\t\t\t\treturn new RegExp('(^| )' + className + '($| )', 'gim')\n\t\t\t\t\t.test(el.className);\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get or set the height of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|number|string)} value\n\t\t * @returns {number}\n\t\t */\n\t\t$height: function(target, value) {\n\t\t\tvar func = value && W._canExec(value),\n\t\t\t\theight;\n\n\t\t\tif (value === U || value === true || func) {\n\t\t\t\tvar el = W.$first(target);\n\n\t\t\t\tif (el === W._win) {\n\t\t\t\t\theight = el.innerHeight;\n\t\t\t\t} else if (el === W._doc) {\n\t\t\t\t\theight = Math.max(\n\t\t\t\t\t\tW._body.offsetHeight,\n\t\t\t\t\t\tW._body.scrollHeight,\n\t\t\t\t\t\tW._html.clientHeight,\n\t\t\t\t\t\tW._html.offsetHeight,\n\t\t\t\t\t\tW._html.scrollHeight\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\theight = el.offsetHeight;\n\n\t\t\t\t\tif (value === true) {\n\t\t\t\t\t\tvar style = el.currentStyle || getComputedStyle(el);\n\t\t\t\t\t\theight += parseInt(style.marginTop) + parseInt(style.marginBottom);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (! func) {\n\t\t\t\t\treturn height;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvalue = func ?\n\t\t\t\t\tW.$exec(value, {\n\t\t\t\t\t\targs: [i, height],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tvalue;\n\n\t\t\t\tif (typeof value == 'number') {\n\t\t\t\t\tvalue += 'px';\n\t\t\t\t}\n\n\t\t\t\tW.$css(el, 'height', value);\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Hide each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t */\n\t\t$hide: function(target) {\n\t\t\tW.$addClass(target, 'js-hide');\n\t\t},\n\n\t\t/**\n\t\t * Get inner HTML of first selection or set each matching selection's HTML\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|string)} value\n\t\t * @returns {(string|undefined)}\n\t\t */\n\t\t$html: function(target, value) {\n\t\t\tif (value === U) {\n\t\t\t\treturn W.$first(target).innerHTML;\n\t\t\t}\n\n\t\t\tvar func = W._canExec(value);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar html = func ?\n\t\t\t\t\tW.$exec(value, {\n\t\t\t\t\t\targs: [i, el.innerHTML],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tvalue;\n\n\t\t\t\tif (html !== false && html !== U) {\n\t\t\t\t\tif (el.nodeName == 'SELECT' && ! W._win.atob) {\n\t\t\t\t\t\tel.outerHTML = el.outerHTML.replace(\n\t\t\t\t\t\t\tel.innerHTML + '</s', html + '</s'\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tel.innerHTML = html;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get the zero-based index of a matching selection relative\n\t\t * to it's siblings\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @returns {int}\n\t\t */\n\t\t$index: function(target) {\n\t\t\tvar el = W.$first(target),\n\t\t\t\tchildren = W.$children(W.$parent(el)),\n\t\t\t\ti = 0;\n\n\t\t\tfor (; i < children.length; i++) {\n\t\t\t\tif (children[i] === el) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn -1;\n\t\t},\n\n\t\t/**\n\t\t * Insert each matching source selection element after\n\t\t * each matching target selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} source\n\t\t * @param {($|HTMLElement|string)} target\n\t\t */\n\t\t$insertAfter: function(source, target) {\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar par = el.parentNode;\n\n\t\t\t\tW.$each(source, function(cel) {\n\t\t\t\t\tif (i > 0) {\n\t\t\t\t\t\tcel = W.$clone(cel)[0];\n\t\t\t\t\t}\n\n\t\t\t\t\tpar.insertBefore(cel, el.nextSibling);\n\n\t\t\t\t\tW.$setRef(par);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Insert each matching source selection element before\n\t\t * each matching target selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} source\n\t\t * @param {($|HTMLElement|string)} target\n\t\t */\n\t\t$insertBefore: function(source, target) {\n\t\t\tW.$each(target, function(el) {\n\t\t\t\tW.$each(source, function(cel) {\n\t\t\t\t\tel.parentNode.insertBefore(cel, el);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Determine if at least one matching selection matches\n\t\t * a specified criteria\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param filter\n\t\t * @param [options]\n\t\t * @returns {boolean}\n\t\t */\n\t\t$is: function(target, filter, options) {\n\t\t\treturn W.$map(target, function(el, i) {\n\t\t\t\tif (typeof filter == 'string' && filter.slice(0, 4) == 'ref:') {\n\t\t\t\t\treturn W.$(filter).indexOf(el) > -1;\n\t\t\t\t}\n\n\t\t\t\tif (W.$isObject(filter)) {\n\t\t\t\t\tfor (var key in filter) {\n\t\t\t\t\t\tif (filter[key] === el) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif (Array.isArray(filter)) {\n\t\t\t\t\treturn filter.indexOf(el) > -1;\n\t\t\t\t}\n\n\t\t\t\tif (W._canExec(filter)) {\n\t\t\t\t\treturn W.$exec(filter, W.$extend({\n\t\t\t\t\t\targs: [i, el],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}, options));\n\t\t\t\t}\n\n\t\t\t\tvar matches = el.matches || el.matchesSelector ||\n\t\t\t\t\tel.msMatchesSelector || el.mozMatchesSelector ||\n\t\t\t\t\tel.webkitMatchesSelector || el.oMatchesSelector;\n\n\t\t\t\treturn matches ?\n\t\t\t\t\tmatches.call(el, filter) :\n\t\t\t\t\tW._slice.call(el.parentNode.querySelectorAll(filter))\n\t\t\t\t\t\t.indexOf(el) > -1;\n\t\t\t}).length > 0;\n\t\t},\n\n\t\t/**\n\t\t * Get the last element of a matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {($|HTMLElement|string)} [context=document]\n\t\t * @returns {HTMLElement}\n\t\t */\n\t\t$last: function(target, context) {\n\t\t\treturn W.$eq(target, -1, context);\n\t\t},\n\n\t\t/**\n\t\t * Get the unique next sibling of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param filter\n\t\t * @param {object} [options]\n\t\t * @returns {Array} elements\n\t\t */\n\t\t$next: function(target, filter, options) {\n\t\t\treturn W.$unique(W.$map(target, function(el) {\n\t\t\t\treturn _getSibling(el, 1, filter, options);\n\t\t\t}));\n\t\t},\n\n\t\t/**\n\t\t * Returns elements not matching the filtered selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param filter\n\t\t * @param {object} [options]\n\t\t * @returns {Array} elements\n\t\t */\n\t\t$not: function(target, filter, options) {\n\t\t\tvar func = W._canExec(filter);\n\n\t\t\treturn W.$map(target, function(el, i) {\n\t\t\t\treturn (func ?\n\t\t\t\t\tW.$exec(filter, {\n\t\t\t\t\t\targs: [i, el],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tW.$is(el, filter, options)) ? false : el;\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get the position of a matching selection relative to the document\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|number)} value\n\t\t * @returns {{top: number, left: number}}\n\t\t */\n\t\t$offset: function(target, value) {\n\t\t\tvar top = W._legacy ? W._html : W._win,\n\t\t\t\trect = W.$first(target).getBoundingClientRect(),\n\t\t\t\toffset = {\n\t\t\t\t\ttop: rect.top + (\n\t\t\t\t\t\tW._legacy ?\n\t\t\t\t\t\t\ttop.scrollTop :\n\t\t\t\t\t\t\ttop.pageYOffset\n\t\t\t\t\t),\n\t\t\t\t\tleft: rect.left + (\n\t\t\t\t\t\tW._legacy ?\n\t\t\t\t\t\t\ttop.scrollLeft :\n\t\t\t\t\t\t\ttop.pageXOffset\n\t\t\t\t\t)\n\t\t\t\t};\n\n\t\t\tif (value) {\n\t\t\t\tvar func = W._canExec(value);\n\n\t\t\t\tW.$each(target, function(el, i) {\n\t\t\t\t\tvar set = func ?\n\t\t\t\t\t\tW.$exec(value, {\n\t\t\t\t\t\t\targs: [i, offset],\n\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\tvalue;\n\n\t\t\t\t\tif (typeof set.top == 'number') {\n\t\t\t\t\t\tset.top = set.top + 'px';\n\t\t\t\t\t}\n\n\t\t\t\t\tif (typeof set.left == 'number') {\n\t\t\t\t\t\tset.left = set.left + 'px';\n\t\t\t\t\t}\n\n\t\t\t\t\tW.$css(el, set);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn offset;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Get unique parent from each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} child\n\t\t * @param filter\n\t\t * @returns {Array} elements\n\t\t */\n\t\t$parent: function(child, filter) {\n\t\t\treturn W.$unique(W.$map(child, function(el) {\n\t\t\t\tvar parent = el.parentNode;\n\t\t\t\treturn ! filter || W.$is(parent, filter) ? parent : false;\n\t\t\t}));\n\t\t},\n\n\t\t/**\n\t\t * Get unique ancestors of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} child\n\t\t * @param filter\n\t\t * @returns {Array} elements\n\t\t */\n\t\t$parents: function(child, filter) {\n\t\t\tvar arr = [];\n\n\t\t\tW.$each(child, function(el) {\n\t\t\t\twhile (el !== null) {\n\t\t\t\t\tel = el.parentNode;\n\n\t\t\t\t\tif (! filter || (filter && W.$is(el, filter))) {\n\t\t\t\t\t\tarr.push(el);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (el === W._html) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn W.$unique(arr);\n\t\t},\n\n\t\t/**\n\t\t * Get the position of the first matching selection relative\n\t\t * to its offset parent\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @returns {{top: number, left: number}}\n\t\t */\n\t\t$position: function(target) {\n\t\t\tvar el = W.$first(target);\n\n\t\t\treturn {\n\t\t\t\ttop: el.offsetTop,\n\t\t\t\tleft: el.offsetLeft\n\t\t\t};\n\t\t},\n\n\t\t/**\n\t\t * Prepend selection or markup before each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {($|function|HTMLElement|string)} source\n\t\t */\n\t\t$prepend: function(target, source) {\n\t\t\tvar func = W._canExec(source);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar pre = func ?\n\t\t\t\t\tW.$exec(source, {\n\t\t\t\t\t\targs: [i, el.innerHTML],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tsource;\n\n\t\t\t\tif (typeof pre == 'string') {\n\t\t\t\t\tpre = W.$parseHTML(pre);\n\t\t\t\t}\n\n\t\t\t\tif (pre) {\n\t\t\t\t\tW.$each(pre, function(cel) {\n\t\t\t\t\t\tel.insertBefore(cel, el.firstChild);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get the unique previous sibling of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param filter\n\t\t * @param {object} [options]\n\t\t * @returns {Array} elements\n\t\t */\n\t\t$prev: function(target, filter, options) {\n\t\t\treturn W.$unique(W.$map(target, function(el) {\n\t\t\t\treturn _getSibling(el, -1, filter, options);\n\t\t\t}));\n\t\t},\n\n\t\t/**\n\t\t * Get property of first matching selection or set property of\n\t\t * each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param a\n\t\t * @param b\n\t\t * @returns {*}\n\t\t */\n\t\t$prop: function(target, a, b) {\n\t\t\tvar obj = W.$isObject(a);\n\n\t\t\tif (b !== U || obj) {\n\t\t\t\tvar func = ! obj && W._canExec(b);\n\n\t\t\t\tW.$each(target, function(el, i) {\n\t\t\t\t\tobj ?\n\t\t\t\t\t\tObject.keys(a).forEach(function(key) {\n\t\t\t\t\t\t\tel[key] = a[key];\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\tel[a] = func ?\n\t\t\t\t\t\t\tW.$exec(b, {\n\t\t\t\t\t\t\t\targs: [i, el[a]],\n\t\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t\t}) :\n\t\t\t\t\t\t\tb;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tvar el = W.$first(target);\n\n\t\t\t\treturn el[a];\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Remove each matching selection from the document\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {($|HTMLElement|string)} [context=document]\n\t\t */\n\t\t$remove: function(target, context) {\n\t\t\tW.$each(target, function(el) {\n\t\t\t\tvar par = el.parentNode;\n\n\t\t\t\tpar.removeChild(el);\n\n\t\t\t\tW.$setRef(par);\n\t\t\t}, {\n\t\t\t\tcontext: context\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Remove specified attribute of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {string} name\n\t\t */\n\t\t$removeAttr: function(target, name) {\n\t\t\tW.$each(target, function(el) {\n\t\t\t\tname.split(/\\s+/).forEach(function(value) {\n\t\t\t\t\tel.removeAttribute(value);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Remove classes from each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|string)} value\n\t\t */\n\t\t$removeClass: function(target, value) {\n\t\t\tvar func = W._canExec(value);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar cn = el.className,\n\t\t\t\t\tname = func ?\n\t\t\t\t\t\tW.$exec(value, {\n\t\t\t\t\t\t\targs: [i, cn],\n\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\tvalue;\n\n\t\t\t\tif (name) {\n\t\t\t\t\tvar names = name.split(' ');\n\n\t\t\t\t\tel.className = cn.split(' ').filter(function(val) {\n\t\t\t\t\t\treturn names.indexOf(val) < 0;\n\t\t\t\t\t}).join(' ');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Replace each matching selection with selection or markup\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {($|HTMLElement|string)} source\n\t\t */\n\t\t$replaceWith: function(target, source) {\n\t\t\tW.$after(target, source, true);\n\t\t},\n\n\t\t/**\n\t\t * Get or set the X scroll position of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {number} value\n\t\t * @returns {number}\n\t\t */\n\t\t$scrollLeft: function(target, value) {\n\t\t\tif (value === U) {\n\t\t\t\tvar el = target ? W.$first(target) : W._win;\n\n\t\t\t\tif (el === W._win) {\n\t\t\t\t\tif (! W._legacy) {\n\t\t\t\t\t\treturn el.pageXOffset;\n\t\t\t\t\t}\n\n\t\t\t\t\tel = W._html;\n\t\t\t\t}\n\n\t\t\t\treturn el.scrollLeft;\n\t\t\t}\n\n\t\t\tW.$each(target, function(el) {\n\t\t\t\tel.scrollLeft = value;\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get or set the Y scroll position of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {number} value\n\t\t * @returns {number}\n\t\t */\n\t\t$scrollTop: function(target, value) {\n\t\t\tif (value === U) {\n\t\t\t\tvar el = target ? W.$first(target) : W._win;\n\n\t\t\t\tif (el === W._win) {\n\t\t\t\t\tif (! W._legacy) {\n\t\t\t\t\t\treturn el.pageYOffset;\n\t\t\t\t\t}\n\n\t\t\t\t\tel = W._html;\n\t\t\t\t}\n\n\t\t\t\treturn el.scrollTop;\n\t\t\t}\n\n\t\t\tW.$each(target, function(el) {\n\t\t\t\tel.scrollTop = value;\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Serialize input values from first matching form selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {boolean} json\n\t\t * @returns {string}\n\t\t */\n\t\t$serializeForm: function(target, json) {\n\t\t\tvar el = W.$first(target),\n\t\t\t\tobj = {},\n\t\t\t\ti = 0;\n\n\t\t\tif (el.nodeName != 'FORM') {\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\tfor (; i < el.elements.length; i++) {\n\t\t\t\tvar child = el.elements[i],\n\t\t\t\t\tname = child.name,\n\t\t\t\t\ttype = child.type;\n\n\t\t\t\tif (name && type != 'file' && type != 'reset') {\n\t\t\t\t\tvar arr = name.slice(-2) == '[]';\n\n\t\t\t\t\tif (arr) {\n\t\t\t\t\t\tname = name.slice(0, -2);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (type == 'select-multiple') {\n\t\t\t\t\t\tobj[name] = _getSelected(child);\n\t\t\t\t\t} else if (\n\t\t\t\t\t\ttype != 'submit' && type != 'button' &&\n\t\t\t\t\t\t((type != 'checkbox' && type != 'radio') || child.checked)) {\n\t\t\t\t\t\tif (arr || (type == 'checkbox' && obj[name])) {\n\t\t\t\t\t\t\tobj[name] = W.$toArray(obj[name]);\n\t\t\t\t\t\t\tobj[name].push(child.value);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tobj[name] = child.value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn json ? obj : W.$serialize(obj);\n\t\t},\n\n\t\t/**\n\t\t * Show each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t */\n\t\t$show: function(target) {\n\t\t\tW.$removeClass(target, 'js-hide');\n\t\t},\n\n\t\t/**\n\t\t * Get unique siblings of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param filter\n\t\t * @returns {Array} elements\n\t\t */\n\t\t$siblings: function(target, filter) {\n\t\t\tvar arr = [];\n\n\t\t\tW.$each(target, function(el) {\n\t\t\t\tvar siblings = W._slice.call(el.parentNode.children),\n\t\t\t\t\ti = 0;\n\n\t\t\t\tfor (; i < siblings.length; i++) {\n\t\t\t\t\tif (siblings[i] === el) {\n\t\t\t\t\t\tsiblings.splice(i, 1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tarr = arr.concat(\n\t\t\t\t\tfilter ?\n\t\t\t\t\t\tW.$filter(siblings, filter) :\n\t\t\t\t\t\tsiblings\n\t\t\t\t);\n\t\t\t});\n\n\t\t\treturn W.$unique(arr);\n\t\t},\n\n\t\t/**\n\t\t * Get subset of selection matches from specified range\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {int} start\n\t\t * @param {int} end\n\t\t * @returns {Array} elements\n\t\t */\n\t\t$slice: function(target, start, end) {\n\t\t\tif (! target._$) {\n\t\t\t\ttarget = W._selArray(target);\n\t\t\t}\n\n\t\t\treturn W._slice.call(target, start, end);\n\t\t},\n\n\t\t/**\n\t\t * Get inner text of first selection or set each matching selection's text\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|string)} value\n\t\t * @returns {string}\n\t\t */\n\t\t$text: function(target, value) {\n\t\t\tif (value === U) {\n\t\t\t\treturn W.$map(target, function(el) {\n\t\t\t\t\treturn (W._legacy ? el.innerText : el.textContent).trim();\n\t\t\t\t}).join('');\n\t\t\t}\n\n\t\t\tvar func = W._canExec(value);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar text = func ?\n\t\t\t\t\tW.$exec(value, {\n\t\t\t\t\t\targs: [i, (W._legacy ? el.innerText : el.textContent).trim()],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tvalue;\n\n\t\t\t\tW._legacy ?\n\t\t\t\t\tel.innerText = text :\n\t\t\t\t\tel.textContent = text;\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Toggle the display of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t */\n\t\t$toggle: function(target) {\n\t\t\tW.$each(target, function(el) {\n\t\t\t\t! W.$hasClass(el, 'js-hide') ?\n\t\t\t\t\tW.$hide(el) :\n\t\t\t\t\tW.$show(el);\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Toggle adding and removing class(es) from the specified element\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|string)} className\n\t\t * @param {boolean} [state]\n\t\t */\n\t\t$toggleClass: function(target, className, state) {\n\t\t\tvar func = W._canExec(className);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tif (func) {\n\t\t\t\t\tclassName = W.$exec(className, {\n\t\t\t\t\t\targs: [i, el.className, state],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (className) {\n\t\t\t\t\tclassName.split(/\\s+/).forEach(function(value) {\n\t\t\t\t\t\tstate === false || (state === U && W.$hasClass(el, value)) ?\n\t\t\t\t\t\t\tW.$removeClass(el, value) :\n\t\t\t\t\t\t\tW.$addClass(el, value);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get value of first matching selection or set match values\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|string)} value\n\t\t * @returns {(Array|string)}\n\t\t */\n\t\t$val: function(target, value) {\n\t\t\tif (value === U) {\n\t\t\t\tvar el = W.$first(target);\n\n\t\t\t\tif (el.type == 'select-multiple') {\n\t\t\t\t\treturn _getSelected(el);\n\t\t\t\t}\n\n\t\t\t\treturn el.value;\n\t\t\t}\n\n\t\t\tvar func = W._canExec(value);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tif (el.nodeName == 'SELECT') {\n\t\t\t\t\tvar opt = W.$find(el, 'option');\n\t\t\t\t\tvalue = W.$toArray(value);\n\n\t\t\t\t\topt.forEach(function(a) {\n\t\t\t\t\t\tif (value.indexOf(a.value) > -1) {\n\t\t\t\t\t\t\ta.selected = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tel.value = func ?\n\t\t\t\t\t\tW.$exec(value, {\n\t\t\t\t\t\t\targs: [i, el.value],\n\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\tvalue;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get or set the width of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|number|string)} value\n\t\t * @returns {number}\n\t\t */\n\t\t$width: function(target, value) {\n\t\t\tvar func = value && W._canExec(value),\n\t\t\t\twidth;\n\n\t\t\tif (value === U || value === true || func) {\n\t\t\t\tvar el = W.$first(target);\n\n\t\t\t\tif (el === W._win) {\n\t\t\t\t\twidth = el.innerWidth;\n\t\t\t\t} else if (el === W._doc) {\n\t\t\t\t\twidth = Math.max(\n\t\t\t\t\t\tW._body.offsetWidth,\n\t\t\t\t\t\tW._body.scrollWidth,\n\t\t\t\t\t\tW._html.clientWidth,\n\t\t\t\t\t\tW._html.offsetWidth,\n\t\t\t\t\t\tW._html.scrollWidth\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\twidth = el.offsetWidth;\n\n\t\t\t\t\tif (value === true) {\n\t\t\t\t\t\tvar style = el.currentStyle || getComputedStyle(el);\n\t\t\t\t\t\twidth += parseInt(style.marginLeft) +\n\t\t\t\t\t\t\tparseInt(style.marginRight);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (! func) {\n\t\t\t\t\treturn width;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvalue = func ?\n\t\t\t\t\tW.$exec(value, {\n\t\t\t\t\t\targs: [i, width],\n\t\t\t\t\t\tscope: el\n\t\t\t\t\t}) :\n\t\t\t\t\tvalue;\n\n\t\t\t\tif (typeof value == 'number') {\n\t\t\t\t\tvalue += 'px';\n\t\t\t\t}\n\n\t\t\t\tW.$css(el, 'width', value);\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Wrap markup around each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|string)} html\n\t\t */\n\t\t$wrap: function(target, html) {\n\t\t\tvar func = W._canExec(html);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar wrap = W.$(\n\t\t\t\t\tfunc ?\n\t\t\t\t\t\tW.$exec(html, {\n\t\t\t\t\t\t\targs: i,\n\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\thtml\n\t\t\t\t);\n\n\t\t\t\tif (wrap) {\n\t\t\t\t\tvar par = el.parentNode;\n\n\t\t\t\t\tW.$each(wrap, function(cel) {\n\t\t\t\t\t\tcel = cel.cloneNode(true);\n\n\t\t\t\t\t\tcel.appendChild(el.cloneNode(true));\n\t\t\t\t\t\tpar.replaceChild(cel, el);\n\n\t\t\t\t\t\tW.$setRef(par);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Wrap markup around the content of each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @param {(function|string)} html\n\t\t */\n\t\t$wrapInner: function(target, html) {\n\t\t\tvar func = W._canExec(html);\n\n\t\t\tW.$each(target, function(el, i) {\n\t\t\t\tvar wrap = W.$parseHTML(\n\t\t\t\t\tfunc ?\n\t\t\t\t\t\tW.$exec(html, {\n\t\t\t\t\t\t\targs: i,\n\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\thtml\n\t\t\t\t);\n\n\t\t\t\tif (wrap) {\n\t\t\t\t\tvar children = W.$children(el);\n\n\t\t\t\t\tif (! children.length) {\n\t\t\t\t\t\tchildren = W.$html(el);\n\n\t\t\t\t\t\tW.$empty(el);\n\t\t\t\t\t\tW.$html(wrap, children);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tW.$each(children, function(cel) {\n\t\t\t\t\t\t\twrap[0].appendChild(cel);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tW.$append(el, wrap);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n})(Wee, undefined);","/* jshint maxparams: 5 */\n\n(function(W) {\n\t'use strict';\n\n\tvar bound = [],\n\t\tcustom = {},\n\n\t\t/**\n\t\t * Attach specific event logic to element\n\t\t *\n\t\t * @private\n\t\t * @param {Array} els\n\t\t * @param {object} obj\n\t\t * @param {object} options\n\t\t */\n\t\t_bind = function(els, obj, options) {\n\t\t\t// Redefine variables when delegating\n\t\t\tif (options && options.delegate) {\n\t\t\t\toptions.targ = els;\n\t\t\t\tels = options.delegate;\n\t\t\t}\n\n\t\t\t// For each element attach events\n\t\t\tW.$each(els, function(el) {\n\t\t\t\t// Loop through object events\n\t\t\t\tfor (var key in obj) {\n\t\t\t\t\tvar evts = key.split(' '),\n\t\t\t\t\t\ti = 0;\n\n\t\t\t\t\tfor (; i < evts.length; i++) {\n\t\t\t\t\t\tvar conf = W.$extend({\n\t\t\t\t\t\t\t\targs: [],\n\t\t\t\t\t\t\t\tonce: false,\n\t\t\t\t\t\t\t\tscope: el\n\t\t\t\t\t\t\t}, options),\n\t\t\t\t\t\t\tfn = obj[key],\n\t\t\t\t\t\t\tevt = evts[i],\n\t\t\t\t\t\t\tev = evt,\n\t\t\t\t\t\t\tf = fn;\n\t\t\t\t\t\tevt = evt.split('.')[0];\n\n\t\t\t\t\t\t// Prepend element to callback arguments if necessary\n\t\t\t\t\t\tif (conf.args[1] !== el) {\n\t\t\t\t\t\t\tconf.args.unshift(0, el);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t(function(el, evt, fn, f, conf) {\n\t\t\t\t\t\t\tvar cb = function(e) {\n\t\t\t\t\t\t\t\tvar cont = true,\n\t\t\t\t\t\t\t\t\ttrig = e === false;\n\n\t\t\t\t\t\t\t\t// Patch core event functionality\n\t\t\t\t\t\t\t\tif (W._legacy || trig) {\n\t\t\t\t\t\t\t\t\te = trig ? {} : W._win.event;\n\t\t\t\t\t\t\t\t\te.target = e.srcElement;\n\n\t\t\t\t\t\t\t\t\te.preventDefault = function() {\n\t\t\t\t\t\t\t\t\t\te.returnValue = false;\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\te.stopPropagation = function() {\n\t\t\t\t\t\t\t\t\t\te.cancelBubble = true;\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tconf.args[0] = e;\n\n\t\t\t\t\t\t\t\t// If watch within ancestor make sure the target\n\t\t\t\t\t\t\t\t// matches the selector\n\t\t\t\t\t\t\t\tif (conf.targ) {\n\t\t\t\t\t\t\t\t\tvar targ = conf.targ,\n\t\t\t\t\t\t\t\t\t\tsel = targ._$ ? targ.sel : targ;\n\n\t\t\t\t\t\t\t\t\t// Update refs when targeting ref\n\t\t\t\t\t\t\t\t\tif (typeof sel == 'string' &&\n\t\t\t\t\t\t\t\t\t\tsel.indexOf('ref:') > -1) {\n\t\t\t\t\t\t\t\t\t\tW.$setRef(el);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tcont = W.$toArray(W.$(sel)).some(function(el) {\n\t\t\t\t\t\t\t\t\t\treturn el.contains(e.target) && (targ = el);\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t// Ensure element argument is the target\n\t\t\t\t\t\t\t\t\tconf.args[1] = conf.scope = targ;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (cont) {\n\t\t\t\t\t\t\t\t\tW.$exec(fn, conf);\n\n\t\t\t\t\t\t\t\t\t// Unbind after first execution\n\t\t\t\t\t\t\t\t\tif (conf.once) {\n\t\t\t\t\t\t\t\t\t\t_off(el, evt, f);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// Ensure the specified element, event, and function\n\t\t\t\t\t\t\t// combination hasn't already been bound\n\t\t\t\t\t\t\tif (evt != 'init' && ! W.events.bound(el, ev, f).length) {\n\t\t\t\t\t\t\t\t// Determine if the event is native or custom\n\t\t\t\t\t\t\t\tif ('on' + evt in el) {\n\t\t\t\t\t\t\t\t\tW._legacy ?\n\t\t\t\t\t\t\t\t\t\tel.attachEvent('on' + evt, cb) :\n\t\t\t\t\t\t\t\t\t\tel.addEventListener(evt, cb, false);\n\t\t\t\t\t\t\t\t} else if (custom[evt]) {\n\t\t\t\t\t\t\t\t\tcustom[evt][0](el, fn, conf);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tbound.push({\n\t\t\t\t\t\t\t\t\tel: el,\n\t\t\t\t\t\t\t\t\tev: ev,\n\t\t\t\t\t\t\t\t\tevt: evt,\n\t\t\t\t\t\t\t\t\tcb: cb,\n\t\t\t\t\t\t\t\t\tfn: f\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (evt == 'init' || conf.init === true) {\n\t\t\t\t\t\t\t\tcb();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})(el, evt, fn, f, conf);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Detach event(s) from element\n\t\t *\n\t\t * @private\n\t\t * @param {(HTMLElement|string)} [sel]\n\t\t * @param {string} [evt]\n\t\t * @param {function} [fn]\n\t\t */\n\t\t_off = function(sel, evt, fn) {\n\t\t\tW.$each(W.events.bound(sel, evt, fn), function(e) {\n\t\t\t\tif ('on' + e.evt in W._doc) {\n\t\t\t\t\tW._legacy ?\n\t\t\t\t\t\te.el.detachEvent('on' + e.evt, e.cb) :\n\t\t\t\t\t\te.el.removeEventListener(e.evt, e.cb);\n\t\t\t\t} else if (custom[e.evt]) {\n\t\t\t\t\tcustom[e.evt][1](e.el, e.cb);\n\t\t\t\t}\n\n\t\t\t\tbound.splice(bound.indexOf(e), 1);\n\t\t\t});\n\t\t};\n\n\tW.events = {\n\t\t/**\n\t\t * Bind event function to element\n\t\t *\n\t\t * @param {(HTMLElement|object|string)} target\n\t\t * @param {(object|string)} a - event name or object of events\n\t\t * @param {(function|object)} [b] - event callback or options object\n\t\t * @param {(object|string)} [c] - event options\n\t\t * @param {Array} [c.args] - callback arguments\n\t\t * @param {(HTMLElement|string)} [c.context=document]\n\t\t * @param {(HTMLElement|string)} [c.delegate]\n\t\t * @param {boolean} [c.once=false] - remove event after first execution\n\t\t * @param {object} [c.scope]\n\t\t */\n\t\ton: function(target, a, b, c) {\n\t\t\tvar evts = [];\n\n\t\t\tif (W.$isObject(target) && ! target._$) {\n\t\t\t\tvar keys = Object.keys(target),\n\t\t\t\t\ti = 0;\n\n\t\t\t\tfor (; i < keys.length; i++) {\n\t\t\t\t\tvar key = keys[i];\n\t\t\t\t\tevts = target[key];\n\n\t\t\t\t\t_bind(key, evts, a);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (typeof a == 'string') {\n\t\t\t\t\tevts[a] = b;\n\t\t\t\t} else {\n\t\t\t\t\tevts = a;\n\t\t\t\t\tc = b;\n\t\t\t\t}\n\n\t\t\t\t_bind(target, evts, c);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Remove specified event from specified element\n\t\t *\n\t\t * @param {(HTMLElement|string)} [target]\n\t\t * @param {(object|string)} a - event name or object of events\n\t\t * @param {function} [b] - specific function to remove\n\t\t */\n\t\toff: function(target, a, b) {\n\t\t\tvar obj = a;\n\n\t\t\tif (a) {\n\t\t\t\tif (typeof a == 'string') {\n\t\t\t\t\tobj = [];\n\t\t\t\t\tobj[a] = b;\n\t\t\t\t}\n\n\t\t\t\tfor (var key in obj) {\n\t\t\t\t\tvar evts = key.split(' '),\n\t\t\t\t\t\ti = 0;\n\n\t\t\t\t\tfor (; i < evts.length; i++) {\n\t\t\t\t\t\tvar evt = evts[i],\n\t\t\t\t\t\tfn = obj[evt];\n\n\t\t\t\t\t\t_off(target, evt, fn);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t_off(target);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Get currently bound events to optional specified element and event|function\n\t\t *\n\t\t * @param {(false|HTMLElement|string)} [target]\n\t\t * @param {string} [event] - event name to match\n\t\t * @param {function} [fn] - specific function to match\n\t\t * @returns {Array} matches\n\t\t */\n\t\tbound: function(target, event, fn) {\n\t\t\tvar segs = (event || '').split('.'),\n\t\t\t\tmatches = [];\n\t\t\ttarget = target || [0];\n\n\t\t\tW.$each(target, function(el) {\n\t\t\t\tObject.keys(bound).forEach(function(e) {\n\t\t\t\t\tvar binding = bound[e],\n\t\t\t\t\t\tparts = binding.ev.split('.'),\n\t\t\t\t\t\tmatch = true;\n\n\t\t\t\t\tif (el && el !== binding.el) {\n\t\t\t\t\t\tmatch = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (event &&\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tsegs[0] !== '' &&\n\t\t\t\t\t\t\tsegs[0] != parts[0]\n\t\t\t\t\t\t) ||\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tsegs[1] &&\n\t\t\t\t\t\t\tsegs[1] != parts[1]\n\t\t\t\t\t\t)) {\n\t\t\t\t\t\tmatch = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (fn && String(fn) !== String(binding.fn)) {\n\t\t\t\t\t\tmatch = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (match) {\n\t\t\t\t\t\tmatches.push(binding);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn target ? matches : bound;\n\t\t},\n\n\t\t/**\n\t\t * Execute bound event for each matching selection\n\t\t *\n\t\t * @param {(HTMLElement|string)} target\n\t\t * @param {string} name\n\t\t */\n\t\ttrigger: function(target, name) {\n\t\t\tthis.bound(target, name).forEach(function(evt) {\n\t\t\t\tevt.cb(false);\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Add a custom event\n\t\t *\n\t\t * @param {string} name\n\t\t * @param {function} on\n\t\t * @param {function} off\n\t\t */\n\t\taddEvent: function(name, on, off) {\n\t\t\tcustom[name] = [on, off];\n\t\t}\n\t};\n})(Wee);","/* jshint maxparams: 5 */\n\n(function(W, D, E, H, U) {\n\t'use strict';\n\n\tvar support = H && H.pushState,\n\t\tentries = [],\n\t\tsettings = {},\n\t\troot = '',\n\t\tpath = '',\n\n\t\t/**\n\t\t * Return current path\n\t\t *\n\t\t * @private\n\t\t * @param {object} loc\n\t\t * @returns {string}\n\t\t */\n\t\t_path = function(loc) {\n\t\t\tloc = loc || location;\n\t\t\treturn loc.pathname + loc.search + loc.hash;\n\t\t},\n\n\t\t/**\n\t\t * Determine if path is valid for history navigation\n\t\t *\n\t\t * @private\n\t\t * @param {HTMLElement} el\n\t\t */\n\t\t_isValid = function(el) {\n\t\t\tvar host = el.hostname,\n\t\t\t\tpath = el.pathname,\n\t\t\t\tloc = location;\n\n\t\t\tif ((host && host != loc.hostname) ||\n\t\t\t\t(el.hash && path == loc.pathname)) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar exts = settings.extensions,\n\t\t\t\tsegs = path.split('.'),\n\t\t\t\text;\n\n\t\t\tif (segs.length > 1) {\n\t\t\t\text = segs.pop().split(/#|\\?/)[0];\n\t\t\t}\n\n\t\t\treturn ! ext || (exts && exts.indexOf(ext) > -1);\n\t\t},\n\n\t\t/**\n\t\t * Reset references and variables for a given selector\n\t\t *\n\t\t * @private\n\t\t * @param sel\n\t\t */\n\t\t_reset = function(sel) {\n\t\t\tW.$setRef(sel);\n\t\t\tW.$setVar(sel);\n\n\t\t\tW.history.bind();\n\t\t},\n\n\t\t/**\n\t\t * Process the history state of the request\n\t\t *\n\t\t * @private\n\t\t * @param {object} conf\n\t\t */\n\t\t_process = function(conf) {\n\t\t\tvar key = conf.path.replace(/^\\//g, ''),\n\t\t\t\trequest = conf.request,\n\t\t\t\tmethod = request.method;\n\n\t\t\tentries[key] = conf;\n\n\t\t\tif (! method || method == 'get') {\n\t\t\t\tconf.path = D._getUrl(request);\n\t\t\t}\n\n\t\t\tvar obj = {\n\t\t\t\targs: [\n\t\t\t\t\t{\n\t\t\t\t\t\tdir: conf.push ? 1 : -1,\n\t\t\t\t\t\tpath: conf.path,\n\t\t\t\t\t\tprev: path\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t};\n\n\t\t\t// Add entry to HTML5 history\n\t\t\tif (conf.push && support) {\n\t\t\t\tH.pushState(0, '', conf.path);\n\t\t\t}\n\n\t\t\t// Update document title\n\t\t\tif (conf.title) {\n\t\t\t\tW._doc.title = conf.title;\n\t\t\t}\n\n\t\t\tif (W.routes) {\n\t\t\t\t// Update current path\n\t\t\t\tW.routes.uri(conf.path);\n\t\t\t\tW.routes.uri({\n\t\t\t\t\thistory: true\n\t\t\t\t});\n\n\t\t\t\t// Evaluate routes against updated path\n\t\t\t\tif (conf.run) {\n\t\t\t\t\tW.routes.run({\n\t\t\t\t\t\tevent: 'pop',\n\t\t\t\t\t\tpath: path\n\t\t\t\t\t});\n\n\t\t\t\t\tW.routes.run({\n\t\t\t\t\t\tpath: conf.path\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tpath = conf.path;\n\t\t\t}\n\n\t\t\tif (conf.push && conf.pushstate) {\n\t\t\t\tW.$exec(conf.pushstate, obj);\n\t\t\t}\n\n\t\t\tif (conf.pop && conf.popstate) {\n\t\t\t\tW.$exec(conf.popstate, obj);\n\t\t\t}\n\n\t\t\tif (conf.end) {\n\t\t\t\tW.$exec(conf.end, obj);\n\t\t\t}\n\t\t};\n\n\tW.history = {\n\t\t/**\n\t\t * Set the initial state and popstate event, and bind global actions\n\t\t *\n\t\t * @param {object} [options]\n\t\t * @param {($|HTMLElement|string)} [options.bind]\n\t\t * @param {array} [options.extensions]\n\t\t * @param {string] [options.partials='title,main']\n\t\t * @param {boolean] [options.push=true]\n\t\t * @param {object} [options.request]\n\t\t * @param {boolean} [options.run=true]\n\t\t */\n\t\tinit: function(options) {\n\t\t\tif (! this.request) {\n\t\t\t\tpath = _path();\n\t\t\t\tsettings = W.$extend({\n\t\t\t\t\tpartials: 'title,main',\n\t\t\t\t\tpush: true,\n\t\t\t\t\trequest: {},\n\t\t\t\t\trun: true,\n\t\t\t\t\tscrollTop: 0\n\t\t\t\t}, options);\n\t\t\t\troot = settings.request.root || '';\n\n\t\t\t\tthis.request = settings.request;\n\t\t\t\tdelete settings.request;\n\n\t\t\t\tif (support) {\n\t\t\t\t\t// Set current state\n\t\t\t\t\tH.replaceState(0, '', path);\n\n\t\t\t\t\t// Listen for browser navigation\n\t\t\t\t\tE.on(W._win, 'popstate.history', function(e) {\n\t\t\t\t\t\tif (e.state !== null) {\n\t\t\t\t\t\t\tvar path = _path(),\n\t\t\t\t\t\t\t\tconf = entries[path.replace(/^\\//g, '')];\n\n\t\t\t\t\t\t\tW.history.go(W.$extend(\n\t\t\t\t\t\t\t\tconf || {\n\t\t\t\t\t\t\t\t\trequest: {\n\t\t\t\t\t\t\t\t\t\troot: ''\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\t\tpath: path,\n\t\t\t\t\t\t\t\t\tpush: false,\n\t\t\t\t\t\t\t\t\tpop: true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t));\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// Bind PJAX actions\n\t\t\t\tthis.bind();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Bind element events and form submit events to PJAX\n\t\t *\n\t\t * @param {object} [events]\n\t\t * @param {($|HTMLElement|Object|string)} [a] - settings or context\n\t\t * @param {($|HTMLElement|string)} [context=document]\n\t\t */\n\t\tbind: function(events, a, context) {\n\t\t\tevents = events || settings.bind;\n\n\t\t\tif (typeof a !== 'object') {\n\t\t\t\tcontext = a;\n\t\t\t\ta = {};\n\t\t\t}\n\n\t\t\tif (support && typeof events == 'object') {\n\t\t\t\tvar keys = Object.keys(events),\n\t\t\t\t\ti = 0;\n\n\t\t\t\tfor (; i < keys.length; i++) {\n\t\t\t\t\tvar event = keys[i],\n\t\t\t\t\t\tsel = events[event];\n\n\t\t\t\t\t$(sel).each(function(el) {\n\t\t\t\t\t\tvar evt = event.split(' ').map(function(val) {\n\t\t\t\t\t\t\t\treturn val + '.history';\n\t\t\t\t\t\t\t}).join(' '),\n\t\t\t\t\t\t\tloc = el.getAttribute('data-url'),\n\t\t\t\t\t\t\tl = el;\n\n\t\t\t\t\t\tif (loc || a.action) {\n\t\t\t\t\t\t\tl = W._doc.createElement('a');\n\t\t\t\t\t\t\tl.href = loc || el.action;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Ensure the path exists and is local\n\t\t\t\t\t\tif (evt && _isValid(l)) {\n\t\t\t\t\t\t\tvar options = W.$extend(true, {}, a);\n\t\t\t\t\t\t\toptions.path = _path(l);\n\n\t\t\t\t\t\t\tE.on(el, evt, function(e) {\n\t\t\t\t\t\t\t\tif (! e.metaKey) {\n\t\t\t\t\t\t\t\t\tW.history.go(options);\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}, {\n\t\t\t\t\t\tcontext: context\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Navigate to a new path or within the browser history\n\t\t *\n\t\t * @param {object} options\n\t\t * @param {string} [options.path=current path]\n\t\t * @param {boolean} [options.push=true]\n\t\t * @param {boolean} [options.run=true]\n\t\t * @param {string} [options.title='']\n\t\t * @param {object} [options.request]\n\t\t * @param {string} [options.action='replace']\n\t\t * @param {($|HTMLElement|string)} [options.scrollTop]\n\t\t */\n\t\tgo: function(options) {\n\t\t\tvar scope = this;\n\n\t\t\tif (! scope.request) {\n\t\t\t\tscope.init();\n\t\t\t}\n\n\t\t\tvar globalRequest = scope.request,\n\t\t\t\tconf = W.$extend(\n\t\t\t\t\t{},\n\t\t\t\t\tsettings,\n\t\t\t\t\toptions\n\t\t\t\t),\n\t\t\t\trequest = conf.request || {};\n\n\t\t\trequest.root = request.root !== U ?\n\t\t\t\trequest.root :\n\t\t\t\troot;\n\n\t\t\trequest.url = request.url !== U ?\n\t\t\t\trequest.url :\n\t\t\t\tconf.path;\n\n\t\t\t// Navigate to external URL or if history isn't supported\n\t\t\tvar a = W._doc.createElement('a');\n\t\t\ta.href = request.root + request.url;\n\n\t\t\tif (! support || ! _isValid(a)) {\n\t\t\t\tW._win.location = request.url;\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (conf.begin && W.$exec(conf.begin, {\n\t\t\t\t\targs: [conf]\n\t\t\t\t}) === false) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Reset URL to exclude root\n\t\t\ta.href = request.url;\n\n\t\t\trequest.url = _path(a);\n\t\t\tconf.request = request;\n\n\t\t\t// Request partial Ajax\n\t\t\tif (request.url) {\n\t\t\t\tvar sendEvents = [],\n\t\t\t\t\tsuccessEvents = [],\n\t\t\t\t\terrorEvents = [],\n\t\t\t\t\tcompleteEvents = [],\n\t\t\t\t\tpartials = conf.partials,\n\t\t\t\t\ttargets = W.$(partials);\n\n\t\t\t\t// Set Pjax header\n\t\t\t\trequest.headers = request.headers || {};\n\t\t\t\trequest.headers['X-PJAX'] = 'true';\n\n\t\t\t\t// Process send events\n\t\t\t\tif (request.send) {\n\t\t\t\t\tsendEvents.push(request.send);\n\t\t\t\t}\n\n\t\t\t\tif (globalRequest.send) {\n\t\t\t\t\tsendEvents.push(globalRequest.send);\n\t\t\t\t}\n\n\t\t\t\trequest.send = sendEvents;\n\n\t\t\t\t// Compile success events\n\t\t\t\tsuccessEvents.push(function(html) {\n\t\t\t\t\tif (conf.replace) {\n\t\t\t\t\t\tW.$exec(conf.replace, {\n\t\t\t\t\t\t\targs: [html]\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\t// Evaluate unload routes against updated path\n\t\t\t\t\tif (W.routes && conf.run) {\n\t\t\t\t\t\tW.routes.run({\n\t\t\t\t\t\t\tevent: 'unload',\n\t\t\t\t\t\t\tpath: path\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (partials) {\n\t\t\t\t\t\thtml = W.$parseHTML('<i>' + html + '</i>').firstChild;\n\n\t\t\t\t\t\t// Make partial replacements from response\n\t\t\t\t\t\tW.$each(partials.split(','), function(sel) {\n\t\t\t\t\t\t\tW.$each(sel, function(el) {\n\t\t\t\t\t\t\t\tvar target = W.$(sel)[0];\n\n\t\t\t\t\t\t\t\tif (target) {\n\t\t\t\t\t\t\t\t\tvar parent = target.parentNode;\n\n\t\t\t\t\t\t\t\t\tconf.action == 'append' ?\n\t\t\t\t\t\t\t\t\t\tparent.appendChild(el) :\n\t\t\t\t\t\t\t\t\t\tparent.replaceChild(el, target);\n\n\t\t\t\t\t\t\t\t\t_reset(parent);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tcontext: html\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttargets.innerHTML = html;\n\n\t\t\t\t\t\t_reset(targets);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (request.success) {\n\t\t\t\t\tsuccessEvents.push(request.success);\n\t\t\t\t}\n\n\t\t\t\tif (globalRequest.success) {\n\t\t\t\t\tsuccessEvents.push(globalRequest.success);\n\t\t\t\t}\n\n\t\t\t\tsuccessEvents.push(function() {\n\t\t\t\t\t// Scroll vertically to target\n\t\t\t\t\tif (conf.scrollTop !== false) {\n\t\t\t\t\t\tvar top = typeof conf.scrollTop == 'number' ?\n\t\t\t\t\t\t\t\tconf.scrollTop :\n\t\t\t\t\t\t\t\tW.$(conf.scrollTop)[0].getBoundingClientRect().top +\n\t\t\t\t\t\t\t\t\tW._win.pageYOffset,\n\t\t\t\t\t\t\tanim = W.animate;\n\n\t\t\t\t\t\tif (anim) {\n\t\t\t\t\t\t\tanim.tween(W._body, {\n\t\t\t\t\t\t\t\tscrollTop: top\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tW._body.scrollTop = top;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\trequest.success = successEvents;\n\n\t\t\t\t// Compile error events\n\t\t\t\tif (request.error) {\n\t\t\t\t\terrorEvents.push(request.error);\n\t\t\t\t}\n\n\t\t\t\tif (globalRequest.error) {\n\t\t\t\t\terrorEvents.push(globalRequest.error);\n\t\t\t\t}\n\n\t\t\t\trequest.error = errorEvents;\n\n\t\t\t\t// Compile complete events\n\t\t\t\tif (request.complete) {\n\t\t\t\t\tcompleteEvents.push(request.complete);\n\t\t\t\t}\n\n\t\t\t\tif (globalRequest.complete) {\n\t\t\t\t\tcompleteEvents.push(globalRequest.complete);\n\t\t\t\t}\n\n\t\t\t\tcompleteEvents.push(function(xhr) {\n\t\t\t\t\tif (xhr.status == 200) {\n\t\t\t\t\t\t_process(conf);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\trequest.complete = completeEvents;\n\n\t\t\t\t// Make Ajax request\n\t\t\t\trequest.args = request.args || [];\n\t\t\t\trequest.args.unshift(targets);\n\n\t\t\t\tD.request(request);\n\t\t\t} else {\n\t\t\t\t_process(conf);\n\t\t\t}\n\t\t}\n\t};\n})(Wee, Wee.data, Wee.events, history, undefined);","/* jshint maxdepth: 6 */\n\n(function(W, U) {\n\t'use strict';\n\n\tvar filters = {\n\t\t\tnum: function(seg) {\n\t\t\t\treturn Number(parseInt(seg)) == seg;\n\t\t\t}\n\t\t},\n\t\tany = [],\n\t\troutes,\n\t\tsegs,\n\t\turi,\n\n\t\t/**\n\t\t * Recursively process routes\n\t\t *\n\t\t * @private\n\t\t * @param {string} route - route to evaluate\n\t\t * @param {int} i - current index in iteration\n\t\t * @param {int} total - total number of routes\n\t\t * @param {string} [event='load'] - lifecycle event\n\t\t */\n\t\t_process = function(route, i, total, event) {\n\t\t\tvar seg = segs[i],\n\t\t\t\tkeys = Object.keys(route),\n\t\t\t\tx = 0;\n\t\t\ti++;\n\n\t\t\t// Match against patterns\n\t\t\tfor (; x < keys.length; x++) {\n\t\t\t\tvar key = keys[x],\n\t\t\t\t\tchild = route[key],\n\t\t\t\t\topts = key.split('||'),\n\t\t\t\t\tk = 0,\n\t\t\t\t\ty = i,\n\t\t\t\t\tmatch = false,\n\t\t\t\t\tran = false;\n\n\t\t\t\tfor (; k < opts.length; k++) {\n\t\t\t\t\tvar opt = opts[k],\n\t\t\t\t\t\tparts = opt.split(':'),\n\t\t\t\t\t\thistory = event != U,\n\t\t\t\t\t\tnegate = false,\n\t\t\t\t\t\tpush = false,\n\t\t\t\t\t\teq = false;\n\n\t\t\t\t\t// Ensure event type matches route type\n\t\t\t\t\tif ((! history && (\n\t\t\t\t\t\t\tparts.indexOf('unload') > -1 ||\n\t\t\t\t\t\t\tparts.indexOf('pop') > -1)\n\t\t\t\t\t\t) ||\n\t\t\t\t\t\t(history && (\n\t\t\t\t\t\t\t! W.$isObject(child) &&\n\t\t\t\t\t\t\tparts.indexOf(event) < 0\n\t\t\t\t\t\t))) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Set option to rule root\n\t\t\t\t\tif (parts.length > 1) {\n\t\t\t\t\t\topt = parts[0];\n\t\t\t\t\t}\n\n\t\t\t\t\t// Negate routes prefixed by !\n\t\t\t\t\tif (opt[0] == '!') {\n\t\t\t\t\t\topt = opt.slice(1);\n\t\t\t\t\t\tnegate = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Move the segment pointer back one level\n\t\t\t\t\tif (parts.indexOf('eval') > -1) {\n\t\t\t\t\t\ty--;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (opt == seg) {\n\t\t\t\t\t\teq = true;\n\t\t\t\t\t} else if (opt[0] == '$') {\n\t\t\t\t\t\topt = opt.slice(1);\n\n\t\t\t\t\t\tif (opt == 'any') {\n\t\t\t\t\t\t\teq = true;\n\n\t\t\t\t\t\t\tif (parts.indexOf('fire') > -1) {\n\t\t\t\t\t\t\t\tran = true;\n\t\t\t\t\t\t\t} else if (! W.$isObject(child)) {\n\t\t\t\t\t\t\t\tpush = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (opt == 'root') {\n\t\t\t\t\t\t\tif (! seg) {\n\t\t\t\t\t\t\t\teq = true;\n\t\t\t\t\t\t\t\tran = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (opt[0] == '/') {\n\t\t\t\t\t\t\tvar split = opt.split('/');\n\n\t\t\t\t\t\t\tif (new RegExp(split[1], split[2]).test(seg)) {\n\t\t\t\t\t\t\t\teq = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar filter = filters[opt];\n\n\t\t\t\t\t\t\tif (filter) {\n\t\t\t\t\t\t\t\tif (filter(seg, child, y) === true) {\n\t\t\t\t\t\t\t\t\teq = true;\n\t\t\t\t\t\t\t\t\tpush = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (seg && seg.trim() !== '') {\n\t\t\t\t\t\t\t\teq = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Invert the equality if the route is negated\n\t\t\t\t\tif (negate) {\n\t\t\t\t\t\teq = ! eq;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (eq) {\n\t\t\t\t\t\t// If ran is true then execute the route immediately\n\t\t\t\t\t\tif (ran) {\n\t\t\t\t\t\t\tW.$exec(child, {\n\t\t\t\t\t\t\t\targs: seg\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If push is true then push the route to the any queue\n\t\t\t\t\t\tif (push) {\n\t\t\t\t\t\t\tran = true;\n\t\t\t\t\t\t\tany.push([child, seg]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Remove the route if set to once\n\t\t\t\t\t\tif (parts.indexOf('once') > -1) {\n\t\t\t\t\t\t\tdelete route[key];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Set match to true and break on match\n\t\t\t\t\t\tmatch = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If matched then process recursively or execute if applicable\n\t\t\t\tif (match) {\n\t\t\t\t\tif (W.$isObject(child)) {\n\t\t\t\t\t\t_process(child, y, total, event);\n\t\t\t\t\t} else if (! ran && y === total) {\n\t\t\t\t\t\tW.$exec(child, {\n\t\t\t\t\t\t\targs: seg\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\tW.routes = {\n\t\t/**\n\t\t * Get current URI values or set with string or value\n\t\t *\n\t\t * @param {(object|string)} [value]\n\t\t * @param {string} [value.full]\n\t\t * @param {string} [value.hash]\n\t\t * @param {boolean} [value.history]\n\t\t * @param {string} [value.path]\n\t\t * @param {object} [value.query]\n\t\t * @param {array} [value.segments]\n\t\t * @param {string} [value.url]\n\t\t * @returns {object} data\n\t\t */\n\t\turi: function(value) {\n\t\t\tif (value) {\n\t\t\t\tif (W.$isObject(value)) {\n\t\t\t\t\turi = W.$extend(this.uri(), value);\n\t\t\t\t\treturn uri;\n\t\t\t\t}\n\n\t\t\t\tvar a = W._doc.createElement('a');\n\t\t\t\ta.href = value;\n\n\t\t\t\tvar search = a.search,\n\t\t\t\t\tpath = a.pathname.replace(/^\\/|\\/$/g, '');\n\n\t\t\t\turi = {\n\t\t\t\t\tfull: '/' + path + search + a.hash,\n\t\t\t\t\thash: a.hash.slice(1),\n\t\t\t\t\thistory: false,\n\t\t\t\t\tpath: '/' + path,\n\t\t\t\t\tquery: search ? W.$unserialize(search) : {},\n\t\t\t\t\tsegments: path.split('/'),\n\t\t\t\t\turl: a.href\n\t\t\t\t};\n\t\t\t} else if (! uri) {\n\t\t\t\turi = W.routes.uri(location.href);\n\t\t\t}\n\n\t\t\treturn uri;\n\t\t},\n\n\t\t/**\n\t\t * Get all segments or segment at index\n\t\t *\n\t\t * @param {int} [index]\n\t\t * @returns {(Array|string)} segments\n\t\t */\n\t\tsegments: function(index) {\n\t\t\tvar segs = this.uri().segments;\n\n\t\t\treturn index !== U ? (segs[index] || '') : segs;\n\t\t},\n\n\t\t/**\n\t\t * Retrieve or add route endpoints\n\t\t *\n\t\t * @param {object} obj - routes\n\t\t * @param {bool} [init=false] - immediately evaluate routes\n\t\t * @returns {object} routes\n\t\t */\n\t\tmap: function(obj, init) {\n\t\t\tvar curr = routes || {};\n\n\t\t\tif (obj) {\n\t\t\t\troutes = W.$extend(curr, obj);\n\n\t\t\t\tif (init) {\n\t\t\t\t\tthis.run({\n\t\t\t\t\t\troutes: routes\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn curr;\n\t\t},\n\n\t\t/**\n\t\t * Add conditional route filter\n\t\t *\n\t\t * @param {(object|string)} name or filter object\n\t\t * @param {function} [fn]\n\t\t */\n\t\taddFilter: function(name, fn) {\n\t\t\tW._extend(filters, name, fn);\n\t\t},\n\n\t\t/**\n\t\t * Evaluate routes against URI\n\t\t *\n\t\t * @param {object} [conf]\n\t\t * @param {string} [cong.event='load']\n\t\t * @param {string} [conf.path]\n\t\t * @param {object} [conf.rules]\n\t\t */\n\t\trun: function(conf) {\n\t\t\tconf = conf || {};\n\t\t\tvar rules = conf.routes || routes;\n\n\t\t\tif (rules) {\n\t\t\t\tsegs = conf.path ?\n\t\t\t\t\tconf.path.replace(/^\\/|\\/$/g, '').split(/#|\\?/)[0].split('/') :\n\t\t\t\t\tthis.segments();\n\n\t\t\t\t_process(rules, 0, segs.length, conf.event);\n\n\t\t\t\t// Execute queued init functions on last iteration\n\t\t\t\tif (any.length) {\n\t\t\t\t\tfor (var i = 0; i < any.length; i++) {\n\t\t\t\t\t\tvar rule = any[i];\n\n\t\t\t\t\t\tW.$exec(rule[0], {\n\t\t\t\t\t\t\targs: rule[1]\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\t// Clear array for next iteration\n\t\t\t\t\tany = [];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n})(Wee, undefined);","(function(W) {\n\t'use strict';\n\n\tvar events = [],\n\t\tbound,\n\t\tcurrent,\n\n\t\t/**\n\t\t * Bind individual rule\n\t\t *\n\t\t * @private\n\t\t * @param {object} conf - breakpoint rules\n\t\t * @param {function} conf.callback\n\t\t * @param {number} [conf.min] - minimum breakpoint value\n\t\t * @param {number} [conf.max] - maximum breakpoint value\n\t\t * @param {number} [conf.size] - specific breakpoint value\n\t\t * @param {Array} [conf.args] - callback arguments\n\t\t * @param {boolean} [conf.each=false] - execute for each matching breakpoint\n\t\t * @param {boolean} [conf.init=true] - check event on load\n\t\t * @param {boolean} [conf.once=false] - only execute the callback once\n\t\t * @param {object} [conf.scope] - callback scope\n\t\t * @param {boolean} [conf.watch=true] - check event on screen resize\n\t\t */\n\t\t_addRule = function(conf) {\n\t\t\tif (conf.callback) {\n\t\t\t\t// Only setup watching when enabled\n\t\t\t\tif (conf.watch !== false) {\n\t\t\t\t\tevents.push(conf);\n\n\t\t\t\t\t// Only attach event once\n\t\t\t\t\tif (! bound) {\n\t\t\t\t\t\tvar run = _run.bind(this, false, 0);\n\t\t\t\t\t\tbound = 1;\n\t\t\t\t\t\tevents = [conf];\n\n\t\t\t\t\t\t// Attach resize event\n\t\t\t\t\t\tW._legacy ?\n\t\t\t\t\t\t\tW._win.attachEvent('onresize', run) :\n\t\t\t\t\t\t\tW._win.addEventListener('resize', run);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Evaluate rule immediately if not disabled\n\t\t\t\tif (conf.init !== false) {\n\t\t\t\t\t_run(true, [conf]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Check mapped rules for matching conditions\n\t\t *\n\t\t * @private\n\t\t * @param {boolean} [init=false] - initial page load\n\t\t * @param {Array} [rules] - breakpoint rules\n\t\t */\n\t\t_run = function(init, rules) {\n\t\t\tvar size = W.screen.size();\n\n\t\t\t// If breakpoint has been hit or resize logic initialized\n\t\t\tif (size && (init || size !== current)) {\n\t\t\t\tvar evts = rules || events,\n\t\t\t\t\ti = 0;\n\n\t\t\t\tfor (; i < evts.length; i++) {\n\t\t\t\t\tvar evt = evts[i];\n\n\t\t\t\t\tif (_eq(evt, size, init)) {\n\t\t\t\t\t\tvar f = init && ! current;\n\n\t\t\t\t\t\t_exec(evt, {\n\t\t\t\t\t\t\tdir: f ? 0 : (size > current ? 1 : -1),\n\t\t\t\t\t\t\tinit: f,\n\t\t\t\t\t\t\tprev: current,\n\t\t\t\t\t\t\tsize: size\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Cache current value\n\t\t\t\tcurrent = size;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Compare event rules against current size\n\t\t *\n\t\t * @private\n\t\t * @param {object} evt\n\t\t * @param {number} size\n\t\t * @param {boolean} init\n\t\t * @returns {boolean}\n\t\t */\n\t\t_eq = function(evt, size, init) {\n\t\t\tvar sz = evt.size,\n\t\t\t\tmn = evt.min,\n\t\t\t\tmx = evt.max,\n\t\t\t\tex = evt.each || init;\n\n\t\t\t// Check match against rules\n\t\t\treturn (! sz && ! mn && ! mx) ||\n\t\t\t\t(sz && sz === size) ||\n\t\t\t\t(mn && size >= mn && (ex || current < mn) && (! mx || size <= mx)) ||\n\t\t\t\t(mx && size <= mx && (ex || current > mx) && (! mn || size >= mn));\n\t\t},\n\n\t\t/**\n\t\t * Execute matching breakpoint callback\n\t\t *\n\t\t * @private\n\t\t * @param {object} evt\n\t\t * @param {object} data\n\t\t */\n\t\t_exec = function(evt, data) {\n\t\t\tW.$exec(evt.callback, {\n\t\t\t\targs: evt.args ? [data].concat(evt.args) : [data],\n\t\t\t\tscope: evt.scope\n\t\t\t});\n\n\t\t\t// Disable future execution if once\n\t\t\tif (evt.once) {\n\t\t\t\tevents = events.filter(function(el) {\n\t\t\t\t\treturn el !== evt;\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\tW.screen = {\n\t\t/**\n\t\t * Get current breakpoint value\n\t\t *\n\t\t * @returns {number} size\n\t\t */\n\t\tsize: function() {\n\t\t\tvar style = W._html.currentStyle,\n\t\t\t\tsize = W._legacy ?\n\t\t\t\t\t(style ?\n\t\t\t\t\t\tstyle.fontFamily :\n\t\t\t\t\t\tnull\n\t\t\t\t\t) :\n\t\t\t\t\tW._win.getComputedStyle(W._html, null)\n\t\t\t\t\t\t.getPropertyValue('font-family');\n\n\t\t\treturn parseFloat(\n\t\t\t\tsize.replace(/[^0-9\\.]+/g, ''),\n\t\t\t\t10\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Map conditional events to breakpoint values\n\t\t *\n\t\t * @param {(Array|object)} rules - breakpoint rules\n\t\t * @param {int} [rules.size] - specific breakpoint value\n\t\t * @param {int} [rules.min] - minimum breakpoint value\n\t\t * @param {int} [rules.max] - maximum breakpoint value\n\t\t * @param {boolean} [rules.watch=true] - check event on screen resize\n\t\t * @param {boolean} [rules.init=true] - check event on load\n\t\t * @param {boolean} [conf.once=false] - only execute the callback once\n\t\t * @param {boolean} [conf.each=false] - execute for each matching breakpoint\n\t\t * @param {object} [rules.scope] - callback scope\n\t\t * @param {Array} [rules.args] - callback arguments\n\t\t * @param {function} rules.callback\n\t\t */\n\t\tmap: function(rules) {\n\t\t\tvar sets = W.$toArray(rules),\n\t\t\t\ti = 0;\n\n\t\t\t// Delay check to prevent incorrect IE value\n\t\t\tsetTimeout(function() {\n\t\t\t\tfor (; i < sets.length; i++) {\n\t\t\t\t\t_addRule(sets[i]);\n\t\t\t\t}\n\t\t\t}, W._legacy ? 100 : 0);\n\t\t},\n\n\t\t/**\n\t\t * Evaluate the current breakpoint\n\t\t */\n\t\trun: function() {\n\t\t\t_run(true);\n\t\t},\n\n\t\t/**\n\t\t * Reset all bound events\n\t\t */\n\t\treset: function() {\n\t\t\tevents = [];\n\t\t}\n\t};\n})(Wee);","(function(W, E) {\n\t'use strict';\n\n\tvar events = [\n\t\t\t['swipeLeft', 'X', 1],\n\t\t\t['swipeRight', 'X', -1],\n\t\t\t['swipeUp', 'Y', 1],\n\t\t\t['swipeDown', 'Y', -1]\n\t\t],\n\t\tdown = 'mousedown',\n\t\tup = 'mouseup';\n\n\t/**\n\t * Loop through custom events and bind applicable standard events\n\t */\n\tevents.forEach(function(event) {\n\t\tE.addEvent(event[0], function(el, fn, conf) {\n\t\t\tvar scope = this,\n\t\t\t\tdistance = conf.distance || 50;\n\n\t\t\tE.on(el, down + '.' + event[0], function(e) {\n\t\t\t\tscope.start = e['client' + event[1]];\n\t\t\t}, conf);\n\n\t\t\tE.on(el, up + '.' + event[0], function(e, el) {\n\t\t\t\tvar travel = (scope.start - e['client' + event[1]]) * event[2];\n\n\t\t\t\tif (travel > distance) {\n\t\t\t\t\tfn.apply(conf.scope || el, W._slice.call(arguments));\n\t\t\t\t}\n\t\t\t}, conf);\n\t\t}, function(el, fn) {\n\t\t\tE.off(el, down + '.' + event[0] + ' ' + up + '.' + event[0], fn);\n\t\t});\n\t});\n})(Wee, Wee.events);","/* jshint maxdepth: 5, maxparams: 6 */\n\n(function(W, U) {\n\t'use strict';\n\n\tvar reg = {\n\t\t\targs: /(\\\\?['\"][^'\"]+\\\\?['\"]|[^,]+)/g,\n\t\t\text: /(.[^\\(]+)(?:\\((.*)\\))?/,\n\t\t\tpair: /{{#(.+?)(?:|\\|?([^}]*))}}([\\s\\S]*?){{\\/\\1}}/g,\n\t\t\tpartial: /{{\\s*> (.+?)}}/g,\n\t\t\tsingle: /{{(.+?)}}/g,\n\t\t\tstr: /^\\\\?(\"|')/,\n\t\t\ttags: /{{\\s*(?:([#\\/])([^#{\\|\\n\\s]+)\\s*(\\|[^{\\n]+)?|else)\\s*}}/g\n\t\t},\n\t\thelpers = {\n\t\t\tis: function(val) {\n\t\t\t\treturn this.val === val;\n\t\t\t},\n\t\t\tnot: function(val) {\n\t\t\t\treturn this.val !== val;\n\t\t\t},\n\t\t\tisEmpty: function() {\n\t\t\t\treturn this.empty;\n\t\t\t},\n\t\t\tnotEmpty: function() {\n\t\t\t\treturn ! this.empty;\n\t\t\t}\n\t\t},\n\t\tpartials = {},\n\t\tviews = {},\n\t\tesc,\n\n\t\t/**\n\t\t * Determine if value is matches empty criteria\n\t\t *\n\t\t * @private\n\t\t * @param {*} val\n\t\t * @returns {boolean}\n\t\t */\n\t\t_isEmpty = function(val) {\n\t\t\treturn val === '' ||\n\t\t\t\tval === false ||\n\t\t\t\tval == null ||\n\t\t\t\t(typeof val == 'object' && ! Object.keys(val).length);\n\t\t},\n\n\t\t/**\n\t\t * Render template string\n\t\t *\n\t\t * @private\n\t\t * @param {string} temp\n\t\t * @param {object} data\n\t\t * @returns {string}\n\t\t */\n\t\t_render = function(temp, data) {\n\t\t\tvar tags = [],\n\t\t\t\tdepth = [];\n\n\t\t\tif (views[temp]) {\n\t\t\t\ttemp = views[temp];\n\t\t\t}\n\n\t\t\t// Make partial replacements and match tag pairs\n\t\t\ttemp = temp.replace(reg.partial, function(match, tag) {\n\t\t\t\tvar partial = partials[tag.trim()];\n\n\t\t\t\treturn partial ? (\n\t\t\t\t\tW.$isFunction(partial) ?\n\t\t\t\t\t\tpartial() :\n\t\t\t\t\t\tpartial\n\t\t\t\t) : '';\n\t\t\t}).replace(reg.tags, function(m, pre, tag, helper) {\n\t\t\t\tvar resp = '{{';\n\n\t\t\t\tif (pre) {\n\t\t\t\t\tvar segs = tag.split('('),\n\t\t\t\t\t\troot = segs[0],\n\t\t\t\t\t\texists = tags.hasOwnProperty(tag);\n\t\t\t\t\tresp += pre + root + '%';\n\n\t\t\t\t\tif (pre == '#') {\n\t\t\t\t\t\tdepth.push(root);\n\n\t\t\t\t\t\tif (exists) {\n\t\t\t\t\t\t\ttags[root].i++;\n\t\t\t\t\t\t\ttags[root].o.push(tags[root].i);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttags[root] = {\n\t\t\t\t\t\t\t\ti: 1,\n\t\t\t\t\t\t\t\to: [1]\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (segs.length > 1) {\n\t\t\t\t\t\t\thelper = '(' + segs.slice(1).join('(');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tresp += tags[root].i + (helper || '');\n\t\t\t\t\t} else if (exists) {\n\t\t\t\t\t\tresp += tags[root].o.pop();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ttag = depth.pop();\n\t\t\t\t\tresp += ':' + tag + '%' + tags[tag].i;\n\t\t\t\t}\n\n\t\t\t\treturn resp + '}}';\n\t\t\t});\n\n\t\t\t// Parse template tags\n\t\t\ttemp = _parse(temp, data, {}, data, 0);\n\n\t\t\t// Reconstitute replacements\n\t\t\treturn esc ?\n\t\t\t\ttemp.replace(/{~/g, '{{')\n\t\t\t\t\t.replace(/~}/g, '}}')\n\t\t\t\t\t.replace(/%\\d+/g, '') :\n\t\t\t\ttemp;\n\t\t},\n\n\t\t/**\n\t\t * Parse template string\n\t\t *\n\t\t * @private\n\t\t * @param {string} temp\n\t\t * @param {object} data\n\t\t * @param {object} prev\n\t\t * @param {object} init\n\t\t * @param {int} index\n\t\t * @returns {string}\n\t\t */\n\t\t_parse = function(temp, data, prev, init, index) {\n\t\t\treturn temp.replace(reg.pair, function(m, t, helper, inner) {\n\t\t\t\tvar tag = t.replace(/%\\d+/, '');\n\n\t\t\t\t// Escape child template tags\n\t\t\t\tif (tag == '!') {\n\t\t\t\t\tesc = true;\n\n\t\t\t\t\treturn inner.replace(/{{:[^{\\s]+}}/g, '{{ else }}')\n\t\t\t\t\t\t.replace(/{{/g, '{~ ')\n\t\t\t\t\t\t.replace(/}}/g, ' ~}');\n\t\t\t\t}\n\n\t\t\t\tvar cond = inner.split('{{:' + t + '}}');\n\t\t\t\tinner = cond[0];\n\t\t\t\tesc = false;\n\n\t\t\t\tvar val = _get(data, prev, tag, U, init, index),\n\t\t\t\t\tempty = _isEmpty(val),\n\t\t\t\t\thelp = [],\n\t\t\t\t\teach;\n\n\t\t\t\t// Parse helpers\n\t\t\t\tif (helper || empty) {\n\t\t\t\t\tvar meth = helper ? helper.split('|') : [],\n\t\t\t\t\t\tsec = cond.length > 1 ? cond[1] : '',\n\t\t\t\t\t\tagg = [];\n\n\t\t\t\t\t// Check for root helpers\n\t\t\t\t\tif (empty) {\n\t\t\t\t\t\tvar arg = meth[0] && meth[0][0] == '(';\n\t\t\t\t\t\tmeth.unshift(tag + (arg ? meth[0] : '()'));\n\n\t\t\t\t\t\tif (arg) {\n\t\t\t\t\t\t\tmeth.splice(1, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Capture available aggregates and helpers\n\t\t\t\t\tmeth.forEach(function(el) {\n\t\t\t\t\t\tvar arr = el.match(reg.ext),\n\t\t\t\t\t\t\tname = arr[1].trim();\n\n\t\t\t\t\t\t// Check for each helper\n\t\t\t\t\t\tif (name == 'each') {\n\t\t\t\t\t\t\teach = true;\n\t\t\t\t\t\t} else if (helpers[name]) {\n\t\t\t\t\t\t\tel = [helpers[name], arr[2]];\n\t\t\t\t\t\t\teach ? help.push(el) : agg.push(el);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t// Process aggregates\n\t\t\t\t\tif (agg.length) {\n\t\t\t\t\t\tif (! agg.every(function(f) {\n\t\t\t\t\t\t\t\tvar rv = f[0].apply({\n\t\t\t\t\t\t\t\t\tval: val,\n\t\t\t\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\t\t\t\troot: init,\n\t\t\t\t\t\t\t\t\ttag: tag,\n\t\t\t\t\t\t\t\t\tempty: empty,\n\t\t\t\t\t\t\t\t\tindex: index\n\t\t\t\t\t\t\t\t}, _parseArgs(f[1], val));\n\n\t\t\t\t\t\t\t\tif (rv === false) {\n\t\t\t\t\t\t\t\t\treturn rv;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (rv !== true) {\n\t\t\t\t\t\t\t\t\tval = rv;\n\t\t\t\t\t\t\t\t\tempty = _isEmpty(val);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t})) {\n\t\t\t\t\t\t\treturn _parse(sec, data, prev, init, index);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (empty) {\n\t\t\t\t\t\treturn _parse(sec, data, prev, init, index);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar isObject = typeof val == 'object';\n\n\t\t\t\tif (! each) {\n\t\t\t\t\tif (! isObject) {\n\t\t\t\t\t\tval = W.$extend({}, data, {\n\t\t\t\t\t\t\t'.': val,\n\t\t\t\t\t\t\t'#': 0,\n\t\t\t\t\t\t\t'##': 1\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\treturn _parse(inner, val, data, init, index);\n\t\t\t\t}\n\n\t\t\t\tif (! empty) {\n\t\t\t\t\t// Loop through objects and arrays\n\t\t\t\t\tif (isObject) {\n\t\t\t\t\t\tvar isPlainObject = W.$isObject(val),\n\t\t\t\t\t\t\tresp = '',\n\t\t\t\t\t\t\ti = 0;\n\n\t\t\t\t\t\tfor (var key in val) {\n\t\t\t\t\t\t\tif (val.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\t// Merge default properties\n\t\t\t\t\t\t\t\tvar el = val[key];\n\t\t\t\t\t\t\t\tempty = _isEmpty(el);\n\n\t\t\t\t\t\t\t\t// Process helpers\n\t\t\t\t\t\t\t\tif (! help.length ||\n\t\t\t\t\t\t\t\t\thelp.every(function(f) {\n\t\t\t\t\t\t\t\t\t\tvar rv = f[0].apply({\n\t\t\t\t\t\t\t\t\t\t\tval: el,\n\t\t\t\t\t\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\t\t\t\t\t\troot: init,\n\t\t\t\t\t\t\t\t\t\t\ttag: tag,\n\t\t\t\t\t\t\t\t\t\t\tempty: empty,\n\t\t\t\t\t\t\t\t\t\t\tindex: i\n\t\t\t\t\t\t\t\t\t\t}, _parseArgs(f[1], val));\n\n\t\t\t\t\t\t\t\t\t\tif (rv === false) {\n\t\t\t\t\t\t\t\t\t\t\treturn rv;\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif (rv !== true) {\n\t\t\t\t\t\t\t\t\t\t\tel = rv;\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t\t})) {\n\t\t\t\t\t\t\t\t\tvar item = W.$extend({}, W.$isObject(el) ?\n\t\t\t\t\t\t\t\t\t\t\tel :\n\t\t\t\t\t\t\t\t\t\t\t(isPlainObject ? val : {}),\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t$key: key,\n\t\t\t\t\t\t\t\t\t\t\t'.': el,\n\t\t\t\t\t\t\t\t\t\t\t'#': i,\n\t\t\t\t\t\t\t\t\t\t\t'##': i + 1\n\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\ti++;\n\n\t\t\t\t\t\t\t\t\tresp += _parse(inner, item, data, init, i);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn resp;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn inner;\n\t\t\t\t}\n\t\t\t}).replace(reg.single, function(m, set) {\n\t\t\t\tvar split = set.split('||'),\n\t\t\t\t\tfb = split[1],\n\t\t\t\t\tsegs = split[0].split('|'),\n\t\t\t\t\ttag = segs[0].trim(),\n\t\t\t\t\tval = _get(data, prev, tag, fb, init, index),\n\t\t\t\t\thelps = segs.length > 1 ? segs.slice(1) : segs;\n\n\t\t\t\t// Return empty string if output isn't available\n\t\t\t\tif (val === U || typeof val == 'object') {\n\t\t\t\t\tval = '';\n\t\t\t\t}\n\n\t\t\t\t// Process helpers\n\t\t\t\thelps.forEach(function(el, i) {\n\t\t\t\t\tvar arr = el.match(reg.ext);\n\t\t\t\t\thelps[i] = el.trim();\n\n\t\t\t\t\tif (arr) {\n\t\t\t\t\t\tvar helper = helpers[arr[1].trim()];\n\n\t\t\t\t\t\tif (helper && (segs.length > 1 ||\n\t\t\t\t\t\t\t! data.hasOwnProperty(tag))) {\n\t\t\t\t\t\t\tval = helper.apply({\n\t\t\t\t\t\t\t\tval: val,\n\t\t\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\t\t\troot: init,\n\t\t\t\t\t\t\t\ttag: tag,\n\t\t\t\t\t\t\t\tindex: index,\n\t\t\t\t\t\t\t\tfallback: fb\n\t\t\t\t\t\t\t}, _parseArgs(arr[2], data));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Encode output by default\n\t\t\t\tif (val === U) {\n\t\t\t\t\tval = '';\n\t\t\t\t} else if (typeof val == 'string') {\n\t\t\t\t\tif (helps.indexOf('raw') < 0) {\n\t\t\t\t\t\tval = val.replace(/&amp;/g, '&')\n\t\t\t\t\t\t\t.replace(/&/g, '&amp;')\n\t\t\t\t\t\t\t.replace(/</g, '&lt;')\n\t\t\t\t\t\t\t.replace(/>/g, '&gt;')\n\t\t\t\t\t\t\t.replace(/\"/g, '&quot;');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn val;\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Get specific object value\n\t\t *\n\t\t * @private\n\t\t * @param {object} data\n\t\t * @param {object} prev\n\t\t * @param {string} key\n\t\t * @param {string} fb\n\t\t * @param {object} init\n\t\t * @param {int} x\n\t\t * @returns {*}\n\t\t */\n\t\t_get = function(data, prev, key, fb, init, x) {\n\t\t\tkey = key.trim();\n\n\t\t\t// Alter context\n\t\t\tif (key.substr(0, 6) == '$root.') {\n\t\t\t\tkey = key.substr(6);\n\t\t\t\tdata = init;\n\t\t\t} else if (key.substr(0, 3) == '../') {\n\t\t\t\tkey = key.substr(3);\n\t\t\t\tdata = prev;\n\t\t\t}\n\n\t\t\tvar segs = key == '.' ? ['.'] : key.split('.'),\n\t\t\t\torig = data,\n\t\t\t\tlen = segs.length - 1,\n\t\t\t\ti = 0;\n\n\t\t\t// Loop through object segments\n\t\t\tfor (; i <= len; i++) {\n\t\t\t\tkey = segs[i];\n\n\t\t\t\tif (data && data.hasOwnProperty(key)) {\n\t\t\t\t\tdata = data[key];\n\n\t\t\t\t\t// Return value on last segment\n\t\t\t\t\tif (i === len) {\n\t\t\t\t\t\treturn data;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (key == '.') {\n\t\t\t\treturn data;\n\t\t\t}\n\n\t\t\t// Process fallback value\n\t\t\tif (fb && fb !== '') {\n\t\t\t\tfb = fb.trim();\n\t\t\t\tvar match = fb.match(reg.str);\n\n\t\t\t\tif (match) {\n\t\t\t\t\treturn fb.replace(reg.str, '')\n\t\t\t\t\t\t.replace(new RegExp(match[0] + '$'), '');\n\t\t\t\t}\n\n\t\t\t\treturn _get(orig, prev, fb, '', init, x);\n\t\t\t}\n\n\t\t\treturn fb;\n\t\t},\n\n\t\t/**\n\t\t * Parse helper arguments\n\t\t *\n\t\t * @private\n\t\t * @param {string} str\n\t\t * @returns {*}\n\t\t */\n\t\t_parseArgs = function(str, data) {\n\t\t\tvar args = str !== U ? str.match(reg.args) || [] : [];\n\n\t\t\treturn args.map(function(arg) {\n\t\t\t\targ = arg.trim();\n\n\t\t\t\tif (data && data.hasOwnProperty(arg) && isNaN(arg)) {\n\t\t\t\t\treturn data[arg];\n\t\t\t\t} else {\n\t\t\t\t\tvar match = arg.match(reg.str);\n\n\t\t\t\t\tif (match) {\n\t\t\t\t\t\treturn arg.replace(reg.str, '')\n\t\t\t\t\t\t\t.replace(new RegExp(match[0] + '$'), '');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn arg == 'true' ? true :\n\t\t\t\t\targ == 'false' ? false :\n\t\t\t\t\targ == 'null' ? null :\n\t\t\t\t\tparseInt(arg).toString() == arg ? parseInt(arg) :\n\t\t\t\t\t'';\n\t\t\t});\n\t\t};\n\n\tW.app = {\n\t\t/**\n\t\t * Application instance storage\n\t\t */\n\t\tfn: {},\n\n\t\t/**\n\t\t * Create an application\n\t\t *\n\t\t * @param {string} name\n\t\t * @param {object} [options]\n\t\t */\n\t\tmake: function(name, options) {\n\t\t\tvar sel = options.view,\n\t\t\t\ttarg = options.target,\n\t\t\t\tviews = W.$(targ || sel).map(function(el) {\n\t\t\t\t\treturn [el, targ ? sel : el.outerHTML];\n\t\t\t\t}),\n\t\t\t\tfn = function() {\n\t\t\t\t\tviews.forEach(function(view) {\n\t\t\t\t\t\tW.$setRef(\n\t\t\t\t\t\t\tW.view.diff(view[0], W.$parseHTML(\n\t\t\t\t\t\t\t\tW.view.render(view[1], options.model)\n\t\t\t\t\t\t\t), targ)\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\tfn();\n\n\t\t\t// Create a new application controller\n\t\t\tW.app.fn[name] = W._make(name, {}, false, options.model);\n\t\t\tW.app[name] = new W.app.fn[name]();\n\n\t\t\tW.$extend(W.app[name], {\n\t\t\t\t/**\n\t\t\t\t * Pause view updating\n\t\t\t\t */\n\t\t\t\t$pause: function() {\n\t\t\t\t\tW.app[name].$unobserve('*', fn);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Resume view updating\n\t\t\t\t *\n\t\t\t\t * @param {boolean} [update=false]\n\t\t\t\t */\n\t\t\t\t$resume: function(update) {\n\t\t\t\t\tW.app[name].$observe('*', fn);\n\n\t\t\t\t\tif (update) {\n\t\t\t\t\t\tfn();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Initialize app observation\n\t\t\tW.app[name].$resume();\n\n\t\t\treturn W.app[name];\n\t\t}\n\t};\n\n\tW.view = {\n\t\t/**\n\t\t * Parse data into template string\n\t\t *\n\t\t * @param {string} template\n\t\t * @param {object} [data]\n\t\t * @returns {string}\n\t\t */\n\t\trender: function(template, data) {\n\t\t\treturn _render(template, W.$extend(data));\n\t\t},\n\n\t\t/**\n\t\t * Add conditional template handler or tag data modifier\n\t\t *\n\t\t * @param {object|string} name\n\t\t * @param {function} [fn]\n\t\t */\n\t\taddHelper: function(name, fn) {\n\t\t\tW._extend(helpers, name, fn);\n\t\t},\n\n\t\t/**\n\t\t * Make partial available for injection into other templates\n\t\t *\n\t\t * @param {object|string} name\n\t\t * @param {string} [value]\n\t\t */\n\t\taddPartial: function(name, value) {\n\t\t\tW._extend(partials, name, value);\n\t\t},\n\n\t\t/**\n\t\t * Add view to store for on-demand reference\n\t\t *\n\t\t * @param {object|string} name\n\t\t * @param {string} [value]\n\t\t */\n\t\taddView: function(name, value) {\n\t\t\tW._extend(views, name, value);\n\t\t}\n\t};\n})(Wee, undefined);","/**\n * Copyright (c) 2015, Patrick Steele-Idem\n * https://github.com/patrick-steele-idem/morphdom\n *\n * Permission to use, copy, modify, and/or distribute this software for any\n * purpose with or without fee is hereby granted, provided that the above\n * copyright notice and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n * AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n * LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n * OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n * PERFORMANCE OF THIS SOFTWARE.\n */\n\n/* jshint maxdepth: 8 */\n\n(function(W, D) {\n\tvar specialElHandlers = {\n\t\t/**\n\t\t * Needed for IE. Apparently IE doesn't think\n\t\t * that \"selected\" is an attribute when reading\n\t\t * over the attributes using selectEl.attributes\n\t\t */\n\t\tOPTION: function(fromEl, toEl) {\n\t\t\tif (fromEl.selected == toEl.selected) {\n\t\t\t\tfromEl.setAttribute('selected', '');\n\t\t\t} else {\n\t\t\t\tfromEl.removeAttribute('selected');\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * The \"value\" attribute is special for the <input> element\n\t\t * since it sets the initial value. Changing the \"value\"\n\t\t * attribute without changing the \"value\" property will have\n\t\t * no effect since it is only used to the set the initial value.\n\t\t * Similar for the \"checked\" attribute.\n\t\t */\n\t\tINPUT: function(fromEl, toEl) {\n\t\t\tfromEl.checked = toEl.checked;\n\n\t\t\tif (fromEl.value != toEl.value) {\n\t\t\t\tfromEl.value = toEl.value;\n\t\t\t}\n\n\t\t\tif (! toEl.hasAttribute('checked')) {\n\t\t\t\tfromEl.removeAttribute('checked');\n\t\t\t}\n\n\t\t\tif (! toEl.hasAttribute('value')) {\n\t\t\t\tfromEl.removeAttribute('value');\n\t\t\t}\n\t\t},\n\n\t\tTEXTAREA: function(fromEl, toEl) {\n\t\t\tvar newValue = toEl.value;\n\n\t\t\tif (fromEl.value != newValue) {\n\t\t\t\tfromEl.value = newValue;\n\t\t\t}\n\n\t\t\tif (fromEl.firstChild) {\n\t\t\t\tfromEl.firstChild.nodeValue = newValue;\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Loop over all of the attributes on the target node and make sure the\n\t * original DOM node has the same attributes. If an attribute\n\t * found on the original node is not on the new node then remove it from\n\t * the original node\n\t *\n\t * @private\n\t * @param  {HTMLElement} fromNode\n\t * @param  {HTMLElement} toNode\n\t */\n\t_morphAttrs = function(fromNode, toNode) {\n\t\tvar attrs = toNode.attributes,\n\t\t\tfoundAttrs = {},\n\t\t\tattrName,\n\t\t\tattrValue,\n\t\t\tattr,\n\t\t\ti;\n\n\t\tfor (i = attrs.length - 1; i >= 0; i--) {\n\t\t\tattr = attrs[i];\n\n\t\t\tif (attr.specified !== false) {\n\t\t\t\tattrName = attr.name;\n\t\t\t\tattrValue = attr.value;\n\t\t\t\tfoundAttrs[attrName] = true;\n\n\t\t\t\tif (fromNode.getAttribute(attrName) !== attrValue) {\n\t\t\t\t\tfromNode.setAttribute(attrName, attrValue);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Delete any extra attributes found on the original DOM element\n\t\t// that weren't found on the target element\n\t\tattrs = fromNode.attributes;\n\n\t\tfor (i = attrs.length - 1; i >= 0; i--) {\n\t\t\tattr = attrs[i];\n\n\t\t\tif (attr.specified !== false) {\n\t\t\t\tattrName = attr.name;\n\n\t\t\t\tif (! foundAttrs.hasOwnProperty(attrName)) {\n\t\t\t\t\tfromNode.removeAttribute(attrName);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Copies the children of one DOM element to another\n\t *\n\t * @private\n\t * @param {HTMLElement} fromEl\n\t * @param {HTMLElement} toEl\n\t * @returns {HTMLElement}\n\t */\n\t_moveChildren = function(fromEl, toEl) {\n\t\tvar curChild = fromEl.firstChild;\n\n\t\twhile (curChild) {\n\t\t\tvar nextChild = curChild.nextSibling;\n\n\t\t\ttoEl.appendChild(curChild);\n\n\t\t\tcurChild = nextChild;\n\t\t}\n\n\t\treturn toEl;\n\t};\n\n\tW.view.diff = function(fromNode, toNode, replace) {\n\t\t// Used to store DOM elements with IDs\n\t\tvar savedEls = {},\n\t\t\tunmatchedEls = {},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t * @param {HTMLElement} node\n\t\t\t * @param {boolean} nestedInSavedEl\n\t\t\t */\n\t\t\tremoveNodeHelper = function(node, nestedInSavedEl) {\n\t\t\t\tvar id = node.id;\n\n\t\t\t\t// If the node has an ID then store it since we will want to\n\t\t\t\t// reuse it in case the target DOM tree has a DOM element with\n\t\t\t\t// the same ID\n\t\t\t\tif (id) {\n\t\t\t\t\tsavedEls[id] = node;\n\t\t\t\t}\n\n\t\t\t\tif (node.nodeType === 1) {\n\t\t\t\t\tvar curChild = node.firstChild;\n\n\t\t\t\t\twhile (curChild) {\n\t\t\t\t\t\tremoveNodeHelper(curChild, nestedInSavedEl || id);\n\n\t\t\t\t\t\tcurChild = curChild.nextSibling;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t * @param {HTMLElement} node\n\t\t\t */\n\t\t\twalkDiscardedChildNodes = function(node) {\n\t\t\t\tif (node.nodeType === 1) {\n\t\t\t\t\tvar curChild = node.firstChild;\n\n\t\t\t\t\twhile (curChild) {\n\t\t\t\t\t\tif (! curChild.id) {\n\t\t\t\t\t\t\t// Walk recursively\n\t\t\t\t\t\t\twalkDiscardedChildNodes(curChild);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcurChild = curChild.nextSibling;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t * @param {HTMLElement} node\n\t\t\t * @param {HTMLElement} parentNode\n\t\t\t * @param {boolean} alreadyVisited\n\t\t\t */\n\t\t\tremoveNode = function(node, parentNode, alreadyVisited) {\n\t\t\t\tparentNode.removeChild(node);\n\n\t\t\t\tif (alreadyVisited) {\n\t\t\t\t\tif (! node.id) {\n\t\t\t\t\t\twalkDiscardedChildNodes(node);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tremoveNodeHelper(node);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t * @param {HTMLElement} fromEl\n\t\t\t * @param {HTMLElement} toEl\n\t\t\t * @param {boolean} alreadyVisited\n\t\t\t */\n\t\t\tmorphEl = function(fromEl, toEl, alreadyVisited) {\n\t\t\t\tif (toEl.id) {\n\t\t\t\t\t// If an element with an ID is being morphed then it is\n\t\t\t\t\t// will be in the final DOM so clear it out of the saved\n\t\t\t\t\t// elements collection\n\t\t\t\t\tdelete savedEls[toEl.id];\n\t\t\t\t}\n\n\t\t\t\t// Don't process elements specifically exluded\n\t\t\t\tif (fromEl.hasAttribute('data-ignore')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t_morphAttrs(fromEl, toEl);\n\n\t\t\t\tif (fromEl.tagName != 'TEXTAREA') {\n\t\t\t\t\tvar curToNodeChild = toEl.firstChild,\n\t\t\t\t\t\tcurFromNodeChild = fromEl.firstChild,\n\t\t\t\t\t\tcurToNodeId,\n\t\t\t\t\t\tfromNextSibling,\n\t\t\t\t\t\ttoNextSibling,\n\t\t\t\t\t\tsavedEl,\n\t\t\t\t\t\tunmatchedEl;\n\n\t\t\t\t\touter: while (curToNodeChild) {\n\t\t\t\t\t\ttoNextSibling = curToNodeChild.nextSibling;\n\t\t\t\t\t\tcurToNodeId = curToNodeChild.id;\n\n\t\t\t\t\t\twhile (curFromNodeChild) {\n\t\t\t\t\t\t\tvar curFromNodeId = curFromNodeChild.id;\n\t\t\t\t\t\t\tfromNextSibling = curFromNodeChild.nextSibling;\n\n\t\t\t\t\t\t\tif (! alreadyVisited) {\n\t\t\t\t\t\t\t\tif (curFromNodeId && (unmatchedEl = unmatchedEls[curFromNodeId])) {\n\t\t\t\t\t\t\t\t\tunmatchedEl.parentNode.replaceChild(curFromNodeChild, unmatchedEl);\n\t\t\t\t\t\t\t\t\tmorphEl(curFromNodeChild, unmatchedEl, alreadyVisited);\n\n\t\t\t\t\t\t\t\t\tcurFromNodeChild = fromNextSibling;\n\n\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar curFromNodeType = curFromNodeChild.nodeType;\n\n\t\t\t\t\t\t\tif (curFromNodeType === curToNodeChild.nodeType) {\n\t\t\t\t\t\t\t\tvar isCompatible = false;\n\n\t\t\t\t\t\t\t\tif (curFromNodeType === 1) {\n\t\t\t\t\t\t\t\t\t// Both nodes being compared are Element nodes\n\t\t\t\t\t\t\t\t\tif (curFromNodeChild.tagName === curToNodeChild.tagName) {\n\t\t\t\t\t\t\t\t\t\t// We have compatible DOM elements\n\t\t\t\t\t\t\t\t\t\tif (curFromNodeId || curToNodeId) {\n\t\t\t\t\t\t\t\t\t\t\t// If either DOM element has an ID\n\t\t\t\t\t\t\t\t\t\t\t// then we handle those differently\n\t\t\t\t\t\t\t\t\t\t\t// since we want to match up by ID\n\t\t\t\t\t\t\t\t\t\t\tif (curToNodeId === curFromNodeId) {\n\t\t\t\t\t\t\t\t\t\t\t\tisCompatible = true;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tisCompatible = true;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif (isCompatible) {\n\t\t\t\t\t\t\t\t\t\t// We found compatible DOM elements so\n\t\t\t\t\t\t\t\t\t\t// transform the current \"from\" node\n\t\t\t\t\t\t\t\t\t\t// to match the current target DOM node\n\t\t\t\t\t\t\t\t\t\tmorphEl(curFromNodeChild, curToNodeChild, alreadyVisited);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else if (curFromNodeType === 3) {\n\t\t\t\t\t\t\t\t\t// Both nodes being compared are Text nodes\n\t\t\t\t\t\t\t\t\tisCompatible = true;\n\t\t\t\t\t\t\t\t\t// Simply update nodeValue on the original\n\t\t\t\t\t\t\t\t\t// node to change the text value\n\t\t\t\t\t\t\t\t\tcurFromNodeChild.nodeValue = curToNodeChild.nodeValue;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (isCompatible) {\n\t\t\t\t\t\t\t\t\tcurToNodeChild = toNextSibling;\n\t\t\t\t\t\t\t\t\tcurFromNodeChild = fromNextSibling;\n\n\t\t\t\t\t\t\t\t\tcontinue outer;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// No compatible match so remove the old node from\n\t\t\t\t\t\t\t// the DOM and continue trying to find a match in\n\t\t\t\t\t\t\t// the original DOM\n\t\t\t\t\t\t\tremoveNode(curFromNodeChild, fromEl, alreadyVisited);\n\t\t\t\t\t\t\tcurFromNodeChild = fromNextSibling;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (curToNodeId) {\n\t\t\t\t\t\t\tif ((savedEl = savedEls[curToNodeId])) {\n\t\t\t\t\t\t\t\tmorphEl(savedEl, curToNodeChild, true);\n\t\t\t\t\t\t\t\tcurToNodeChild = savedEl;\n\t\t\t\t\t\t\t\t// We want to append the saved element instead\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// The current DOM element in the target tree has an ID\n\t\t\t\t\t\t\t\t// but we did not find a match in any of the corresponding\n\t\t\t\t\t\t\t\t// siblings. We just put the target element in the old DOM tree\n\t\t\t\t\t\t\t\t// but if we later find an element in the old DOM tree that has\n\t\t\t\t\t\t\t\t// a matching ID then we will replace the target element\n\t\t\t\t\t\t\t\t// with the corresponding old element and morph the old element\n\t\t\t\t\t\t\t\tunmatchedEls[curToNodeId] = curToNodeChild;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If we got this far then we did not find a candidate match for our \"to node\"\n\t\t\t\t\t\t// and we exhausted all of the children \"from\" nodes. Therefore, we will just\n\t\t\t\t\t\t// append the current \"to node\" to the end\n\t\t\t\t\t\tfromEl.appendChild(curToNodeChild);\n\n\t\t\t\t\t\tcurToNodeChild = toNextSibling;\n\t\t\t\t\t\tcurFromNodeChild = fromNextSibling;\n\t\t\t\t\t}\n\n\t\t\t\t\t// We have processed all of the \"to nodes\". If\n\t\t\t\t\t// curFromNodeChild is non-null then we still have some from\n\t\t\t\t\t// nodes left over that need to be removed\n\t\t\t\t\twhile (curFromNodeChild) {\n\t\t\t\t\t\tfromNextSibling = curFromNodeChild.nextSibling;\n\t\t\t\t\t\tremoveNode(curFromNodeChild, fromEl, alreadyVisited);\n\t\t\t\t\t\tcurFromNodeChild = fromNextSibling;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar specialElHandler = specialElHandlers[fromEl.tagName];\n\n\t\t\t\tif (specialElHandler) {\n\t\t\t\t\tspecialElHandler(fromEl, toEl);\n\t\t\t\t}\n\t\t\t},\n\t\t\tmorphedNode = fromNode;\n\n\t\tif (replace) {\n\t\t\tvar el = fromNode.cloneNode();\n\n\t\t\t// Place fragment in container\n\t\t\tel.appendChild(toNode);\n\t\t\ttoNode = el;\n\t\t} else {\n\t\t\ttoNode = toNode.firstChild;\n\t\t}\n\n\t\tif (fromNode.tagName !== toNode.tagName) {\n\t\t\tmorphedNode = _moveChildren(fromNode, D.createElement(toNode.tagName));\n\t\t}\n\n\t\tif (morphedNode !== toNode) {\n\t\t\tmorphEl(morphedNode, toNode, false);\n\n\t\t\tfor (var savedElId in savedEls) {\n\t\t\t\tif (savedEls.hasOwnProperty(savedElId)) {\n\t\t\t\t\tvar savedEl = savedEls[savedElId];\n\t\t\t\t\twalkDiscardedChildNodes(savedEl);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (morphedNode !== fromNode && fromNode.parentNode) {\n\t\t\t// If we had to swap out the from node with a new node because the\n\t\t\t// old node was not compatible with the target node then we need to\n\t\t\t// replace the old DOM node in the original DOM tree. This is only\n\t\t\t// possible if the original DOM node was part of a DOM tree which\n\t\t\t// we know is the case if it has a parent node.\n\t\t\tfromNode.parentNode.replaceChild(morphedNode, fromNode);\n\t\t}\n\n\t\treturn morphedNode;\n\t};\n})(Wee, document);","(function(W, A) {\n\t'use strict';\n\n\t/**\n\t * Cast selection as Wee object\n\t *\n\t * @private\n\t * @param {($|HTMLElement|string)} sel\n\t * @param {($|HTMLElement|string)} [context=document]\n\t */\n\tvar Get = function(sel, context) {\n\t\t\tif (sel) {\n\t\t\t\tvar els = Array.isArray(sel) ?\n\t\t\t\t\t\tsel :\n\t\t\t\t\t\tW.$toArray(W.$(sel, context)),\n\t\t\t\t\ti = 0;\n\n\t\t\t\tfor (; i < els.length; i++) {\n\t\t\t\t\tvar el = els[i];\n\n\t\t\t\t\tif (el) {\n\t\t\t\t\t\tA.call(this, el);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.sel = sel;\n\t\t\t}\n\t\t},\n\t\t$;\n\n\t/**\n\t * Create chainable Wee object from selection\n\t *\n\t * @param {(HTMLElement|string)} sel\n\t * @param {object} [context=document]\n\t */\n\t$ = W._win[W._$] = function(sel, context) {\n\t\treturn new Get(sel, context);\n\t};\n\n\t// Extend core with chain registration method\n\tW.fn.extend({\n\t\t/**\n\t\t * Register a new chainable method\n\t\t *\n\t\t * @param {(object|string)} a - method name or object\n\t\t * @param {function} b\n\t\t */\n\t\t$chain: function(a, b) {\n\t\t\tif (typeof a == 'string') {\n\t\t\t\t$.fn[a] = b;\n\t\t\t} else {\n\t\t\t\tfor (var key in a) {\n\t\t\t\t\t$.fn[key] = a[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\t// Shortcut core methods from alias\n\tfor (var key in W) {\n\t\tvar val = W[key];\n\n\t\t$[key.replace(/^\\$/, '')] = W.$isFunction(val) ?\n\t\t\tval.bind(W) :\n\t\t\tval;\n\t}\n\n\t// Bind core chainable methods\n\t$.fn = Get.prototype = {\n\t\t_$: true,\n\t\tlength: 0,\n\n\t\t/**\n\t\t * Execute function for each object element\n\t\t *\n\t\t * @param fn\n\t\t * @param {object} [options]\n\t\t * @param {Array} [options.args]\n\t\t * @param {context} [options.context=document]\n\t\t * @param {bool} [options.reverse=false]\n\t\t * @param {Array} [options.scope]\n\t\t */\n\t\teach: function(fn, options) {\n\t\t\tW.$each(this, fn, options);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Translate object elements to a new array\n\t\t *\n\t\t * @param fn\n\t\t * @param {function} fn\n\t\t * @param {object} [options]\n\t\t * @param {Array} [options.args]\n\t\t * @param {object} [options.scope]\n\t\t * @returns {Array}\n\t\t */\n\t\tmap: function(fn, options) {\n\t\t\treturn W.$map(this, fn, options);\n\t\t},\n\n\t\t/**\n\t\t * Reverse the order of object elements\n\t\t *\n\t\t * @returns {$}\n\t\t */\n\t\treverse: function() {\n\t\t\tvar copy = W.$extend(this),\n\t\t\t\tx = this.length,\n\t\t\t\ttotal = x,\n\t\t\t\ti = 0;\n\n\t\t\tfor (; i < total; i++) {\n\t\t\t\tx--;\n\t\t\t\tthis[i] = copy[x];\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Add ref elements to datastore\n\t\t */\n\t\tsetRef: function() {\n\t\t\tW.$setRef(this);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Add metadata variables to datastore\n\t\t */\n\t\tsetVar: function() {\n\t\t\tW.$setVar(this);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Convert selection to standard array\n\t\t */\n\t\ttoArray: function() {\n\t\t\treturn W._slice.call(this);\n\t\t}\n\t};\n\n\t// Map shorthand registration method\n\t$.fn.extend = W.$chain;\n})(Wee, [].push);","(function(W) {\n\t'use strict';\n\n\tW.$chain({\n\t\t/**\n\t\t * Transition an attribute or property value\n\t\t *\n\t\t * @param {object} values\n\t\t * @param {object} [options]\n\t\t * @param {(Array|function|string)} [options.complete]\n\t\t * @param {number} [options.duration=400]\n\t\t * @param {string} [options.ease='ease']\n\t\t * @returns {$} selection\n\t\t */\n\t\ttween: function(values, options) {\n\t\t\tW.animate.tween(this, values, options);\n\n\t\t\treturn this;\n\t\t}\n\t});\n})(Wee);","(function(W, U) {\n\t'use strict';\n\n\tvar $ = W._win[W._$];\n\n\tW.$chain({\n\t\t/**\n\t\t * Append additional selection to Wee object\n\t\t *\n\t\t * @param {($|HTMLElement|string)} source\n\t\t * @returns {$}\n\t\t */\n\t\tadd: function(source) {\n\t\t\tvar orig = [],\n\t\t\t\ti = 0;\n\n\t\t\tfor (; i < this.length; i++) {\n\t\t\t\torig.push(this[i]);\n\t\t\t}\n\n\t\t\treturn $(W.$unique(orig.concat(W.$(source))));\n\t\t},\n\n\t\t/**\n\t\t * Add classes to each matching selection\n\t\t *\n\t\t * @param {(function|string)} value\n\t\t * @returns {$}\n\t\t */\n\t\taddClass: function(value) {\n\t\t\tW.$addClass(this, value);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Insert selection or markup after each matching selection\n\t\t *\n\t\t * @param {($|function|HTMLElement|string)} source\n\t\t * @param {boolean} [remove=false]\n\t\t * @returns {$}\n\t\t */\n\t\tafter: function(source, remove) {\n\t\t\tW.$after(this, source, remove);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Append selection or markup after each matching selection\n\t\t *\n\t\t * @param {($|function|HTMLElement|string)} source\n\t\t * @returns {$}\n\t\t */\n\t\tappend: function(source) {\n\t\t\tW.$append(this, source);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Append selection or markup to each matching selection\n\t\t *\n\t\t * @param {($|function|HTMLElement|string)} target\n\t\t * @returns {$}\n\t\t */\n\t\tappendTo: function(target) {\n\t\t\tW.$append(target, this);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Get attribute of first matching selection or set attribute\n\t\t * of each matching selection\n\t\t *\n\t\t * @param a\n\t\t * @param b\n\t\t * @returns {($|string)}\n\t\t */\n\t\tattr: function(a, b) {\n\t\t\tvar resp = W.$attr(this, a, b);\n\n\t\t\treturn b !== U || W.$isObject(a) ? this : resp;\n\t\t},\n\n\t\t/**\n\t\t * Insert selection or markup before each matching selection\n\t\t *\n\t\t * @param {($|function|HTMLElement|string)} source\n\t\t * @param {boolean} [remove=false]\n\t\t * @returns {$}\n\t\t */\n\t\tbefore: function(source, remove) {\n\t\t\tW.$before(this, source, remove);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Get unique direct children of each matching selection\n\t\t *\n\t\t * @param filter\n\t\t * @returns {$}\n\t\t */\n\t\tchildren: function(filter) {\n\t\t\treturn $(W.$children(this, filter));\n\t\t},\n\n\t\t/**\n\t\t * Clone each matching selection\n\t\t *\n\t\t * @returns {$}\n\t\t */\n\t\tclone: function() {\n\t\t\treturn $(W.$clone(this));\n\t\t},\n\n\t\t/**\n\t\t * Get unique closest ancestors of each matching selection\n\t\t *\n\t\t * @param filter\n\t\t * @returns {$}\n\t\t */\n\t\tclosest: function(filter) {\n\t\t\treturn $(W.$closest(this, filter));\n\t\t},\n\n\t\t/**\n\t\t * Determine if any matching parent selection contains descendant selection\n\t\t *\n\t\t * @param descendant\n\t\t * @returns {boolean}\n\t\t */\n\t\tcontains: function(descendant) {\n\t\t\treturn W.$contains(this, descendant);\n\t\t},\n\n\t\t/**\n\t\t * Get unique content of each matching selection\n\t\t *\n\t\t * @returns {$}\n\t\t */\n\t\tcontents: function() {\n\t\t\treturn $(W.$contents(this));\n\t\t},\n\n\t\t/**\n\t\t * Get CSS value of first matching selection or set value\n\t\t * of each matching selection\n\t\t *\n\t\t * @param {(object|string)} a\n\t\t * @param {(function|string)} [b]\n\t\t * @returns {($|string)}\n\t\t */\n\t\tcss: function(a, b) {\n\t\t\tvar r = W.$css(this, a, b);\n\n\t\t\treturn b !== U || W.$isObject(a) ? this : r;\n\t\t},\n\n\t\t/**\n\t\t * Get data of first matching selection or set data\n\t\t * of each matching selection\n\t\t *\n\t\t * @param a\n\t\t * @param [b]\n\t\t * @returns {($|string)}\n\t\t */\n\t\tdata: function(a, b) {\n\t\t\tvar resp = W.$data(this, a, b);\n\n\t\t\treturn b !== U || W.$isObject(a) ? this : resp;\n\t\t},\n\n\t\t/**\n\t\t * Remove child nodes from each matching selection\n\t\t *\n\t\t * @returns {$}\n\t\t */\n\t\tempty: function() {\n\t\t\tW.$empty(this);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Get indexed node of matching selection\n\t\t *\n\t\t * @param index\n\t\t * @returns {$}\n\t\t */\n\t\teq: function(index) {\n\t\t\treturn $(W.$eq(this, index));\n\t\t},\n\n\t\t/**\n\t\t * Return a filtered subset of elements from a matching selection\n\t\t *\n\t\t * @param filter\n\t\t * @returns {$}\n\t\t */\n\t\tfilter: function(filter) {\n\t\t\treturn $(W.$filter(this, filter));\n\t\t},\n\n\t\t/**\n\t\t * Get unique filtered descendants from each matching selection\n\t\t *\n\t\t * @param filter\n\t\t * @returns {$}\n\t\t */\n\t\tfind: function(filter) {\n\t\t\treturn $(W.$find(this, filter));\n\t\t},\n\n\t\t/**\n\t\t * Get the first element of a matching selection\n\t\t *\n\t\t * @returns {$}\n\t\t */\n\t\tfirst: function() {\n\t\t\treturn this.eq(0);\n\t\t},\n\n\t\t/**\n\t\t * Return node from Wee object at specific index\n\t\t *\n\t\t * @returns {HTMLElement}\n\t\t */\n\t\tget: function(index) {\n\t\t\treturn W.$eq(this, index);\n\t\t},\n\n\t\t/**\n\t\t * Determine if the matching selection has a class\n\t\t *\n\t\t * @param value\n\t\t * @returns {boolean}\n\t\t */\n\t\thasClass: function(value) {\n\t\t\treturn W.$hasClass(this, value);\n\t\t},\n\n\t\t/**\n\t\t * Get or set the height of each matching selection\n\t\t *\n\t\t * @param {(function|number|string)} value\n\t\t * @returns {($|number)}\n\t\t */\n\t\theight: function(value) {\n\t\t\tvar r = W.$height(this, value);\n\n\t\t\treturn value === U || value === true ? r : this;\n\t\t},\n\n\t\t/**\n\t\t * Hide each matching selection\n\t\t *\n\t\t * @returns {$}\n\t\t */\n\t\thide: function() {\n\t\t\tW.$hide(this);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Get inner HTML of first selection or set each matching selection's HTML\n\t\t *\n\t\t * @param {(function|string)} value\n\t\t * @returns {($|string)}\n\t\t */\n\t\thtml: function(value) {\n\t\t\tvar r = W.$html(this, value);\n\n\t\t\treturn value !== U ? this : r;\n\t\t},\n\n\t\t/**\n\t\t * Get the zero-based index of a matching selection relative\n\t\t * to it's siblings\n\t\t *\n\t\t * @returns {int}\n\t\t */\n\t\tindex: function() {\n\t\t\treturn W.$index(this);\n\t\t},\n\n\t\t/**\n\t\t * Insert each matching source selection element after\n\t\t * each matching target selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} source\n\t\t * @returns {$}\n\t\t */\n\t\tinsertAfter: function(source) {\n\t\t\tW.$insertAfter(this, source);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Insert each matching source selection element before\n\t\t * each matching target selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} source\n\t\t * @returns {$}\n\t\t */\n\t\tinsertBefore: function(source) {\n\t\t\tW.$insertBefore(this, source);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Determine if at least one matching selection matches\n\t\t * a specified criteria\n\t\t *\n\t\t * @param filter\n\t\t * @param [options]\n\t\t * @returns {boolean}\n\t\t */\n\t\tis: function(filter, options) {\n\t\t\treturn W.$is(this, filter, options);\n\t\t},\n\n\t\t/**\n\t\t * Get the last element of a matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} [context=document]\n\t\t * @returns {$}\n\t\t */\n\t\tlast: function(context) {\n\t\t\treturn $(W.$last(this, context));\n\t\t},\n\n\t\t/**\n\t\t * Get the unique next sibling of each matching selection\n\t\t *\n\t\t * @param filter\n\t\t * @param {object} [options]\n\t\t * @returns {$}\n\t\t */\n\t\tnext: function(filter, options) {\n\t\t\treturn $(W.$next(this, filter, options));\n\t\t},\n\n\t\t/**\n\t\t * Returns elements not matching the filtered selection\n\t\t *\n\t\t * @param filter\n\t\t * @param {object} [options]\n\t\t * @returns {$}\n\t\t */\n\t\tnot: function(filter, options) {\n\t\t\treturn $(W.$not(this, filter, options));\n\t\t},\n\n\t\t/**\n\t\t * Get the offset position of a matching selection relative to the document\n\t\t *\n\t\t * @param {(function|number)} value\n\t\t * @returns {number}\n\t\t */\n\t\toffset: function(value) {\n\t\t\treturn W.$offset(this, value);\n\t\t},\n\n\t\t/**\n\t\t * Get unique parent from each matching selection\n\t\t *\n\t\t * @returns {$}\n\t\t */\n\t\tparent: function(filter) {\n\t\t\treturn $(W.$parent(this, filter));\n\t\t},\n\n\t\t/**\n\t\t * Get unique ancestors of each matching selection\n\t\t *\n\t\t * @param filter\n\t\t * @returns {$}\n\t\t */\n\t\tparents: function(filter) {\n\t\t\treturn $(W.$parents(this, filter));\n\t\t},\n\n\t\t/**\n\t\t * Get the position of the first matching selection relative\n\t\t * to its offset parent\n\t\t *\n\t\t * @returns {{top, left}}\n\t\t */\n\t\tposition: function() {\n\t\t\treturn W.$position(this);\n\t\t},\n\n\t\t/**\n\t\t * Prepend selection or markup before each matching selection\n\t\t *\n\t\t * @param {($|function|HTMLElement|string)} source\n\t\t * @returns {$}\n\t\t */\n\t\tprepend: function(source) {\n\t\t\tW.$prepend(this, source);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Prepend selection or markup to each matching selection\n\t\t *\n\t\t * @param {($|HTMLElement|string)} target\n\t\t * @returns {$}\n\t\t */\n\t\tprependTo: function(target) {\n\t\t\tW.$prepend(target, this.reverse());\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Get the unique previous sibling of each matching selection\n\t\t *\n\t\t * @param filter\n\t\t * @param {object} [options]\n\t\t * @returns {$}\n\t\t */\n\t\tprev: function(filter, options) {\n\t\t\treturn $(W.$prev(this, filter, options));\n\t\t},\n\n\t\t/**\n\t\t * Get property of first matching selection or set property of\n\t\t * each matching selection\n\t\t *\n\t\t * @param a\n\t\t * @param b\n\t\t * @returns {($|string)}\n\t\t */\n\t\tprop: function(a, b) {\n\t\t\tvar r = W.$prop(this, a, b);\n\n\t\t\treturn b !== U || W.$isObject(a) ? this : r;\n\t\t},\n\n\t\t/**\n\t\t * Remove each matching selection from the document\n\t\t *\n\t\t * @returns {$}\n\t\t * @param {($|HTMLElement|string)} [context=document]\n\t\t */\n\t\tremove: function(context) {\n\t\t\tW.$remove(this, context);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Remove specified attribute of each matching selection\n\t\t *\n\t\t * @param {string} name\n\t\t * @returns {$}\n\t\t */\n\t\tremoveAttr: function(name) {\n\t\t\tW.$removeAttr(this, name);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Remove classes from each matching selection\n\t\t *\n\t\t * @param {(function|string)} value\n\t\t * @returns {$}\n\t\t */\n\t\tremoveClass: function(value) {\n\t\t\tW.$removeClass(this, value);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Replace each matching selection with selection or markup\n\t\t *\n\t\t * @param {($|HTMLElement|string)} source\n\t\t * @returns {$}\n\t\t */\n\t\treplaceWith: function(source) {\n\t\t\tW.$replaceWith(this, source);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Get or set the X scroll position of each matching selection\n\t\t *\n\t\t * @param value\n\t\t * @returns {($|number)}\n\t\t */\n\t\tscrollLeft: function(value) {\n\t\t\tvar r = W.$scrollLeft(this, value);\n\n\t\t\treturn value === U || value === true ? r : this;\n\t\t},\n\n\t\t/**\n\t\t * Get or set the Y scroll position of each matching selection\n\t\t *\n\t\t * @param value\n\t\t * @returns {($|number)}\n\t\t */\n\t\tscrollTop: function(value) {\n\t\t\tvar r = W.$scrollTop(this, value);\n\n\t\t\treturn value === U || value === true ? r : this;\n\t\t},\n\n\t\t/**\n\t\t * Serialize input values from first matching form selection\n\t\t *\n\t\t * @param {boolean} json\n\t\t * @returns {string}\n\t\t */\n\t\tserialize: function(json) {\n\t\t\treturn W.$serializeForm(this, json);\n\t\t},\n\n\t\t/**\n\t\t * Show each matching selection\n\t\t *\n\t\t * @returns {$}\n\t\t */\n\t\tshow: function() {\n\t\t\tW.$show(this);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Get unique siblings of each matching selection\n\t\t *\n\t\t * @param filter\n\t\t * @returns {$}\n\t\t */\n\t\tsiblings: function(filter) {\n\t\t\treturn $(W.$siblings(this, filter));\n\t\t},\n\n\t\t/**\n\t\t * Get subset of selection matches from specified range\n\t\t *\n\t\t * @param start\n\t\t * @param end\n\t\t * @returns {$}\n\t\t */\n\t\tslice: function(start, end) {\n\t\t\treturn $(W.$slice(this, start, end));\n\t\t},\n\n\t\t/**\n\t\t * Get inner text of first selection or set each matching selection's text\n\t\t *\n\t\t * @param {(function|string)} value\n\t\t * @returns {($|string)}\n\t\t */\n\t\ttext: function(value) {\n\t\t\tvar r = W.$text(this, value);\n\t\t\treturn value !== U ? this : r;\n\t\t},\n\n\t\t/**\n\t\t * Toggle the display of each matching selection\n\t\t *\n\t\t * @returns {$}\n\t\t */\n\t\ttoggle: function() {\n\t\t\tW.$toggle(this);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Toggle adding and removing class(es) from the specified element\n\t\t *\n\t\t * @param {(function|string)} className\n\t\t * @param {boolean} [state]\n\t\t * @returns {$}\n\t\t */\n\t\ttoggleClass: function(className, state) {\n\t\t\tW.$toggleClass(this, className, state);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Get value of first matching selection or set values of\n\t\t * each matching selection\n\t\t *\n\t\t * @param {(function|string)} value\n\t\t * @returns {($|string)}\n\t\t */\n\t\tval: function(value) {\n\t\t\tvar r = W.$val(this, value);\n\n\t\t\treturn value !== U ? this : r;\n\t\t},\n\n\t\t/**\n\t\t * Get or set the width of each matching selection\n\t\t *\n\t\t * @param {(function|number|string)} value\n\t\t * @returns {($|number)}\n\t\t */\n\t\twidth: function(value) {\n\t\t\tvar r = W.$width(this, value);\n\n\t\t\treturn value === U || value === true ? r : this;\n\t\t},\n\n\t\t/**\n\t\t * Wrap markup around each matching selection\n\t\t *\n\t\t * @param {(function|string)} html\n\t\t * @returns {$}\n\t\t */\n\t\twrap: function(html) {\n\t\t\tW.$wrap(this, html);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Wrap markup around the content of each matching selection\n\t\t *\n\t\t * @param {(function|string)} html\n\t\t * @returns {$}\n\t\t */\n\t\twrapInner: function(html) {\n\t\t\tW.$wrapInner(this, html);\n\n\t\t\treturn this;\n\t\t}\n\t});\n})(Wee, undefined);","(function(W, E) {\n\t'use strict';\n\n\tW.$chain({\n\t\t/**\n\t\t * Bind event(s) to selection\n\t\t *\n\t\t * @param {(object|string)} a - event name or object of events\n\t\t * @param {(function|object)} [b] - event callback or options object\n\t\t * @param {(object|string)} [c] - event options\n\t\t * @param {Array} [c.args] - callback arguments\n\t\t * @param {(HTMLElement|string)} [c.context=document]\n\t\t * @param {(HTMLElement|string)} [c.delegate]\n\t\t * @param {boolean} [c.once=false] - remove event after first execution\n\t\t * @param {object} [c.scope]\n\t\t * @returns {$} selection\n\t\t */\n\t\ton: function(a, b, c) {\n\t\t\tE.on(this, a, b, c);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Remove event(s) from selection\n\t\t *\n\t\t * @param {(object|string)} a - event name or object of events\n\t\t * @param {function} [b] - specific function to remove\n\t\t * @returns {$} selection\n\t\t */\n\t\toff: function(a, b) {\n\t\t\tE.off(this, a, b);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Get currently bound events to optional specified element and event|function\n\t\t *\n\t\t * @param {string} [event] - event name to match\n\t\t * @param {function} [fn] - specific function to match\n\t\t * @returns {Array} matches\n\t\t */\n\t\tbound: function(event, fn) {\n\t\t\treturn E.bound(this, event, fn);\n\t\t},\n\n\t\t/**\n\t\t * Execute bound event for each matching selection\n\t\t *\n\t\t * @param {string} name\n\t\t * @returns {$} selection\n\t\t */\n\t\ttrigger: function(name) {\n\t\t\tE.trigger(this, name);\n\n\t\t\treturn this;\n\t\t}\n\t});\n})(Wee, Wee.events);","(function(W) {\n\t'use strict';\n\n\tW.$chain({\n\t\t/**\n\t\t * Parse data into DOM selection\n\t\t *\n\t\t * @param {object} data\n\t\t * @returns {$} selection\n\t\t */\n\t\trender: function(data) {\n\t\t\tW.$each(this, function(el) {\n\t\t\t\tW.$html(el, W.view.render(W.$text(el), data));\n\t\t\t});\n\n\t\t\treturn this;\n\t\t}\n\t});\n})(Wee);","Wee.view.addView({\"welcome.todo\":\"<ul class=\\\"todo\\\">{{ #todo|each }}<li class=\\\"todo__item{{ #done }} -is-done{{ /done }}\\\"><div class=\\\"todo__toggle\\\" data-ref=\\\"toggle\\\" data-id=\\\"{{ # }}\\\"></div><span class=\\\"todo__label\\\">{{ label }}</span></li>{{ /todo }}</ul>\"});","Wee.fn.make('todo', {\n\tinit: function() {\n\t\tvar app = Wee.app.make('todo', {\n\t\t\tview: 'welcome.todo',\n\t\t\ttarget: 'ref:todo',\n\t\t\tmodel: {\n\t\t\t\ttodo: [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: 'Download and run Wee',\n\t\t\t\t\t\tdone: true\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: 'Explore the guide and welcome modules'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: 'Reset your project to a blank slate'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: 'Customize wee.json'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: 'Build something incredible'\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t});\n\n\t\t$('ref:toggle').on('click', function() {\n\t\t\tvar id = $(this).data('id'),\n\t\t\t\tdone = app.$get('todo.' + id + '.done');\n\n\t\t\tapp.$set('todo.' + id + '.done', done ? false : true);\n\t\t});\n\t}\n});\n\nWee.routes.map({\n\t'$root': 'todo'\n}, true);"]}